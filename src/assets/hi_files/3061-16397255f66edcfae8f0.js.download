(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[3061,3891],{61709:function(e,t,n){"use strict";n.d(t,{CT:function(){return w},Nm:function(){return f},Or:function(){return v},Pj:function(){return b},Wx:function(){return E},cL:function(){return y},kA:function(){return C},tl:function(){return T},wu:function(){return h},xJ:function(){return p},zZ:function(){return g}});var a,i,r,o,l,s,c,d,m,u,g=((a=g||{}).TEAM_VIDEOS_CONSUMED="TEAM_VIDEOS_CONSUMED",a.TEAM_VIDEOS_POSTED="TEAM_VIDEOS_POSTED",a.USER_LIBRARY="USER_LIBRARY",a.ADMIN_LOOMS_WATCHED_TIME="ADMIN_LOOMS_WATCHED_TIME",a.ADMIN_INTERACTIONS="ADMIN_INTERACTIONS",a.ADMIN_MEETINGS_SAVED="ADMIN_MEETINGS_SAVED",a.ADMIN_LOOMS_RECORDED="ADMIN_LOOMS_RECORDED",a),p=((i=p||{}).USER="USER",i.TEAM="TEAM",i.ADMIN="ADMIN",i),h=((r=h||{}).PLAIN="PLAIN",r.EMPHASIZED="EMPHASIZED",r),v=((o=v||{}).LAST_NINETY_DAYS="LAST_NINETY_DAYS",o.LAST_YEAR="LAST_YEAR",o.ALL_TIME="ALL_TIME",o),f=((l=f||{}).WEEK="WEEK",l.MONTH="MONTH",l.NINETY_DAYS="NINETY_DAYS",l),E=((s=E||{}).OLD_GEM="OLD_GEM",s.INFLUENTIAL="INFLUENTIAL",s.SINGLE_VIDEO="SINGLE_VIDEO",s.ONE_ON_ONE_LOOP="ONE_ON_ONE_LOOP",s),_=((c=_||{}).HOUR="hour",c.MINUTE="min",c),y=((d=y||{}).ASYNC_BEHAVIOR="ASYNC_BEHAVIOR",d),b=((m=b||{}).SPEECH_CLARITY="SPEECH_CLARITY",m),k=((u=k||{}).NUMBER_OF_WORDS="numberOfWords",u.NUMBER_OF_FILLER_WORDS="numberOfFillerWords",u.VIDEO_VIEW="videoView",u.VIDEO_REACTION="videoReaction",u.VIDEO_COMMENT="videoComment",u.VIEW_DURATION="viewDuration",u);let C=3,w=50,T={aiWizard:{background:"#B3359B",highlight:"#F7C7E1",body:"#ffffff",title:"AI Wizard",description:"Your productivity levels are absolutely magical. Your AI wizarding ways help you and your team save time and focus on what counts.",image:"https://cdn.loom.com/assets/marketing/email/badges/ai-wizard.png"},allStar:{background:"#565ADD",highlight:"#D1D1F7",body:"#ffffff",title:"All Star",description:"Do you have space for a trophy? You’ll need some. You’re a top user of Loom, and it shows. You use Loom to do your best work.",image:"https://cdn.loom.com/assets/marketing/email/badges/all-star.png"},eliteEditor:{background:"#41764D",highlight:"#E8F5E3",body:"#ffffff",title:"Elite Editor",description:"You have an editor’s eye. You dive into the details and make sure every edit enhances the quality of your video.",image:"https://cdn.loom.com/assets/marketing/email/badges/elite-editor.png"},sculptor:{background:"#41764D",highlight:"#E8F5E3",body:"#ffffff",title:"Elite Editor",description:"You have an editor’s eye. You dive into the details and make sure every edit enhances the quality of your video.",image:"https://cdn.loom.com/assets/marketing/email/badges/elite-editor.png"},partyStarter:{background:"#D46211",highlight:"#FDF3CD",body:"#ffffff",title:"Party Starter",description:"The party doesn’t start by itself — you’re the one that starts it. From emojis, to video replies, to stellar comments, you bring the hype.",image:"https://cdn.loom.com/assets/marketing/email/badges/party-starter.png"},scholar:{background:"#0C66E4",highlight:"#CCE9FF",body:"#ffffff",title:"Scholar",description:"Where there’s a question, you have a sage answer. Constantly taking in information from your team’s Looms, you’re always in the know.",image:"https://cdn.loom.com/assets/marketing/email/badges/scholar.png"},timeSaver:{background:"#565ADD",highlight:"#D1D1F7",body:"#ffffff",title:"Time Saver",description:"You’re the person that gets the job done. You cross those t’s, dot those i’s and save everyone time, while making their work better. Great job.",image:"https://cdn.loom.com/assets/marketing/email/badges/time-saver.png"}}},96367:function(e,t,n){"use strict";n.d(t,{Az:function(){return _},HM:function(){return b},Km:function(){return h},Q8:function(){return p},YJ:function(){return d},b:function(){return g},g_:function(){return f},hZ:function(){return v},u9:function(){return u}});var a,i,r,o,l,s,c,d=((a=d||{}).INVALID="INVALID",a.UNKNOWN="UNKNOWN",a.PENDING="PENDING",a.USER="USER",a.AUTO="AUTO",a),m=((i=m||{}).INVALID="INVALID",i.FINAL="FINAL",i.SPECULATIVE="SPECULATIVE",i),u=((r=u||{}).AUTO_GENERATED="AUTO_GENERATED",r.DEFAULT="DEFAULT",r.USER_EDITED_AUTO_GENERATED="USER_EDITED_AUTO_GENERATED",r.USER_EDITED_DEFAULT="USER_EDITED_DEFAULT",r.ATTEMPTED_AUTO_GENERATION="ATTEMPTED_AUTO_GENERATION",r);let g=["variant-openai","variant-openai-excluded"],p=["variant-chatgpt","variant-chatgpt-excluded","variant-excluded"],h="auto_cta";var v=((o=v||{}).UNSUPPORTED="unsupported",o.IN_PROGRESS="in_progress",o.SUCCESS="success",o.FAILURE="failure",o.NOT_STARTED="not_started",o),f=((l=f||{}).AUTO_GENERATION="AUTO_GENERATION",l.USER_EDITED="USER_EDITED",l.AUTO_GENERATION_FAILED="AUTO_GENERATION_FAILED",l),E=((s=E||{}).SOP="SOP",s.CODE_DOCS="CODE_DOCS",s.PR_DESCRIPTION="PR_DESCRIPTION",s.QA_STEPS="QA_STEPS",s.STEP_BY_STEP="STEP_BY_STEP",s.SUMMARY="SUMMARY",s.LOOM_CATEGORIZATION="LOOM_CATEGORIZATION",s);let _=259200;var y=((c=y||{}).MISSING_VIDEO="missing_video",c.MISSING_USER="missing_user",c.NOT_IN_EXPERIMENT="not_in_experiment",c.EXCLUDE_ENTERPRISE="reason_exclude_enterprise",c.INVALID_DURATION="invalid_duration",c.USER_SETTING_DISABLED="user_setting_disabled",c.WORKSPACE_SETTING_DISABLED="workspace_setting_disabled",c.UPLOAD_OR_TRIM="upload_or_trim",c.USER_EDITED="user_edited",c.AUTO_EDITED="auto_edited",c.NO_COMPLETION_TIME="no_completion_time",c.TIMEOUT="timeout",c.EMPTY_TRANSCRIPT="empty_transcript",c.MINIMUM_TRANSCRIPT_LENGTH="minimum_transcript_length",c.FAILED_TO_PARSE_MESSAGE="failed_to_parse_message",c.FAILED_ERROR_CODE="failed_error_code",c.NO_RESPONSE_STREAM="no_response_stream",c.USAGE_LIMIT="usage_limit",c.ADD_ON_PLAN="add_on_plan",c.NO_TASKS_DETECTED="no_tasks_detected",c.EMPTY_CHAPTERS="empty chapters",c.FAILED_FORMAT_CHAPTERS="failed to format video chapters with auto chapters",c.FAILED_FORMAT_NUDGES="failed to format video nudges with auto nudges",c.PRE_CALL_PROCESS_FAILED="pre_call_process_failed",c.POST_CALL_PROCESS_FAILED="post_call_process_failed",c.MEETING_VIDEO="meeting_video",c.ITX_UNHANDLED_ERROR="itx_unhandled_error",c.ITX_INVALID_LANGUAGE="itx_invalid_language",c.ITX_LARGE_FILE="itx_large_file",c.ITX_MANIFEST_MISMATCH="itx_manifest_mismatch",c.ITX_MANIFEST_NOT_RESOLVED="itx_manifest_not_resolved",c.ITX_SESSION_TERMINATED="itx_session_terminated",c);let b={add_on_plan:{description:"The user is not on the AI Add On plan. This is not an error, but rather the user is not in an eligible workspace."},auto_edited:{description:"The feature was already edited by the system automatically (not by the user). This is an error because the system should apply multiple edits to the feature."},empty_transcript:{description:"The video has an empty transcript. This is a catch all for many issues including: (1) no transcript was available yet by the time intelligence was processed, even after retries. (2) the video has no vocal audio (user does not talk, their microphone is on mute). (3) the video has no unintelligible audio, either quality or a non-supported language. (4) infrastructure failure in fetching the transcript from AWS S3, either from our end or AWS."},reason_exclude_enterprise:{description:"The video is in an enterprise account, and is excluded for this feature"},failed_error_code:{description:"The ChatGPT response has an error code. ChatGPT is likely down, or there is an invalid request being passed in (too many tokens, etc.)."},"failed to format video chapters with auto chapters":{description:"Video chapters were not parsable from the ChatGPT response, likely a malformed response."},"failed to format video nudges with auto nudges":{description:"Video nudges were not parsable from the ChatGPT response, likely a malformed response."},failed_to_parse_message:{description:"The ChatGPT response could not be parsed. This is most likely due to a malformed response from ChatGPT."},invalid_duration:{description:"The video is not long enough to be processed by this feature."},itx_invalid_language:{description:"The video is not in a supported language for this feature."},itx_large_file:{description:"The transcription process could not handle the recorded file size."},itx_manifest_mismatch:{description:"The transcription process found a problem in the recording manifest."},itx_manifest_not_resolved:{description:"The transcription process could not find the recording manifest."},itx_session_terminated:{description:"The transcription process waited too long for the recording completion."},itx_unhandled_error:{description:"Generic error during transcription."},minimum_transcript_length:{description:"The video has a transcript that is too short to be processed by this feature. Currently the limit is 150 characters, and this is enforced for all languages. This means denser languages by character length may require more more transcript to be available"},missing_user:{description:"The user could not be found, mostly likely something is down with the database preventing users from being fetched."},missing_video:{description:"The video could not be found, mostly likely it's been deleted or canceled before intelligence could be processed."},no_completion_time:{description:"The video has no known completion time, which means the timeout cannot be calculated."},no_response_stream:{description:"The ChatGPT response has no response stream. This is most due to an outage by ChatGPT preventing a streaming connection from being set up."},no_tasks_detected:{description:"ChatGPT did not detect any tasks in the video transcript. This is not necessarily a problem. Many, if not most recordings do not contain tasks."},not_in_experiment:{description:"The user is not in the experiment for this particular feature."},timeout:{description:"Intelligence took too long to process. Preventing any intelligence from overriding the results on the video."},upload_or_trim:{description:"The video is either an upload (v4) or a trim (v6), and is not eligible for this feature."},usage_limit:{description:"The user has used up their free AI Add On plan usage limit. This can be bumped in the admin console if needed"},user_edited:{description:"The feature was edited by the user before intelligence could be made available."},user_setting_disabled:{description:"The user has disabled this feature in their settings. This is not an error, but rather a user preference."},workspace_setting_disabled:{description:"The workspace has disabled this feature. This is not an error, but rather a setting from workspace admin."}}},63240:function(e,t,n){"use strict";n.d(t,{$m:function(){return i},cD:function(){return a},mN:function(){return r}});let a="highlightComment",i="highlightReply",r="highlightTask"},11893:function(e,t,n){"use strict";n.d(t,{$n:function(){return A},CN:function(){return E},HO:function(){return w},NOTIFICATION_URL_PARAMS:function(){return I},Q0:function(){return v},T5:function(){return W},Vq:function(){return F},Wf:function(){return h},Wy:function(){return O},XY:function(){return f},YU:function(){return y},_u:function(){return k},_x:function(){return S},bU:function(){return b},eX:function(){return T},fQ:function(){return V},k$:function(){return x},kh:function(){return z},n2:function(){return M},oo:function(){return C},qZ:function(){return _},tI:function(){return m},vy:function(){return B}});var a,i,r,o,l,s,c,d=n(58461),m=((a=m||{}).Mail="mail",a.Mobile="mobile",a.Web="web",a.Slack="slack",a.AtlassianNotifications="atlassianNotifications",a),u=((i=u||{}).CREATED="created",i.SENT="sent",i.DELIVERED="delivered",i.SEEN="seen",i.READ="read",i),g=((r=g||{}).SUCCESS="success",r.FAILURE="failure",r.NOOP="noop",r);let p="mail",h=(Object.values(m),"shared"),v="comments",f="all",E="InvalidStateError",_="granted",y="denied",b="prompt",k="device_unsupported",C="created",w="delivered",T="seen",S="read",I={reactor:"user_id_of_reactor",startAndPause:"start_and_pause"};var x=((o=x||{}).RetranscriptionSuccess="retranscription_success_notification",o.RetranscriptionFailure="retranscription_failure_notification",o.VideoTaskResponse="video_task_response_notification",o.VideoTaskMention="video_task_mention_notification",o.CalendarEfficiency="calendar_efficiency_notification",o.BusinessAiTrialWelcome="business_ai_trial_welcome",o.InsightsTimeSaved="insights_time_saved_notification",o.InsightsViewMilestone="insights_view_milestone_notification",o.VideoUsedAsWeaveClip="video_used_as_weave_clip",o.CommentReply="comment_reply_notification",o.FirstVideoView="first_video_view_notification",o.HighVideoViews="high_video_views_notification",o.WeaveFirstVideoView="weave_video_first_view",o.AddWatchLater="added_to_watch_later_notification",o.VideoComment="video_comment_notification",o.VideoReaction="video_reaction_notification",o.ContentLimitApproaching="content_limit_approaching_notification",o.ContentLimitReached="content_limit_reached_notification",o.CreatorLiteLimitApproaching="creator_lite_limit_approaching_notification",o.CreatorLiteLimitReached="creator_lite_limit_reached_notification",o.MembershipRoleChanged="membership_role_change_notification",o.WorkspaceInvitation="workspace_invitation_notification",o.ShareVideo="share_video_notification",o.ReshareVideo="reshare_video_notification",o.VideoPrivacyChange="video_privacy_change_notification",o.ExternalVideoIngestionProcessing="external_ingestion_processing_notification",o.ExternalVideoIngestionCompleted="external_ingestion_completed_notification",o.IngestionIntegrationEnabled="ingestion_integration_enabled_notification",o.SpaceInvitation="space_invitation_notification",o.SpaceContent="space_content_notification",o.SpaceAllHandsContent="space_all_hands_content_notification",o.SpaceAdminAction="space_admin_action_notification",o.SpaceStateChange="space_state_change_notification",o.SpaceVideoMoved="space_item_moved_notification",o.CommentMention="comment_mention_notification",o.PostCommentMention="post_comment_mention_notification",o.ReplyCommentMention="reply_comment_mention_notification",o.VideoReactionBundle="videoReactionBundle",o.RecordingNudgeAfterXViewsGiven="recording_nudge_after_x_views_given_notification",o.ReminderToRecord="reminder_to_record_notification",o.NewFollower="new_follower_notification",o.InsightsDigest="insights_digest_notification",o.InsightsMonthlyDigest="insights_monthly_digest_notification",o.WatchLaterReminder="watch_later_reminder_notification",o.SendWatchLaterReminderWeekdaysOnly="send_watch_later_reminder_weekdays_only_setting",o.OrgInviteAcceptedWithIncentives="org_invite_accepted_with_incentives",o),A=((l=A||{}).Reply="reply",l.Comment="comment",l.Reaction="reaction",l.FirstVideoView="vfv",l.WatchLater="watchList",l.ContentLimitApproaching="contentLimitApproaching",l.ContentLimitReached="contentLimitReached",l.CreatorLiteLimitApproaching="creatorLiteLimitApproaching",l.CreatorLiteLimitReached="creatorLiteLimitReached",l.MembershipRoleChange="membershipRoleChange",l.ShareVideo="shareVideo",l.ReshareVideo="reshareVideo",l.VideoPrivacyChange="videoPrivacyChange",l.PostCommentMention="postCommentMention",l.ReplyCommentMention="replyCommentMention",l.ExternalIngestionProcessing="externalIngestionProcessing",l.ExternalIngestionCompleted="externalIngestionCompleted",l.CommentMention="commentMention",l.WorkspaceInvitation="workspaceInvitation",l.NewFollower="newfollower",l.InsightsDigest="insightsDigest",l);let N="Video Reaction Push Notification Sent",P="Video Reaction Push Notif Click";var L=((s=L||{}).INSTANT="instant",s.NEXT_DAY="next_day",s.NEXT_DAY_SKIP_WEEKENDS="next_day_skip_weekends",s);let R={retranscription_success_notification:{type:"retranscription_success_notification",clientName:"retranscription_success_notification",sentEvent:"Retranscription success Push Notification Sent",webPushEvent:"Retranscription success Push Notification Clicked",canToggle:!0,deliveryMethods:[p,"web"],feature:d.L0.TranscriptExtraction},retranscription_failure_notification:{type:"retranscription_failure_notification",clientName:"retranscription_failure_notification",sentEvent:"Retranscription failure Push Notification Sent",webPushEvent:"Retranscription failure Push Notification Clicked",canToggle:!0,deliveryMethods:[p,"web"],feature:d.L0.TranscriptExtraction},video_task_response_notification:{type:"video_task_response_notification",clientName:"video_task_response_notification",sentEvent:"Video task response Push Notification Sent",webPushEvent:"Video task response Push Notification Clicked",canToggle:!0,deliveryMethods:[p,"web"],feature:d.L0.VideoTasks},video_task_mention_notification:{type:"video_task_mention_notification",clientName:"video_task_mention_notification",sentEvent:"Video task mention Push Notification Sent",webPushEvent:"Video task mention Push Notification Clicked",canToggle:!0,deliveryMethods:[p,"web"],feature:d.L0.VideoTasks},calendar_efficiency_notification:{type:"calendar_efficiency_notification",clientName:"calendar_efficiency_notification",sentEvent:"Calendar_efficiency Push Notification Sent",webPushEvent:"Calendar_efficiency Push Notification Clicked",canToggle:!1,deliveryMethods:[p,"web"],deliveryMethodOverrides:{},feature:d.L0.GrowthNotifications},business_ai_trial_welcome:{type:"business_ai_trial_welcome",clientName:"business_ai_trial_welcome",sentEvent:"Business_Ai_trial_welcome Push Notification Sent",webPushEvent:"Business_Ai_trial_welcome Push Notification Clicked",canToggle:!1,deliveryMethods:[p,"web"],deliveryMethodOverrides:{},feature:d.L0.BusinessTrial},insights_time_saved_notification:{type:"insights_time_saved_notification",clientName:"insights_time_saved_notification",sentEvent:"Insights_time_saved Push Notification Sent",webPushEvent:"Insights_time_saved Push Notification Clicked",canToggle:!1,deliveryMethods:["web"],deliveryMethodOverrides:{},feature:d.L0.InsightsHub},insights_view_milestone_notification:{type:"insights_view_milestone_notification",clientName:"insights_view_milestone_notification",sentEvent:"Insights_view_milestone Push Notification Sent",webPushEvent:"Insights_view_milestone Push Notification Clicked",canToggle:!0,deliveryMethods:["web"],deliveryMethodOverrides:{},feature:d.L0.InsightsHub},recording_nudge_after_x_views_given_notification:{type:"recording_nudge_after_x_views_given_notification",clientName:"recording_nudge_after_x_views_given_notification",sentEvent:"Recording_nudge_after_x_views_given Push Notification Sent",webPushEvent:"Recording_nudge_after_x_views_given Push Notification Clicked",canToggle:!1,deliveryMethods:[p,"web"],feature:d.L0.GrowthNotifications},video_used_as_weave_clip:{type:"video_used_as_weave_clip",clientName:"video_used_as_weave_clip",sentEvent:"Video Used as Weave Clip Notification",webPushEvent:"Video Used As Weave Clip Click",canToggle:!0,feature:d.L0.VideoEditing},comment_reply_notification:{type:"comment_reply_notification",clientName:"reply",sentEvent:"Comment Reply Push Notification Sent",webPushEvent:"Comment Reply Push Notif Click",canToggle:!0,feature:d.L0.Comments},content_limit_reached_notification:{type:"content_limit_reached_notification",clientName:"contentLimitReached",sentEvent:"Content Limit Reached Notification Sent",webPushEvent:"Reached Content Limit Notif Click",feature:d.L0.MemberLimits},creator_lite_limit_approaching_notification:{type:"creator_lite_limit_approaching_notification",clientName:"creatorLiteLimitApproaching",sentEvent:"Creator Lite Limit Approaching Notification Sent",webPushEvent:"Approaching Creator Lite Limit Notif Click",feature:d.L0.WorkspaceLimits},creator_lite_limit_reached_notification:{type:"creator_lite_limit_reached_notification",clientName:"creatorLiteLimitReached",sentEvent:"Creator Lite Limit Reached Notification Sent",webPushEvent:"Reached Creator Lite Limit Notif Click",feature:d.L0.WorkspaceLimits},first_video_view_notification:{type:"first_video_view_notification",clientName:"vfv",webPushEvent:"First Video View Push Notif Click",canToggle:!0,feature:d.L0.WorkspaceManagement},high_video_views_notification:{type:"high_video_views_notification",clientName:"high_video_views_notification",sentEvent:"High Video Views Notification Sent",webPushEvent:"High Video Views Notif Click",canToggle:!0},weave_video_first_view:{type:"weave_video_first_view",clientName:"weave_video_first_view",sentEvent:"Weave First Video View Push Notification Sent",webPushEvent:"Weave First Video View Push Notif Click",canToggle:!0,feature:d.L0.VideoEditing},video_comment_notification:{type:"video_comment_notification",clientName:"comment",webPushEvent:"Video Comment Push Notif Click",canToggle:!0,feature:d.L0.Comments},workspace_invitation_notification:{type:"workspace_invitation_notification",clientName:"workspaceInvitation",sentEvent:"Workspace Invitation Notification Sent",deliveryMethods:["mail"]},video_reaction_notification:{type:"video_reaction_notification",clientName:"reaction",sentEvent:N,webPushEvent:P,canToggle:!0,deliveryMethodOverrides:{[p]:!1},feature:d.L0.VideoReactions},membership_role_change_notification:{type:"membership_role_change_notification",clientName:"membershipRoleChange",sentEvent:"Membership Role Change Notification Sent",feature:d.L0.WorkspaceManagement},added_to_watch_later_notification:{type:"added_to_watch_later_notification",clientName:"watchList",sentEvent:"Added to Watch Later Push Notification Sent",webPushEvent:"Watch Later Push Notification Click",canToggle:!0,feature:d.L0.WatchLater},share_video_notification:{type:"share_video_notification",clientName:"shareVideo",sentEvent:"Video Share Push Notification Sent",webPushEvent:"Video Share Push Notif Click",canToggle:!0,iOSCategory:"watch-later"},reshare_video_notification:{type:"reshare_video_notification",clientName:"reshareVideo",sentEvent:"Video Re-share Push Notification Sent",webPushEvent:"Video Re-share Push Notif Click",canToggle:!0,deliveryMethodOverrides:{[p]:!1}},video_privacy_change_notification:{type:"video_privacy_change_notification",clientName:"videoPrivacyChange",sentEvent:"Video Privacy Change Push Notification Sent",webPushEvent:"Video Privacy Change Push Notif Click",canToggle:!0,deliveryMethodOverrides:{[p]:!1},feature:d.L0.VideoSettings},post_comment_mention_notification:{type:"post_comment_mention_notification",clientName:"postCommentMention",sentEvent:"Post Comment Mention Notification Sent",webPushEvent:"Comment Mention Push Notif Click",feature:d.L0.Comments},reply_comment_mention_notification:{type:"reply_comment_mention_notification",clientName:"replyCommentMention",sentEvent:"Reply Comment Mention Notification Sent",webPushEvent:"Reply Comment Mention Push Notif Click",feature:d.L0.Comments},external_ingestion_processing_notification:{type:"external_ingestion_processing_notification",clientName:"externalIngestionProcessing",sentEvent:"External Video Ingestion Processing Notification Sent",webPushEvent:"External Ingestion Processing Notif Click",canToggle:!0,feature:d.L0.VideoUpload},external_ingestion_completed_notification:{type:"external_ingestion_completed_notification",clientName:"externalIngestionCompleted",sentEvent:"External Video Ingestion Completed Notification Sent",webPushEvent:"External Ingestion Completed Notif Click",canToggle:!0,feature:d.L0.VideoUpload},ingestion_integration_enabled_notification:{type:"ingestion_integration_enabled_notification",clientName:"ingestion_integration_enabled_notification",sentEvent:"Ingestion Integration Enabled Notification Sent",webPushEvent:"Ingestion Integration Enabled Notif Click",feature:d.L0.WorkspaceManagement},space_invitation_notification:{type:"space_invitation_notification",clientName:"space_invitation_notification",sentEvent:"Space Invitation Notification Sent",webPushEvent:"Space Invitation Notification Click",canToggle:!0,feature:d.L0.Spaces},space_content_notification:{type:"space_content_notification",clientName:"space_content_notification",sentEvent:"New Space Content Notification Sent",webPushEvent:"New Space Content Notification Click",canToggle:!0,feature:d.L0.Spaces},space_all_hands_content_notification:{type:"space_all_hands_content_notification",clientName:"space_all_hands_content_notification",sentEvent:"New All Hands Space Content Notification Sent",webPushEvent:"New All Hands Space Content Notification Click",canToggle:!0,feature:d.L0.Spaces},space_admin_action_notification:{type:"space_admin_action_notification",clientName:"space_admin_action_notification",sentEvent:"New Space Admin Action Notification Sent",webPushEvent:"New Space Admin Action Notification Click",canToggle:!0,feature:d.L0.Spaces},space_state_change_notification:{type:"space_state_change_notification",clientName:"space_state_change_notification",sentEvent:"New Space State Change Notification Sent",webPushEvent:"New Space State Change Notification Click",canToggle:!0,feature:d.L0.Spaces},space_item_moved_notification:{type:"space_item_moved_notification",clientName:"space_item_moved_notification",sentEvent:"Space Video Moved Notification Sent",webPushEvent:"Space Video Moved Notification Click",feature:d.L0.Spaces},content_limit_approaching_notification:{type:"content_limit_approaching_notification",clientName:"contentLimitApproaching",sentEvent:"Content Limit Approaching Notification Sent",webPushEvent:"Approaching Content Limit Notif Click",feature:d.L0.MemberLimits},reminder_to_record_notification:{type:"reminder_to_record_notification",clientName:"reminder_to_record_notification",webPushEvent:"Reminder To Record Notif Click",canToggle:!0,feature:d.L0.RemindersToRecord},comment_mention_notification:{type:"comment_mention_notification",clientName:"commentMention",sentEvent:"Comment Mention Notification Sent",canToggle:!0,feature:d.L0.Comments},videoReactionBundle:{type:"videoReactionBundle",clientName:"reaction",sentEvent:N,webPushEvent:P,feature:d.L0.VideoReactions},new_follower_notification:{type:"new_follower_notification",clientName:"newfollower",sentEvent:"New follower Notification Sent",canToggle:!0,webPushEvent:"New follower Notification Click",feature:d.L0.Followers},insights_digest_notification:{type:"insights_digest_notification",clientName:"insightsDigest",sentEvent:"New Insights Digest Notification Sent",deliveryMethods:[p],canToggle:!0,webPushEvent:"New Insights Digest Notification Click",feature:d.L0.InsightsDigest},insights_monthly_digest_notification:{type:"insights_monthly_digest_notification",clientName:"insights_monthly_digest_notification",sentEvent:"New Insights Monthly Digest Notification Sent",deliveryMethods:[p],deliveryMethodOverrides:{mobile:!1,web:!1},canToggle:!0,webPushEvent:"New Insights Monthly Digest Notification Click",feature:d.L0.InsightsDigest},watch_later_reminder_notification:{type:"watch_later_reminder_notification",clientName:"watch_later_reminder_notification",sentEvent:"New Watch Later List Reminder Sent",canToggle:!0,feature:d.L0.WatchLater},send_watch_later_reminder_weekdays_only_setting:{type:"send_watch_later_reminder_weekdays_only_setting",clientName:"send_watch_later_reminder_weekdays_only_setting",canToggle:!0,feature:d.L0.WatchLater},org_invite_accepted_with_incentives:{type:"org_invite_accepted_with_incentives",clientName:"org_invite_accepted_with_incentives",canToggle:!1,feature:d.L0.IncentivesPage}};Object.values(x).filter(e=>!["videoReactionBundle","workspace_invitation_notification","comment_mention_notification","watch_later_reminder_notification","send_watch_later_reminder_weekdays_only_setting"].includes(e));var D=((c=D||{}).VideoReactionBundle="videoReactionBundle",c.SendWatchLaterReminderWeekdaysOnly="send_watch_later_reminder_weekdays_only_setting",c.PostCommentMention="post_comment_mention_notification",c.ReplyCommentMention="reply_comment_mention_notification",c.SpaceVideoMoved="space_item_moved_notification",c.ContentLimitApproaching="content_limit_approaching_notification",c.ContentLimitReached="content_limit_reached_notification",c.CreatorLiteLimitApproaching="creator_lite_limit_approaching_notification",c.CreatorLiteLimitReached="creator_lite_limit_reached_notification",c.MembershipRoleChanged="membership_role_change_notification",c.WorkspaceInvitation="workspace_invitation_notification",c.IngestionIntegrationEnabled="ingestion_integration_enabled_notification",c);Object.values(R).filter(({canToggle:e})=>e).map(({type:e})=>e),Object.values(R).map(({clientName:e})=>e);let O="comment_reply_notification",W="first_video_view_notification",V="video_comment_notification",F="video_reaction_notification",z="share_video_notification",B="reshare_video_notification",M="video_privacy_change_notification"},54136:function(e,t,n){"use strict";n.d(t,{Bj:function(){return r},Dv:function(){return E},HZ:function(){return g},Hw:function(){return a},Jd:function(){return m},LO:function(){return o},Ln:function(){return u},MR:function(){return l},U2:function(){return h},f:function(){return p},ig:function(){return s},kE:function(){return d},kU:function(){return v},mo:function(){return f},on:function(){return i},rT:function(){return c}});let a="started",i="ready_to_transcribe",r="in_progress",o="partial",l="success",s="failed",c="trimming",d="transcoding_failure",m="no_audio",u="short_duration",g="unsupported_language",p=[r,o,l,s,a,i,c,d,m,u,g],h=[s,d,m,u,g],v=[l,...h],f=[o,r,a,i,c],E=[o,l]},31727:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var a,i=((a=i||{}).name="name",a.companyName="company_name",a.variable="variable",a)},43386:function(e,t,n){"use strict";n.d(t,{getSlug:function(){return r}});var a=n(54513),i=n.n(a);let r=e=>{var t;return e?.id?[encodeURIComponent(i()(null!=(t=e?.name)?t:"",{strict:!0})||"folder"),e.id].join("-"):null}},3273:function(e,t,n){"use strict";n.d(t,{AB:function(){return p},KQ:function(){return _},dN:function(){return E},escapeSpecialChars:function(){return d},findPhraseIndex:function(){return s},findTranscriptSourceIndexes:function(){return c},fz:function(){return v},makeWordMatcher:function(){return m},tw:function(){return f}});var a=n(89856),i=n.n(a),r=n(27468),o=n.n(r),l=n(54136);let s=(e,t)=>{let n=t.length;if(e>=t[t.length-1].ts)return t.length-1;let a=0,i=n-1;for(;a<=i;){let n=a+(i-a)/2|0;if(t[n].ts<e)a=n+1;else{if(!(t[n].ts>e))return n;i=n-1}}return i<0?0:a>n-1?n:a<i?a:i},c=(e,t)=>{var n;let a=m(t),r=Array(e.length);for(let[t,i]of e.entries()){let e=[...i.value.matchAll(a)];r[t]=Array(e.length);let l=r[t];if(e.length>0){let t=o()(i.ranges,"start");for(let[a,i]of e.entries()){let e=i[1],r=(null!=(n=i.index)?n:0)+e.length;l[a]=t[r.toString()].source}}}return i()(r)},d=e=>e.replace(/[.*+?|()[\]{}\\$^]/g,"\\$&"),m=e=>RegExp("(\\b|^|\\s)(".concat(d(e),")(\\b|\\s|\\.|,|\\?|!|;|:|$)"),"gi"),u=RegExp("^(?:\\p{L}+|\\d+)((?:[\\p{L}\\d'-]*\\d*%?)|(?:(?:\\.\\w+)*\\.*\\w*))*$","gu"),g=/\*/,p=e=>{if(!e)return!1;let t=e.match(g);return!!(e.match(u)||t)},h=e=>{let t=Object.values(e).reduce((e,t)=>(e[t]=!0,e),{});return e=>!!t[e]},v=h(l.kU),f=h(l.mo),E=h(l.Dv),_=h(l.U2)},20389:function(e,t,n){"use strict";n.d(t,{L:function(){return r},Z:function(){return i}});var a=n(58038);let i=a.ZN,r=a.fv},46434:function(e,t,n){"use strict";n.d(t,{WB:function(){return E},wK:function(){return k}});var a=n(22947),i=n(72931),r=n(22562),o=n(9061),l=n(77848),s=n.n(l),c=n(26998),d=n(20600),m=n(23555),u=n(71846),g=n(66420),p=n(89895),h=n(33740),v=n(21924),f=n(52069);let E={color:"white",background_color:"orange",location:"Top right",border_radius:24,only_show_at_end_of_video:!1},_={"Top left":"top-left","Top right":"top-right","Bottom left":"bottom-left","Bottom right":"bottom-right"},y="Link text";function b(e){return e?_[e]:"top-right"}function k(e){if(e?.border_radius!==void 0&&e?.border_radius!==null)return e.border_radius;let t=(0,f.bM)(r.s8);return null!=t&&"number"==typeof(t=Number(t))?t:E.border_radius}function C(e){let t=e?.color||(0,f.bM)(r.aE)||(0,h.RvU)(E.color),n=e?.background_color||(0,f.bM)(r.w0)||(0,h.RvU)(E.background_color),a=k(e),i=e?.location||(0,f.bM)(r.x1)||E.location;return{color:t,background_color:n,border_radius:a,location:i}}let w=e=>{let{ctaMods:t,ctaUrl:n,ctaText:a,onClickHandler:i,forceTopRight:r=!1}=e,{color:o,background_color:l,border_radius:c,location:d}=C(t),m=r?"top-right":b(d),u=a&&a.length>0,p=n&&n.length>0,v=u&&p?{href:n&&(n.indexOf("http")>-1?n:`//${n}`)}:{};return g.createElement(h.zxk,{className:s()("cta-button cta-button-in-form",m),target:n&&"_blank",href:v?.href,onClick:i,style:{color:o,backgroundColor:l,borderRadius:`${c}px`},hasFullWidth:!0,htmlTag:"a"},u?a:g.createElement("span",{className:"call-to-action-placeholder"},y))},T=e=>{let{ctaMods:t,ctaUrl:n,ctaText:a,onClickHandler:i,forceTopRight:r=!1}=e,{color:o,background_color:l,border_radius:c,location:d}=C(t),m=r?"top-right":b(d),u=a&&a.length>0,p=n&&n.length>0,h=u&&p?{href:n&&(n.indexOf("http")>-1?n:`//${n}`)}:{};return g.createElement("a",{className:s()("cta-button cta-button-in-form",m),target:n&&"_blank",rel:"noopener noreferrer",onClick:i,style:{color:o,backgroundColor:l,borderRadius:`${c}px`},size:a?a.length:0,...h},u?a:g.createElement("span",{className:"call-to-action-placeholder"},y))};t.ZP=(0,p.$j)((e,t)=>{let{cta_mods:n,cta_text:a,cta_url:i}=e.share_video||{};return{ctaMods:n,ctaText:a,ctaUrl:(0,o.N)(i),onClick:t.onClick}})(({ctaMods:e,ctaText:t,ctaUrl:n,onClick:r})=>{let o=(0,c.useCurrentUserSelector)(e=>e.id,void 0),{video:{id:l,owner:{id:s}}}=(0,m.dPl)(),{parentLocation:p,fromPublicSharePage:h}=(0,u.K)(),f={ctaMods:e,ctaText:t,ctaUrl:n,onClickHandler:()=>{r&&r(),v.track(i.p91,{from_public_share_page:h,is_inline_embed_on_loom:!1,parent_location:p,video_id:l,owner_id:s,owner_click:s===o})}};return g.createElement(g.Fragment,null,g.createElement(d.z,{query:`(max-width: ${a.I0}px)`},g.createElement(w,{...f})),g.createElement(d.z,{query:`(min-width: ${a.Sx}px)`},g.createElement(T,{...f})))})},59727:function(e,t,n){"use strict";var a=n(3749),i=n(66420),r=n(69324),o=n(33740),l=Object.defineProperty,s=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t,n)=>s(e,"symbol"!=typeof t?t+"":t,n);class d extends i.Component{constructor(){super(...arguments),c(this,"state",{dragging:!1}),c(this,"handleDrop",e=>{this.setState({dragging:!1}),this.props.onDrop(e)})}render(){let{multiple:e=!1}=this.props,{dragging:t}=this.state;return i.createElement(r.Z,{className:"share-page-dropzone",disableClick:!0,multiple:e,disabled:!1,activeStyle:{zIndex:1e3,position:"absolute"},onDragEnter:()=>this.setState({dragging:!0}),onDragLeave:()=>this.setState({dragging:!1}),onDrop:this.handleDrop},i.createElement(i.Fragment,null,t&&i.createElement("div",{className:"share-page-drag-and-drop-overlay"},i.createElement("div",{className:"drag-and-drop-overlay-content p:xlarge"},i.createElement("div",{className:"flex pb:xlarge justify:center"},i.createElement(a.r,{color:"var(--lns-color-white)",size:13})),i.createElement(o.xvT,{size:"heading-md",color:"white",fontWeight:"bold",alignment:"center"},"Drop here!")))))}}t.Z=d},10138:function(e,t,n){"use strict";let a;n.d(t,{AE:function(){return m},E3:function(){return d},b$:function(){return l},h$:function(){return s},rw:function(){return o},wK:function(){return c}});var i=n(72931),r=n(21924);let o=e=>r.track(i.xtc,{videoId:e}),l=()=>r.track(i.t9H,{videoId:a}),s=()=>r.track(i.EKp,{videoId:a}),c=()=>r.track(i.Cjz,{videoId:a}),d=()=>r.track(i.FRC,{videoId:a}),m=(e={})=>r.track(i.zRL,{videoId:a,...e})},3894:function(e,t,n){"use strict";n.d(t,{Dg:function(){return y},UZ:function(){return w},Wd:function(){return C},iF:function(){return I},uV:function(){return k}});var a=n(77848),i=n.n(a),r=n(23555),o=n(60152),l=n(2658),s=n(89169),c=n(66420),d=n(73845),m=n(38984),u=n(33740),g=n(71193),p=n(14182),h=n(96480),v=n(80686),f=n(88609),E=n(72232);let{secondsToVideoTS:_}=h,y=({user:e={avatar:null,name:null},events:t=[]})=>{let n=t.filter(e=>["comment","reply"].includes(e.type)),a=t.filter(e=>"reaction"===e.type);return c.createElement("article",{className:E.Z.viewerInfo},c.createElement(k,{avatar:e.avatar,name:e.name}),c.createElement("div",null,c.createElement(C,{...e}),c.createElement(l.Z,{name:v.L7},c.createElement(u.yeS,{gap:"medium",alignment:"center"},c.createElement(b,{type:"comment",items:n||[]}),c.createElement(b,{type:"reaction",items:a||[]})))))},b=({type:e,items:t=[]})=>{let n=t.length;return c.createElement(u.yeS,{alignment:"center",gap:"xsmall"},c.createElement(u.JO$,{icon:c.createElement("comment"===e?g.j:p.x,null),size:2,color:"bodyDimmed"}),c.createElement(u.xvT,{color:"bodyDimmed"},n))},k=e=>{let t=e.avatar&&(0,d.FQ)(e.avatar),n=name,a=n!==f.Iv&&n;return c.createElement(s.Z,{avatarSize:e.size??4,avatarSrc:t,name:a,"data-test-id":t||a?void 0:"test-anonAvatar"})},C=e=>c.createElement("div",null,c.createElement(u.xvT,{fontWeight:"bold",htmlTag:"h3"},e.name?e.name:"Anonymous")),w=e=>c.createElement(c.Fragment,null,e.views.map((e,t)=>{let n=Number(e),a=(0,m.VR)(n,"MMMM do, yyyy h:mma");return c.createElement(u.xvT,{variant:"body",key:t},c.createElement("time",null,a))})),T=({emojiIcon:e,evt:t,action:n,playVideoAt:a})=>c.createElement("div",{className:i()(E.Z.eventItem,E.Z.isClickable),onClick:a(t.ts)},e,n,c.createElement("time",null,_(t.ts))),S=({label:e,emojiUnicode:t})=>c.createElement("span",{className:E.Z.emoji,"aria-label":e},t),I=({events:e=[]})=>{let t=(0,r.n_$)(),{getEmojiUnicodeByName:n}=(0,o.C)(),a={comment:"Commented at",reaction:"Reacted at",reply:"Replied at"};if(!e.length)return null;let i=e=>()=>{t&&(t.currentTime=e)};return c.createElement("div",{className:"px:small py:medium bgc:backgroundSecondary radius:medium"},c.createElement("div",{className:"px:small mb:small"},c.createElement(u.xvT,{fontWeight:"bold"},"Activity")),[...e].sort(x).map((e,t)=>{let r=a[e.type],o=r===a.reaction,l=o?function({getEmojiUnicodeByName:e,action:t,evt:n}){let a=n.content,i=`${t} ${_(n.ts)}`;return c.createElement(S,{label:i,emojiUnicode:e(a)})}({getEmojiUnicodeByName:n,action:r,evt:e}):null;return o&&null===l?null:c.createElement(T,{key:t,emojiIcon:l,evt:e,action:r,playVideoAt:i})}))};function x({ts:e},{ts:t}){return e>t?1:t>e?-1:0}},67491:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(66420);function i(e,t,n=.1){(0,a.useEffect)(()=>{if(!e.current)return;let a=new IntersectionObserver(e=>{e.some(e=>e.isIntersecting)&&t()},{threshold:n});return e.current&&a.observe(e.current),()=>a.disconnect()},[e,t,n])}},93563:function(e,t,n){"use strict";n.d(t,{CX:function(){return l},DD:function(){return r},k7:function(){return d},tX:function(){return c},wp:function(){return s},wu:function(){return o}});var a=n(31744);let i=e=>e.editor,r=(0,a.P1)(i,e=>e.thumbnail_flow),o=(0,a.P1)(i,e=>e?.cta_flow),l=(0,a.P1)(i,e=>e?.thumbnail_data.thumbnail_local),s=(0,a.P1)(i,e=>e?.thumbnail_data.uploading),c=(0,a.P1)(i,e=>e?.thumbnail_data.initiate_save),d=(0,a.P1)(i,e=>e?.thumbnail_data.og_dims)},65559:function(e,t,n){"use strict";n.d(t,{$z:function(){return P},Ap:function(){return f},DN:function(){return E},Dl:function(){return A},IK:function(){return v},Rr:function(){return s},Se:function(){return C},TS:function(){return u},eq:function(){return g},iO:function(){return I},kU:function(){return S},kW:function(){return m},mT:function(){return N},nM:function(){return d},pq:function(){return x},uA:function(){return k},uM:function(){return b},ub:function(){return L},wG:function(){return y},x5:function(){return p},xD:function(){return _},yg:function(){return h},zh:function(){return T}});var a=n(31744),i=n(3273),r=n(62085),o=n(61435);let l=e=>e.transcription,s=(0,a.P1)(l,e=>e.transcript),c=(0,a.P1)(o.z8,e=>e.transcriptSearch),d=(0,a.P1)(c,e=>e.isTranscriptSearchOpen),m=(0,a.P1)(c,e=>e.transcriptSearchPhrase),u=(0,a.P1)(c,e=>e.transcriptSearchInputValue),g=(0,a.P1)(c,e=>e.transcriptSearchPhraseIndexArray),p=(0,a.P1)(c,e=>e.currentSearchIndex),h=(0,a.P1)(l,e=>e.selectedElementSource),v=(0,a.P1)(l,e=>e.editedRowIndex),f=(0,a.P1)(l,e=>e.hoveredRowIndex),E=(0,a.P1)(o.z8,e=>e.transcriptPanelMode),_=(0,a.P1)(l,e=>e.isPopupOpen),y=(0,a.P1)(l,e=>e.textToCorrect),b=(0,a.P1)(l,e=>e.selectedOccurrenceIndex),k=(0,a.P1)(d,E,(e,t)=>!e&&t===r.SO),C=(0,a.P1)(d,E,(e,t)=>!e&&t===r.Mx),w=(0,a.P1)(o.z8,e=>e.transcript_details),T=s,S=(0,a.P1)(l,e=>e.transcriptWithLocalCorrections),I=(0,a.P1)(l,e=>e.transcriptCorrectionMessage),x=(0,a.P1)(l,e=>e.correctionsEnabled),A=(0,a.P1)(w,e=>e.transcription_status),N=(0,a.P1)(w,e=>e.language),P=(0,a.P1)(o.z8,e=>e.retranscription_status),L=(0,a.P1)(A,e=>e&&!(0,i.KQ)(e))},75658:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var a=n(22574),i=n(54581);let r=e=>new Promise((t,n)=>{e.type!==i.b2&&n("Only .csv uploads supported");let r=new FileReader;r.onload=()=>{(0,a.Qc)(r.result,(e,a)=>{if(e)return n(e);t(a)})},r.readAsBinaryString(e)})},42930:function(e,t,n){"use strict";function a(e,t){return n=>{try{t&&t(n)}finally{e&&e(n)}}}n.d(t,{a:function(){return a}})},44668:function(e,t,n){"use strict";n.d(t,{gN:function(){return r},vE:function(){return s},o5:function(){return c},Gy:function(){return d},_s:function(){return u},Qy:function(){return g},e5:function(){return p},UZ:function(){return v},Wy:function(){return f},QB:function(){return _},E9:function(){return y},pg:function(){return h},Qv:function(){return E},l0:function(){return k},RV:function(){return C},Zq:function(){return w},cI:function(){return T}});var a=n(66420),i={"loom-form":"loom-form_loom-form_3X-",form_field:"loom-form_form_field_2Zf","form_field-group":"loom-form_form_field-group_KIa",form_fieldset:"loom-form_form_fieldset_Ddy","form_inline-error":"loom-form_form_inline-error_3m3",form_field_vertical:"loom-form_form_field_vertical_2JE",form_field_horizontal:"loom-form_form_field_horizontal_RJL"};let r=({children:e,variant:t="vertical"})=>"horizontal"===t?a.createElement("div",{className:`${i.form_field} ${i.form_field_horizontal}`},e):a.createElement("div",{className:`${i.form_field} ${i.form_field_vertical}`},e);var o=n(28256),l=n(33740);function s(e){let{rules:t,shouldUnregister:n,defaultValue:i,name:r,...s}=e,c=(0,o.Gc)(),d=e.control||c.control,{isIndeterminate:m,...u}=s,g=u.value,p=a.useRef(null),[h,v]=a.useState(!!d&&"boolean"==typeof i&&i),[f,E]=a.useState(!!(d&&m&&null==i)),{field:_}=(0,o.bc)({name:r,control:e.control||void 0,rules:t,shouldUnregister:n,defaultValue:i});return a.createElement(l.XZJ,{..._,...u,ref:p,"aria-describedby":`${r}-field-error`,isChecked:!!_.value,onChange:()=>{m?h?(v(!1),E(!0),_.onChange(null)):f?(v(!1),E(!1),_.onChange(!1)):(v(!0),E(!1),_.onChange(g||!0)):(v(!_.value),g?_.onChange(_.value?void 0:g):_.onChange(!_.value))}})}let c=({children:e})=>a.createElement("div",{className:`${i["form_field-group"]}`},e);function d(e){let{fieldState:t,formState:n}=(0,o.bc)(e);return(n.isSubmitted||t.isTouched)&&t.error?a.createElement(l.xvT,{id:`${name}-field-error`,className:"loom-form-inline-error",color:"red",size:"body-md"},t.error&&t.error.message):null}var m=n(42930);function u({...e}){let{rules:t,shouldUnregister:n,defaultValue:i,name:r,...s}=e,{field:c,fieldState:d,formState:u}=(0,o.bc)({name:r,control:e.control||void 0,rules:t,shouldUnregister:n,defaultValue:i}),g=!!d.error&&(d.isTouched||u.isSubmitted);return a.createElement(l.oil,{...c,...s,"aria-invalid":d.invalid?"true":"false","aria-describedby":`${r}-field-error`,hasError:g,onChange:(0,m.a)(s.onChange,c.onChange),onBlur:(0,m.a)(s.onBlur,c.onBlur)})}let g=({children:e,...t})=>a.createElement("label",{...t},e);function p(e){let{name:t,value:n,...i}=e,{field:r}=(0,o.bc)(e);return a.createElement(l.Y8K,{...i,...r,css:null,value:n,isChecked:r.value===n,"aria-describedby":`${t}-field-error`})}let h=({children:e})=>a.createElement("fieldset",{className:`${i.form_fieldset}`,style:{border:0}},e);function v({name:e,control:t,rules:n,children:i}){return(0,o.bc)({name:e,control:t,rules:n}),a.createElement(h,null,i)}function f(e){let{rules:t,shouldUnregister:n,defaultValue:i,name:r,...s}=e,{field:c,fieldState:d}=(0,o.bc)({name:r,control:e.control||void 0,rules:t,shouldUnregister:n,defaultValue:i}),{onChange:u,ref:g,...p}=c;return a.createElement(l.PhF,{...p,...s,"aria-invalid":d.error?"true":"false","aria-describedby":`${r}-field-error`,selectedOptionValue:c.value,onChange:e=>{(0,m.a)(s.onChange,c.onChange)(e.value)}})}let E=({children:e})=>a.createElement("legend",null,e);function _(e){let{name:t,...n}=e,{field:i}=(0,o.bc)(e);return a.createElement(l.rsf,{...n,isActive:i.value,"aria-describedby":`${t}-field-error`,onChange:e=>{(0,m.a)(n.onChange,i.onChange)(!i.value)}})}function y(e){let{rules:t,shouldUnregister:n,defaultValue:i,name:r,...s}=e,{field:c,fieldState:d}=(0,o.bc)({name:r,control:e.control||void 0,rules:t,shouldUnregister:n,defaultValue:i});return a.createElement(l.gxH,{...c,...s,"aria-invalid":d.invalid?"true":"false","aria-describedby":`${r}-field-error`})}function b(e){let t=a.useRef();return a.useEffect(()=>{t.current=e}),t.current}function k({children:e,...t}){let n=a.useRef(null),{isSubmitting:r,isValidating:l,isValid:s}=(0,o.cl)({control:t.control||void 0}),c=b(l),d=b(r);return a.useEffect(()=>{if(d&&!c&&!s){let e=n.current;if(e){let t=e.querySelector('[aria-invalid="true"]');t&&(t.scrollIntoView&&t.scrollIntoView({behavior:"smooth"}),t.focus())}}},[d,c,s]),a.createElement("form",{ref:n,className:`${i["loom-form"]}`,...t},e)}let C=o.RV;function w({disabled:e,loader:t,...n}){return a.createElement(l.zxk,{type:"submit",disabled:e,isDisabled:e,hasLoader:t,...n})}let T=e=>(0,o.cI)({...e,shouldFocusError:!1})},64131:function(e,t,n){"use strict";n.d(t,{o:function(){return _}});var a=n(77848),i=n.n(a),r=n(16089),o=n.n(r),l=n(66420),s=n(50806),c=n(94713);let d=/(?:^|[(['"<]|\s)(@([^@]*))$/;var m=n(89169),u=n(33740),g=n(73561),p=n(15709);let h={google:l.createElement(g._,null),slack:l.createElement(p.w,null)},v=({user:e})=>{let{avatar:t,source:n,display:a,email:i}=e,r=a.trim();return 0===r.length?r=i:-1===r.indexOf(" ")&&(r=`${r} (${i})`),l.createElement(u.ggW,{justifyContent:"start",alignItems:"center",gap:"small",columns:["24px","1fr","24px"]},l.createElement(m.Z,{avatarSrc:t,name:a,avatarSize:3}),l.createElement(u.xvT,{size:"body-md",fontWeight:"bold",color:"white"},r),l.createElement(u.JO$,{altText:n,icon:h[n],size:2}))};var f={mentionWrapper:"autoresize-mention-textarea_mentionWrapper_38n",mentionWrapper__control:"autoresize-mention-textarea_mentionWrapper__control_KLO",mentionWrapper__highlighter:"autoresize-mention-textarea_mentionWrapper__highlighter_2IJ",mentionWrapper__input:"autoresize-mention-textarea_mentionWrapper__input_2ut",mentionWrapper__suggestions__list:"autoresize-mention-textarea_mentionWrapper__suggestions__list_1Yg",mentionWrapper__suggestions__item:"autoresize-mention-textarea_mentionWrapper__suggestions__item_25q","mentionWrapper__suggestions__item--focused":"autoresize-mention-textarea_mentionWrapper__suggestions__item--focused_3O_",endOfVideoNudge:"autoresize-mention-textarea_endOfVideoNudge_1bZ",error:"autoresize-mention-textarea_error_1V5",empty:"autoresize-mention-textarea_empty_2bD",mention:"autoresize-mention-textarea_mention_5Ms",forceMentionMenuAboveInput:"autoresize-mention-textarea_forceMentionMenuAboveInput_i8K",withAiNudges:"autoresize-mention-textarea_withAiNudges_2Ui"};let{MAX_COMMENT_SERVER_LENGTH:E}=c,_=({dataTestId:e="",fetch:t,forceMentionMenuAboveInput:n=!1,hasError:a=!1,id:r,isEndOfVideoNudge:c,onBlur:m,onChange:u,onFocus:g,onKeyDown:p,placeholder:h,shouldHighlight:_=!1,shouldIncreaseCommentInputHeight:y=!1,textRef:b,value:k,singleLine:C=!1})=>{let w=(0,l.useCallback)(o()(async(e,n)=>{if(!b.current)return;let a=b.current.getBoundingClientRect().top,i=Math.ceil(a/70);i=Math.min(i,10);let r=await t(e,i);n(r)},275),[t]);return(0,l.useEffect)(()=>()=>{w.cancel()},[w]),l.createElement(s.r,{allowSpaceInQuery:!0,allowSuggestionsAboveCursor:!0,className:i()("mentionWrapper",!_&&"empty",c&&"endOfVideoNudge",a&&"error",n&&"forceMentionMenuAboveInput",y&&"withAiNudges"),classNames:f,inputRef:b,onChange:u,onFocus:g,onBlur:m,onKeyDown:p,value:k,placeholder:h,"data-testid":[e],id:r,maxLength:E,style:{resize:"none",maxHeight:C?"30px":"",top:C?"-2px":""}},l.createElement(s.p,{appendSpaceOnAdd:!0,className:f.mention,data:w,displayTransform:(e,t)=>`@${t}`,markup:"@[__display__](__id__)",renderSuggestion:e=>{let t=l.createElement(v,{user:e});if(!b||!b.current)return t;let n=b.current.parentElement?.nextElementSibling;if(!n)return t;let a=n.firstElementChild;return a&&window.innerWidth<=500&&(n instanceof HTMLElement&&(n.style.left="0",n.style.top="0",n.style.width="100%"),a instanceof HTMLElement&&(a.style.width="100%",a.style.minWidth="100%")),t},trigger:d}))}},19388:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var a=n(66420),i=n(61824),r=n(33740);function o({addButton:e=!0,children:t,colorSelected:n,defaultColor:o="#ffffff",forceClose:l=!1,id:s="",position:c="top-center",rootContainer:d,swatches:m}){let[u,g]=(0,a.useState)(!1),{triggerProps:p,layerProps:h,renderLayer:v}=(0,i.sJ)({isOpen:u&&!l,triggerOffset:10,placement:c,onOutsideClick:()=>{g(!1)},onParentClose:()=>{g(!1)},auto:!0,snap:!0,container:d}),[f,E]=(0,a.useState)(o),_={...h,style:{...h.style,zIndex:1}};return a.createElement(a.Fragment,null,a.createElement("span",{...p},a.createElement("div",{onClick:()=>g(!u)},t)),u&&!l?v(a.createElement("div",{..._},a.createElement(r.zH8,{id:s,onChange:t=>e?E(t):n(t),defaultColor:o,confirmButton:e&&a.createElement(r.zxk,{variant:"primary",size:"small",hasFullWidth:!0,onClick:()=>{n(f),g(!1)}},"Use this color"),swatches:m}))):null)}},61738:function(e,t,n){"use strict";n.d(t,{M:function(){return s},z:function(){return c}});var a=n(26998),i=n(66420),r=n(89895),o=n(96367),l=n(61435);let s=({isOwnerAfterRecording:e})=>{let t=(0,a.useCurrentUserSelector)(e=>e.videoSettings?.auto_summary!==!1,!1),n=!!a.useCurrentUserSelector(e=>e.aiAccess,null)?.autoSummaries,i=(0,r.v9)(l.yo),s=!!(t&&n),c=s&&e&&(!i||i===o.YJ.PENDING);return{status:i,hasAccess:n,isExpected:s,isWaiting:c}},c=({isOwnerAfterRecording:e})=>{let t=(0,a.useCurrentUserSelector)(e=>e.videoSettings?.auto_tasks!==!1,!1),n=!!a.useCurrentUserSelector(e=>e.aiAccess,null)?.autoTasks,s=(0,r.v9)(l.oK),c=!!(t&&n),d=c&&e&&(!s||s===o.YJ.PENDING),[m,u]=(0,i.useState)(!1),g=(0,i.useRef)();return(0,i.useEffect)(()=>(d&&!g.current&&(g.current=setTimeout(()=>{u(!0)},4e4)),!d&&g.current&&(clearTimeout(g.current),g.current=void 0),()=>{clearTimeout(g.current)}),[u,d]),{status:s,hasAccess:n,isExpected:c,isWaiting:d&&!m}}},70118:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var a=n(45731),i=n(85283),r=n(84515);let o={},l=(0,i.Ps)`
    query GetVideoRecordingClient($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      video_properties {
        recordingClient
      }
    }
  }
}
    `,s=e=>{let{password:t}=(0,a.u)(),{data:n}=function(e){let t={...o,...e};return r.a(l,t)}({variables:{videoId:e,password:t}});return n?.getVideo?.__typename==="RegularUserVideo"&&"meeting_bot"===n.getVideo.video_properties.recordingClient}},74137:function(e,t,n){"use strict";n.d(t,{$:function(){return i},y:function(){return r}});var a,i=((a=i||{}).FALL_24_New_User="fall-24-new-user",a.FALL_24_EXISTING_WORKSPACE_AI_TRIAL="fall-24-existing-workspace-ai-trial",a.FALL_24_BIZ_ENT_PREV_AI="fall-24-biz-ent-prev-ai",a.FALL_24_HARD_UPSELL="fall-24-hard-upsell",a.Disabled="disabled",a.WINTER_LAUNCH_25_CONTROL="winter-launch-25-control",a.WINTER_LAUNCH_25_AI_TRIAL="winter-launch-25-ai-trial",a.WINTER_LAUNCH_25_AI_TRIAL_CALENDAR_CONNECT="winter-launch-25-ai-trial-calendar-connect",a.WINTER_LAUNCH_25_PROMO="winter-launch-25-promo",a);let r=["fall-24-new-user","fall-24-existing-workspace-ai-trial","fall-24-biz-ent-prev-ai","fall-24-hard-upsell","winter-launch-25-ai-trial","winter-launch-25-ai-trial-calendar-connect","winter-launch-25-promo"]},74097:function(e,t,n){"use strict";n.d(t,{g:function(){return p}});var a=n(49003),i=n(85283),r=n(84515);let o={},l=(0,i.Ps)`
    query AtlassianLocaleResponse {
  atlassianLocaleResponse {
    ... on GetAtlassianLocalePayload {
      localeRequiresMarketingOptIn
      locale
    }
  }
}
    `;var s=n(70643),c=n(66420),d=n(33740),m=n(37121);let u=new URLSearchParams(window.location.search),g=()=>{let{loading:e,data:t}=function(e){let t={...o,...e};return r.a(l,t)}({skip:!m.yv}),n=(0,s.k)(e=>e.setLocale),a=(0,s.k)(e=>e.setLocaleRequiresMarketingOptIn);(0,c.useEffect)(()=>{e||t?.atlassianLocaleResponse?.__typename!=="GetAtlassianLocalePayload"||(n(t.atlassianLocaleResponse.locale),a(t.atlassianLocaleResponse.localeRequiresMarketingOptIn))},[e,t,n,a])},p=({size:e="body-sm",color:t="body"})=>{g();let n="true"===u.get("showPromotionalCheckbox"),i=(0,s.k)(e=>e.localeRequiresMarketingOptIn),r=(0,s.k)(e=>e.isPromotionalEmailBoxChecked),o=(0,s.k)(e=>e.setIsChecked);return i||n?c.createElement(c.Fragment,null,c.createElement(d.WiK,{direction:"row"},c.createElement(d.ggW,{alignContent:"end",gap:"small"},c.createElement(d.XZJ,{id:"promotionalCheckbox",isChecked:r,onChange:e=>o(e.target.checked)}),c.createElement(d.xvT,{size:e,color:t},"Yes! I would like to receive promotional emails including product news, events, and more from"," ",c.createElement(d.rUS,{href:a.yw,target:"_blank"},"Atlassian")," ","and"," ",c.createElement(d.rUS,{href:a.XC,target:"_blank"},"Atlassian Partners"),"."))),c.createElement(d.LZC,{bottom:"medium"})):null}},10187:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var a=n(85283),i=n(72136),r=n(34017);let o={},l=(0,a.Ps)`
    mutation RespondToVideoTask($id: ID!, $responded: Boolean!, $password: String) {
  respondToVideoTask(id: $id, responded: $responded, password: $password) {
    __typename
    ... on RespondToVideoTaskPayload {
      task {
        id
        responses(useMaster: true) {
          ...VideoTaskResponseFragment
        }
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    ${i.w}`;function s(e){let t={...o,...e};return r.D(l,t)}},71770:function(e,t,n){"use strict";n.d(t,{h7:function(){return d},Q2:function(){return r}});var a=n(94705),i=n(23555);let r=()=>{let{video:e}=(0,i.dPl)(),{isProtected:t,password:n}=(0,a.u)();return!!(e?.isOwner||(!t||t&&n)&&e?.showTranscriptToViewer)};var o=n(89895),l=n(54136),s=n(3273),c=n(65559);let d=()=>{let e=(0,o.v9)(c.Dl),t=!o.v9(c.zh)?.phrases?.length,n=e===l.HZ,a=(0,s.KQ)(e),i=(0,s.tw)(e),r=(0,s.dN)(e)&&!t,d=e===l.MR,m=!a&&!(0,s.dN)(e);return{languageUnavailable:n,transcriptAvailable:r,transcriptEmpty:t,transcriptInProgress:i,transcriptRegenerating:m,transcriptUnavailable:a,transcriptSuccessful:d}}},3749:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var a=n(66420);function i({size:e,color:t="currentColor"}){return a.createElement("svg",{width:8*e,height:8*e,viewBox:"0 0 56 56",fill:"none"},a.createElement("path",{d:"M56 21.328V0H34.672v5.56h11.834L30.779 21.288V9.453h-5.56v11.834L9.492 5.561h11.836V0H0v21.328h5.56V9.492L21.288 25.22H9.453v5.56h11.834L5.561 46.506V34.672H0V56h21.328v-5.56H9.492L25.22 34.71v11.837h5.56V34.71l15.727 15.728H34.672V56H56V34.672h-5.56v11.834L34.712 30.779h11.834v-5.56H34.713L50.439 9.492v11.836H56z",fill:t}))}},68934:function(e,t,n){"use strict";n.d(t,{L:function(){return f}});var a=n(72931),i=n(49003),r=n(70243),o=n(48892),l=n(26998),s=n(44954),c=n(84888),d=n(89895),m=n(80512),u=n(72251),g=n(27584),p=n(62189),h=n(29256),v=n(21924);let f=e=>{let t=(0,d.I0)(),n=(0,c.hP)(),f=(0,l.useCurrentUserSelector)(e=>e.id,null),E=(0,s.nw)(),_=(0,g.df)(n),{data:y,loading:b}=(0,o.rj)({variables:{workspaceId:n.id},skip:!n.id}),k=y?.customer?.__typename==="LoomCustomer"?y.customer:null;return"request-ai"===e.purchaseType?{onClick:()=>{e.onCloseClick?.(),t((0,r.O)("loom-ai",{analyticEvent:a.i4q,source:e.source}))}}:"sales-led"===e.purchaseType?{onClick:()=>{v.track(a.Q4q,{purchase_type:e.purchaseType,source:e.source,workspace_type:n?.type,workspace_id:n?.id,user_id:f,member_role:E},()=>{window.location.href=`${i.cu}${i.xJ}`})}}:"add-on-only"===e.purchaseType?{onClick:()=>{_?t((0,r.O)("loom-ai",{analyticEvent:a.i4q,source:e.source})):(v.track(a.Q4q,{purchase_type:e.purchaseType,source:e.source,workspace_type:n?.type,workspace_id:n?.id,user_id:f,member_role:E}),t((0,m.h7)({modalType:"PURCHASE_AI_MODAL",options:{source:e.source}}))),e.onCloseClick?.()}}:"has-ai-addon"===e.purchaseType?{onClick:()=>{v.track(a.Q4q,{purchase_type:e.purchaseType,source:e.source,workspace_type:n?.type,workspace_id:n?.id,user_id:f,member_role:E}),e.onCloseClick&&e.onCloseClick()}}:{onClick:()=>{v.track(a.Q4q,{purchase_type:e.purchaseType,source:e.source,workspace_type:n?.type,workspace_id:n?.id,user_id:f,member_role:E},async()=>{if(b)return;let n=(0,u.s)(k);if(e.onCloseClick&&await e.onCloseClick(),n&&E===p.Xx){let e=new URL("/upgrade-plan",window.location.origin);e.searchParams.append("addon",h.e9.Ai),e.searchParams.append("type","annually"),window.location.href=e.toString()}else t((0,r.O)("loom-ai"))})}}}},29790:function(e,t,n){"use strict";n.d(t,{g:function(){return m}});var a=n(45731),i=n(23555),r=n(66420),o=n(89895),l=n(14374),s=n(39971),c=n(72924),d=n(61435);let m=()=>{let e=(0,o.I0)(),{current_user_is_owner:t}=(0,o.v9)(d.z8),{isProtected:n,password:m}=(0,a.u)(),{video:{id:u,downloadable:g}}=(0,i.dPl)();return{fetchShareVideoDownloadUrl:(0,r.useCallback)(()=>{if(g&&!(!t&&n&&null==m))try{(0,s.H)(u,m,t=>{e((0,c.mV)(t))})}catch(e){l.warning("error fetching share video download url",e)}},[t,g,n,m,u,e])}}},13891:function(e,t,n){"use strict";n.r(t),n.d(t,{getEmojiUnicodeByName:function(){return l},getEmojiWithSkinTones:function(){return a.zv},groupedEmojis:function(){return r}});var a=n(10928);let i=new a.cq,r=function(){let e=[];return a.vS.forEach(t=>{let n=i.emojiCategoryLookUp.get(t);n&&e.push({category:t,emojis:n})}),e}(),o={"skin-tone-2":"1F3FB","skin-tone-3":"1F3FC","skin-tone-4":"1F3FD","skin-tone-5":"1F3FE","skin-tone-6":"1F3FF"};function l(e,t){if(!e)return"";let n=i.getEmojiByName(e);if(!n)return"";if(t?.length){let e=t.map(e=>o[e]).join("-");if(!e||!n.skin_variations)return"";let a=n.skin_variations[e];if(!a)return"";let{unified:i}=a;return s(i)}return n?s(n.unified):""}function s(e){let t=e.split("-").map(e=>+`0x${e}`);return String.fromCodePoint(...t)}},97287:function(e,t,n){"use strict";n.d(t,{B:function(){return i},q:function(){return r}});var a,i=((a=i||{}).Summary="summary",a.StepByStep="step_by_step",a.Sop="sop",a.PrDescription="pr_description",a.CodeDocs="code_docs",a.QaSteps="qa_steps",a.Chat="chat",a.Email="email",a.Jira="jira",a.Linear="linear",a);let r={document:{0:"sop",1:"step_by_step",2:"pr_description",3:"qa_steps",4:"code_docs"},ticket:{0:"jira"},message:{0:"chat",1:"email"}}},21674:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var a=n(64018),i=n(52069);let r="pde_workflows",o=(0,a.Z)(e=>({editorRef:{current:null},activeWorkflowType:"document",setActiveWorkflowType:t=>e({activeWorkflowType:t}),modalHasContent:!1,setModalHasContent:t=>e({modalHasContent:t}),activeArtifactType:null,setActiveArtifactType:t=>e({activeArtifactType:t,error:null}),cachedIssuePlatform:(0,i.bM)(r),activeIssuePlatform:(0,i.bM)(r)||"jira",setActiveIssuePlatform:t=>{(0,i.Ly)(r,t),e({activeIssuePlatform:t,error:null})},error:null,setError:t=>e({error:t}),loomCategory:null,setLoomCategory:t=>e({loomCategory:t})}))},18142:function(e,t,n){"use strict";n.d(t,{$8:function(){return s},Bv:function(){return P}});var a,i=n(26998),r=n(23555),o=n(84888),l=n(21924);let s=()=>{let e=(0,i.useCurrentUserSelector)(e=>e.id,null),t=(0,i.useCurrentUserSelector)(e=>e.defaultWorkspaceId,null),n=(0,o.hP)(),{video:{id:a,owner:{id:s},organizationId:P}}=(0,r.dPl)(),L={video_id:a,user_id:e,organization_id:n.organization_id},R={video_id:a,video_owner_id:s,video_workspace_id:P,viewer_id:e,viewer_workspace_id:t};return{artifactCopied:(e,t,n)=>{l.track(g,{...L,artifact_type:c(e||""),number_of_generated_images:t,timestamp_of_generated_images:n})},artifactGenerated:(e,t,n)=>{l.track(u,{...L,artifact_type:c(e),number_of_generated_images:t,timestamp_of_generated_images:n})},createModalOpened:e=>{l.track(d,{...L,plan_type:n.type,role:n.memberRole,source:e})},integrationCreateClicked:e=>{l.track(p,{...L,integration_type:c(e||"")})},integrationLinkClicked:e=>{l.track(h,{...L,integration_type:c(e||"")})},jiraIssueCreated:()=>{l.track(_,{...L})},jiraIssueFormPrepopulated:(e,t)=>{l.track(v,{...L,hasTitle:e,hasDescription:t})},jiraIssueFormSubmitted:(e,t)=>{l.track(f,{...L,hasTitle:e,hasDescription:t})},jiraIssuePageOpened:()=>{l.track(E,{...L})},linearIssueCreated:()=>{l.track(C,{...L})},linearIssueFormPrepopulated:(e,t)=>{l.track(y,{...L,hasTitle:e,hasDescription:t})},linearIssueFormSubmitted:(e,t)=>{l.track(b,{...L,hasTitle:e,hasDescription:t})},linearIssuePageOpened:()=>{l.track(k,{...L})},workflowSelected:(e,t,n)=>{l.track(m,{...L,artifact_type:c(e),artifact_category:t,source:n})},createADocumentOptionSelected:e=>{l.track(A,{documentOption:e,...R})},createViewerWorkflowsDocumentButtonClicked:e=>{l.track(x,{workflowType:e,...R})},openViewerWorkflowsModal:e=>{l.track(I,{trigger:`${e}_button`,...R})},viewerWorkflowsCopyTextButtonClicked:e=>{l.track(N,{documentType:e??"unknown",...R})},generatedImageCopied:(e,t)=>{l.track(S,{...L,artifact_type:c(e),timestamp_of_generated_image:t})},generatedImageDeleted:(e,t,n)=>{l.track(T,{...L,artifact_type:c(e),timestamp_of_generated_image:t,deletion_method:n})},workflowEdited:e=>{l.track(w,{...L,artifact_type:c(e)})}}},c=e=>e.replace(/-/g,"_").toLowerCase(),d="ai_loom_artifact_type_selection_modal_opened",m="ai_loom_artifact_type_selection_clicked",u="ai_loom_artifact_generated",g="ai_loom_artifact_copy_action_invoked",p="ai_loom_artifact_integration_create_cta_clicked",h="ai_loom_artifact_integration_link_cta_clicked",v="ai_loom_artifact_jira_issue_form_prepopulated",f="ai_loom_artifact_jira_issue_form_submitted",E="ai_loom_artifact_jira_issue_opened_in_jira",_="ai_loom_artifact_jira_issue_created",y="ai_loom_artifact_linear_issue_form_prepopulated",b="ai_loom_artifact_linear_issue_form_submitted",k="ai_loom_artifact_linear_issue_opened_in_linear",C="ai_loom_artifact_linear_issue_created",w="ai_loom_artifact_edited",T="ai_loom_artifact_generated_image_deleted",S="ai_loom_artifact_generated_image_copied",I="AI Workflows For Viewers Modal Opened",x="AI Workflows For Viewers Create Document Button Clicked",A="AI Workflows For Viewers Create Document Option Selected",N="AI Workflows For Viewers Copy Text Button Clicked";var P=((a=P||{}).CREATE_CTA="create_cta",a.NEW_ENTRY_POINT="new_entry_point",a)},26598:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var a,i=((a=i||{}).EditTab="edit-tab",a.ActivityTab="activity-tab",a)},21705:function(e,t,n){"use strict";n.d(t,{I:function(){return u},i:function(){return m}});var a=n(23555),i=n(89536),r=n(6621),o=n(16625),l=n(51527),s=n(73671),c=n(97287),d=n(21674);let m=()=>{let{video:e}=(0,a.dPl)(),t=e.videoProperties.recordingType===o.QU,{activeArtifactType:n}=(0,d.a)(),r=(0,i.W9)(s.EXPERIMENTS.EXP_PICTURE_IN_SCRIPTURE,s.C2.STATSIG_EXPERIMENT),m=[l.V3,l.V4,l.V5,l.V7],u=!1;e.videoProperties.recordingVersion&&(u=m.includes(e.videoProperties.recordingVersion));let g=n===c.B.Sop,p=!1;return e.currentUserCanEdit&&(p=e.currentUserCanEdit),("variant-excluded"===r||"variant"==r)&&!t&&u&&g&&p},u=()=>(0,i.W9)(r.He,s.C2.STATSIG_EXPERIMENT)===r.c7},35816:function(e,t,n){"use strict";n.d(t,{Bm:function(){return l}});var a=n(85283),i=n(84515);let r={},o=(0,a.Ps)`
    query GetUserIntegrationSettings {
  me {
    __typename
    id
    integration_settings
    calendars {
      id
      lastSyncedAt
    }
  }
}
    `;function l(e){let t={...r,...e};return i.a(o,t)}},44354:function(e,t,n){"use strict";var a=n(72931),i=n(66420),r=n(33740),o=n(21924),l=n(45845);t.Z=({buttonText:e="View your insights",buttonSize:t="small",source:n,useLinkStyle:s=!1})=>{let{setIsProfileMenuOpen:c,isProfileMenuOpen:d}=(0,l.yY)(),m=e=>{let t=e.target;o.track(a.utS,{source:n}),d||c&&c(!0,t?.className,!0)};return i.createElement(i.Fragment,null,s?i.createElement(r.rUS,{htmlTag:"button",onClick:m}," ",e):i.createElement(r.zxk,{onClick:m,size:t},e))}},94789:function(e,t,n){"use strict";var a=n(66420),i=n(33740),r=n(96917);t.Z=({size:e=2})=>a.createElement(a.Fragment,null,a.createElement(i.W20,{backgroundColor:"background",radius:"full"},a.createElement(i.W20,{backgroundColor:"highlight",radius:"full",padding:"xsmall"},a.createElement(i.xMy,{alignment:"center"},a.createElement(i.JO$,{icon:a.createElement(r.X,{color:"#4B42AD"}),size:e})))))},41106:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(72931),i=n(49003),r=n(66420),o=n(33740),l=n(21924);function s({customAction:e=null,size:t,dynamic:n=!1,color:s="body",signupMode:c}){let d=e||(c&&!n?"signing up":"clicking “Create Free Account”"),m="Atlassian",u=i.gI,g=i.GB;return r.createElement(r.Fragment,null,r.createElement(o.xvT,{htmlTag:"p",size:t,alignment:"center",color:s},"signing up"===e?`By ${d} I agree to ${m}\u2019s `:`By signing up, you acknowledge that you have read and understood, and agree to ${m}\u2019s `,r.createElement(o.rUS,{href:u,target:"_blank",rel:"noopener noreferrer",variant:"primary",onClick:()=>{l.track(a.Yo6)}},"Terms")," ","and"," ",r.createElement(o.rUS,{href:g,target:"_blank",rel:"noopener noreferrer",variant:"primary",onClick:()=>{l.track(a.Yz5)}},"Privacy Policy"),"."))}},2658:function(e,t,n){"use strict";var a=n(26998),i=n(66420);t.Z=({alternate:e=null,children:t=null,names:n=[],name:r,some:o=!1})=>{if(Array.isArray(n)||(n=[n]),r&&n.push(r),0===n.length)throw Error("Invalid usage of the Scopes component, missing both name and names props");let l=(0,i.useCallback)(({scopes:e})=>o?n.some(t=>e.includes(t)):n.every(t=>e.includes(t)),[n,o]),s=(0,a.useCurrentUserSelector)(l,!1),c=e&&"function"==typeof e?e():e;return s?i.createElement(i.Fragment,null,t):i.createElement(i.Fragment,null,c)}},7273:function(e,t,n){"use strict";n.d(t,{f:function(){return m},v:function(){return u}});var a=n(67121),i=n(48892),r=n(84888),o=n(66420),l=n(72251),s=n(33740),c=n(89158);let d=a.Z.div`
  width: 224px;
  height: 138px;
  background: linear-gradient(to right, #4355fb, #f187fb);
`,m=({text:e,altText:t,img:n,imgWidth:a,imgAlignment:m="center",trial:u=!1,noAccess:g=!1})=>{let p=(0,r.hP)(),{data:h}=(0,i.rj)({variables:{workspaceId:p?.id},skip:!p?.id}),v=h?.customer?.__typename==="LoomCustomer"?h.customer:null,f=(0,l.s)(v??null);return o.createElement(s.W20,{radius:"150",width:"224px",overflow:"hidden",margin:"-7px -12px"},o.createElement(s.ggW,{autoFlow:"row"},o.createElement(d,null,o.createElement(s.xMy,{alignment:m},o.createElement("img",{src:n,alt:t,width:a,height:"auto"}))),o.createElement(s.W20,{padding:"small"},g?o.createElement(s.ggW,{gap:"xsmall",autoFlow:"row"},!f&&o.createElement(s.ggW,{gap:"xsmall"},o.createElement(s.JO$,{icon:o.createElement(c.R,null),size:2,color:"upgradeHover"}),o.createElement(s.xvT,{size:"body-sm",fontWeight:"bold",color:"upgradeHover"},"Available on paid plans")),o.createElement(s.xvT,{size:"body-sm",fontWeight:"bold"},"Upgrade to unlock links")):o.createElement(s.ggW,{gap:"xsmall",autoFlow:"row"},u&&o.createElement(s.ggW,{gap:"xsmall"},o.createElement(s.JO$,{icon:o.createElement(c.R,null),size:2,color:"upgradeHover"}),o.createElement(s.xvT,{size:"body-sm",fontWeight:"bold",color:"upgradeHover"},"Available with your trial")),o.createElement(s.xvT,{size:"body-sm",fontWeight:"bold"},e)))))},u=({children:e,tooltipContent:t,notAvailable:n,maxWidth:a="224px",placement:i="leftCenter"})=>o.createElement(s.ua7,{tabIndex:-1,isInline:!1,content:t,placement:i,triggerOffset:8,maxWidth:a,isDisabled:n,keepOpen:!0},e)},81670:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});let a={SIDEBAR:10,RESIZER:11,EMOJI_PICKER:12,TRANSCRIPT_CORRECTION:12}},803:function(e,t,n){"use strict";n.d(t,{IB:function(){return d},LB:function(){return o},Pi:function(){return m},YS:function(){return r},j_:function(){return c},oh:function(){return l},xN:function(){return s}});var a,i=n(58329),r=((a=r||{}).RecapV2="RecapV2",a.Recap="Recap",a.Activity="Activity",a.Transcript="Transcript",a.Views="Views",a.Edit="Edit",a.Settings="Settings",a);let o=435,l=o,s=700,c=20,d=`calc(100vh - ${i.v})`,m="calc(100vh - var(--transcript-header-height))"},17877:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});let a=[{value:1,ratio:"1:1",dimensions:"1080 ✕ 1080"},{value:1.3333333333333333,ratio:"4:3",dimensions:"1024 ✕ 768"},{value:1.7777777777777777,ratio:"16:9",dimensions:"1920 ✕ 1080"},{value:2,ratio:"18:9",dimensions:"2160 ✕ 1080"},{value:2.3333333333333335,ratio:"21:9",dimensions:"2560 ✕ 1080"}],i=a[2],r=(e,t)=>`Recommend ${e} or ${t} files in .png or .jpg`,o=()=>{let e=document.getElementsByClassName("videoFrame")[0];if(e){let t=e.getBoundingClientRect(),n=function(e){let t=i,n=1/0;for(let i of Object.values(a)){let a=Math.abs(e-i.value);a<n&&(n=a,t=i)}return t}(t.width/t.height);return r(n.dimensions,n.ratio)}return r(i.dimensions,i.ratio)}},49326:function(e,t,n){"use strict";n.d(t,{D3:function(){return l}});var a=n(85283),i=n(84515);let r={},o=(0,a.Ps)`
    query GetIntegrationActiveStatus($integrationType: String!) {
  getIntegrationActive(integrationType: $integrationType) {
    ... on GetIntegrationActivePayload {
      isActive
    }
  }
}
    `;function l(e){let t={...r,...e};return i.a(o,t)}},10376:function(e,t,n){"use strict";n.d(t,{a6:function(){return i},at:function(){return r},ny:function(){return a}});let a=()=>document.getElementById("right-panel-tabs")?.getBoundingClientRect().height||0,i=()=>document.getElementById("comments-tab-header")?.getBoundingClientRect().height||0,r=()=>document.getElementById("right-panel-meetings-banner")?.getBoundingClientRect().height||0},35384:function(e,t,n){"use strict";let a;n.d(t,{VR:function(){return s_},XH:function(){return sb},iA:function(){return sd},xm:function(){return sm},of:function(){return sl}});var i,r,o={};n.r(o),n.d(o,{isValidCtaUrl:function(){return ik}});var l=n(22947),s=n(72931),c=n(22562),d=n(77848),m=n.n(d),u=n(26998),g=n(20600),p=n(70118),h=n(71770),v=n(23555),f=n(69573),E=n(92375),_=n(18142),y=n(26598),b=n(66420),k=n(89895),C=n(80512),w=n(33740),T=n(96967),S={gradientBorder:"activity-tab_gradientBorder_3fI",gradientBackground:"activity-tab_gradientBackground_lc0",viewerWorkflowsContainer:"activity-tab_viewerWorkflowsContainer_KbY"};let I=({isExpanded:e=!0,onMountCallback:t})=>{let n=(0,k.I0)(),{video:a}=(0,v.dPl)(),i=(0,v.n_$)(),r=(0,_.$8)(),o=e=>{r.openViewerWorkflowsModal(e),n((0,C.h7)({modalType:E.ZS,options:{workflowTypeOnOpen:e,triggerSource:y.F.ActivityTab}}))};return(0,b.useEffect)(()=>{t?.()}),b.createElement("div",{className:S.gradientBackground},b.createElement("div",{className:"flex"},b.createElement("div",{className:`${e?"":"width:full flex justify:spaceBetween"}`},b.createElement(w.ggW,{gap:"2px"},b.createElement(w.xvT,{size:"body-lg"},"View this Loom as a document"),b.createElement(w.W20,{position:"relative",top:"-4px",left:"-2px"},b.createElement(w.TRl,{variant:"symbol",maxWidth:1,brand:"ai"}))),e?null:b.createElement(b.Fragment,null,b.createElement(w.ua7,{isInline:!1,content:"Summarize this Loom in an SOP, step-by-step and more."},b.createElement("div",{className:m()(S.gradientBorder,"p:medium"),onClick:()=>{i?.pause(),o("document")}},b.createElement(w.xvT,{fontWeight:"bold",size:"body-md"},"Read now")))))),e?b.createElement(b.Fragment,null,b.createElement(w.xvT,{color:"bodyDimmed"},`Here are the key takeaways from ${a.owner.displayName}'s video...`),b.createElement(w.LZC,{bottom:2}),b.createElement(w.ua7,{isInline:!1,content:"Summarize this Loom in an SOP, step-by-step and more."},b.createElement("div",{className:m()(S.gradientBorder,"p:medium"),onClick:()=>{i?.pause(),o("document")}},b.createElement(w.ggW,{gap:"small"},b.createElement(w.JO$,{icon:b.createElement(T.E,null)}),b.createElement(w.xvT,{fontWeight:"bold",size:"body-md"},"Read full summary"))))):null)};var x=n(16795),A=n(78783),N=n(90894),P=n(74608),L=n(94705),R=n(76281),D=n(67121);let O=D.Z.div`
  pointer-events: none;
  justify-content: center;
  display: flex;
`,W=D.Z.div`
  position: absolute;
  top: ${e=>e.overlayTop||"50%"};
  height: ${e=>e.unScrollable?"50%":"100%"};
  width: 100%;
  background-color: var(--lns-color-background);
  display: flex;
  justify-content: center;
  pointer-events: auto;
  padding-top: 10px;
  padding-left: 24px;
  padding-right: 24px;
  box-shadow: 30px 0 15px 15px var(--lns-color-background);
`,V=D.Z.div`
  filter: blur(5px);
  position: ${e=>e.unScrollable?"absolute":"relative"};
  overflow: ${e=>e.unScrollable?"hidden":"auto"};
  height: ${e=>e.unScrollable?"50%":""};
  top: ${e=>e.unScrollable?"10":""};
  left: ${e=>e.unScrollable?"5%":""};
`,F=({overlay:e,children:t,overlayTop:n,enabled:a,unScrollable:i})=>a?b.createElement(O,null,b.createElement(V,{unScrollable:i},t),b.createElement(W,{overlayTop:n,unScrollable:i},e)):b.createElement(b.Fragment,null,t);var z=n(31332),B=n(7935);let M=({width:e,empty:t})=>b.createElement(w.LZC,{bottom:2},t?b.createElement(w.W20,{height:1.5,width:e,radius:"medium"}):b.createElement(w.W20,{height:1.5,width:e,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),$=()=>b.createElement(w.LZC,{bottom:1},b.createElement(w.ggW,{columns:["auto 1fr"],gap:"small"},b.createElement("div",null,b.createElement(w.W20,{height:3,width:3,backgroundColor:"disabledBackground",radius:"full"}),b.createElement(M,{width:3,empty:!0}),b.createElement(M,{width:3,empty:!0}),b.createElement(M,{width:3,empty:!0})),b.createElement("div",null,b.createElement(w.LZC,{top:2},b.createElement(w.ggW,{gap:"small"},b.createElement(M,{width:10}),b.createElement(M,{width:4}))),b.createElement(M,{width:"90%"}),b.createElement(M,{width:"95%"}),b.createElement(M,{width:"70%"})))),U=()=>{let e=[];for(let t=0;t<3;t++)e.push(b.createElement($,{key:t}));return b.createElement(b.Fragment,null,e)},Z=()=>b.createElement(w.W20,{paddingY:"30vh"},b.createElement(w.xvT,{fontWeight:"bold",alignment:"center",size:"body-lg"},"Comments disabled"),b.createElement(w.LZC,{top:1,bottom:2,left:5,right:5},b.createElement(w.xvT,{fontWeight:"book",alignment:"center",color:"bodyDimmed"},"The creator of this video has turned off comments.")));var G=n(89767),j=n(58440),H=n(21400),Y=n(4718),q=n(59182),K=n(62989),X=n(74598),J=n(81923),Q=n(2191),ee=n(58461),et=n(24614),en=n(11351),ea=n(55117),ei=n(10009),er=n(98482),eo=n(10376),el=n(57539),es=n(33444),ec=n(53422),ed=n(65655),em=n(43451),eu=n(97827),eg=n(61824),ep=n(6180),eh=n(14374),ev=n(92406),ef=n(70921),eE=n(64453),e_=n(21924),ey=n(16479);let eb={Notifications:{follow:"You’ll receive notifications any time someone else starts a new comment thread on this Loom.",unfollow:"Follow for notifications any time someone else starts a new comment thread on this Loom."},Button:{follow:"Unfollow",unfollow:"Follow"},NewReply:{follow:"New reply notifications are on",unfollow:"New reply notifications are off"}},ek=({isOpen:e,onCloseClick:t,onClick:n})=>b.createElement(w.FNi,{duration:"long",isOpen:e,onCloseClick:t},b.createElement(w.ggW,{alignItems:"start",gap:"small"},b.createElement(w.JO$,{icon:b.createElement(ef.b,null),color:"bodyInverse"}),b.createElement("div",null,b.createElement(w.xvT,{fontWeight:"bold"},"You are now following this Loom.")," ",b.createElement(w.xvT,{fontWeight:"book",isInline:!0},"Don’t want notifications?")," ",b.createElement(w.xvT,{fontWeight:"bold",isInline:!0},b.createElement(w.rUS,{htmlTag:"button",variant:"neutral",onClick:n},"Unfollow."))))),eC=({videoId:e,withNewCommentEntryPoint:t=!1,isFollowingVideo:n})=>{let{showErrorBar:a}=(0,ed.gV)(),{password:i}=(0,L.u)(),[r,o]=(0,b.useState)(!1),[l,s]=(0,b.useState)(!1),c={anonymous_user_id:(0,ey.$e)(),video_id:e,device:(0,ep.vV)(),follow_mode:"manual"},[d]=(0,eu.z)({onCompleted:()=>{n&&s(!0)},onError:e=>{eh.warning(e,{message:"Error toggle video follow"}),a({message:`Oops! Error ${n?"following":"unfollowing"} video.`,severity:ec.W9.ERROR})}}),m=()=>{n?e_.track(eE.hN,c):e_.track(eE.lq,c),void 0!==n&&d({variables:{videoId:e,follow:!n,password:i}})},{layerProps:u,triggerProps:g,renderLayer:p}=(0,eg.sJ)({isOpen:l}),h=n?"follow":"unfollow",v=eb.Notifications[h],f=eb.NewReply[h],E=eb.Button[h],_={follow:b.createElement(ev.s,null),unfollow:b.createElement(ef.b,null)}[h];return b.createElement(b.Fragment,null,b.createElement(w.W20,{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),position:"relative",zIndex:2},b.createElement(w.J2e,{isOpen:r,placement:t?"bottomRight":"bottomLeft",content:b.createElement(w.W20,{contentColor:"body",backgroundColor:"overlay",borderSide:"all",radius:"medium",shadow:"medium",padding:"medium",width:42},b.createElement(w.xvT,{fontWeight:"bold"},f),b.createElement(w.LZC,{top:2}),b.createElement(w.xvT,{fontWeight:"book",color:"bodyDimmed"},v))},b.createElement(em.S,{onClick:m,buttonIcon:_,buttonText:E,isNewStyle:t}))),b.createElement("div",{...g},p(b.createElement("div",{...u,style:{zIndex:"1100"}},b.createElement(ek,{isOpen:l,onClick:m,onCloseClick:()=>s(!1)})))))};var ew=n(70978),eT=n.n(ew),eS=n(85283),eI=n(84515);let ex={},eA=(0,eS.Ps)`
    query GetUserFollowsVideo($videoId: String!) {
  result: getUserFollowsVideo(videoId: $videoId) {
    ... on UserFollowsStream {
      id
      follow
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `;var eN=n(96085),eP=n(75364);let eL=({refreshCommentsOnClick:e})=>{let t=(0,b.useRef)(Date.now()),[n,a]=(0,b.useState)(""),[i,r]=(0,b.useState)(!1);(0,b.useEffect)(()=>{if(!i){let e=setTimeout(()=>{r(!0)},6e4);return()=>clearTimeout(e)}},[i]);let o=(0,b.useCallback)(()=>{e(),e_.track(s.cqE),r(!1),t.current=Date.now()},[e]);return b.createElement(b.Fragment,null,i&&b.createElement(w.ua7,{content:`Last updated ${n}`},b.createElement(em.S,{onClick:o,buttonIcon:b.createElement(eP.z,null),buttonText:"Refresh",onMouseEnter:()=>a((0,eN.S4)(t.current)),isNewStyle:!0})))};var eR=n(61738),eD=n(803),eO=n(3603),eW=n(7910),eV=n(96367),eF=n(63240),ez=n(19267),eB=n(61435);let eM=({children:e,isCollapsed:t})=>b.createElement("div",{style:t?{height:0,overflow:"hidden"}:{height:"auto",overflow:"unset"}},b.createElement("div",null,e));var e$=n(60128),eU=n(64781),eZ=n(79961),eG=n(83947),ej=n(44740);let eH=({numOfTasks:e,titleElem:t,isCollapsed:n,setIsCollapsed:a,setIsAddingNewTask:i,suggested:r,taskInputRef:o})=>{let{video:{id:l,currentUserCanEdit:s}}=(0,v.dPl)(),c=s&&!r;return b.createElement(w.ggW,{justifyContent:"space-between"},b.createElement(w.ggW,{gap:"xsmall"},r&&b.createElement(w.TRl,{variant:"symbol",maxWidth:2,brand:"ai",customId:"taskHeader"}),t,r&&b.createElement(w.ua7,{content:"Suggestions are only visible to you. Accept suggestions to publish them to your viewers.",placement:"bottomCenter",maxWidth:66},b.createElement(w.JO$,{icon:b.createElement(eZ.M,null),size:"18px",color:"bodyDimmed",altText:"More info on suggested tasks"}))),b.createElement(w.ggW,null,c?b.createElement(w.Avr,{size:"small",icon:b.createElement(eG.Y,null),onClick:()=>{i?.(!0),o?.current?.focus()}},"Add task"):null,e>0?b.createElement(w.hU,{icon:n?b.createElement(e$.u,null):b.createElement(eU.I,null),altText:`${n?"expand":"collapse"} ${r?"suggested":"approved"} task list`,onClick:()=>{e_.track(n?ej._r:ej.WC,{video_id:l}),a(!n)}}):null))};var eY=n(18541),eq=n(34017);let eK={},eX=(0,eS.Ps)`
    mutation DeleteVideoTask($id: ID!) {
  deleteVideoTask(id: $id) {
    __typename
    ... on DeleteVideoTaskPayload {
      success
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `,eJ="Failed to delete task, please try again or refresh.",eQ=(e,t)=>(function(e){let t={...eK,...e};return eq.D(eX,t)})({variables:{id:e.id},onError:n=>{eh.error(n,{taskId:e.id},{feature:ee.L0.VideoTasks}),t(eJ)},onCompleted:n=>{if(n?.deleteVideoTask?.__typename!=="DeleteVideoTaskPayload"){eh.error(`Failed to delete task in onCompleted: ${n?.deleteVideoTask?.message}`,{taskId:e.id},{feature:ee.L0.VideoTasks}),t(eJ);return}},update:(t,{data:n})=>{if(n?.deleteVideoTask?.__typename==="DeleteVideoTaskPayload"&&n.deleteVideoTask.success){let n=t.identify({id:e.id,__typename:"VideoTask"});t.evict({id:n}),t.gc()}}});var e0=n(12932),e1=n(96480),e2=n(9905),e3=n(90623),e5=n(16425);let e4=({isSuggested:e})=>e?b.createElement(w.JO$,{icon:b.createElement(e5.l,null),color:"grey3",size:3}):b.createElement(w.JO$,{icon:b.createElement(e3.y,null),color:"primary",size:3,className:"task-check-icon"});var e8={taskContainer:"components_taskContainer_2KQ",timestampWrapper:"components_timestampWrapper_2tN"},e7=n(26083),e9=n(77955);let e6={},te=(0,eS.Ps)`
    mutation ApproveVideoTask($id: ID!, $content: String, $timestamp: Int) {
  approveVideoTask(id: $id, content: $content, timestamp: $timestamp) {
    __typename
    ... on ApproveVideoTaskPayload {
      task {
        ...VideoTaskFragment
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    ${e9.Y}`,tt="Failed to accept task, please try again or refresh.",tn=(e,t)=>(function(e){let t={...e6,...e};return eq.D(te,t)})({variables:{id:e.id,content:e.content||null,timestamp:e.time_stamp||null},onError:n=>{eh.error(n,{taskId:e.id},{feature:ee.L0.VideoTasks}),t?.(tt)},onCompleted:n=>{if(n?.approveVideoTask?.__typename!=="ApproveVideoTaskPayload"){eh.error(`Failed to approve task in onCompleted: ${n?.approveVideoTask?.message}`,{taskId:e.id},{feature:ee.L0.VideoTasks}),t?.(tt);return}}});var ta=n(10187),ti=n(89326),tr=n.n(ti);let to="Failed to respond to task, please try again or refresh.",tl=(e,t)=>(0,ta.m)({onError:n=>{eh.error(n,{taskId:e.id},{feature:ee.L0.VideoTasks}),t(to)},onCompleted:n=>{if(n?.respondToVideoTask?.__typename!=="RespondToVideoTaskPayload"){eh.error(`Failed to respond to task in onCompleted: ${n?.respondToVideoTask?.message}`,{taskId:e.id},{feature:ee.L0.VideoTasks}),t(to);return}},update:(t,{data:n})=>{if(n?.respondToVideoTask?.__typename==="RespondToVideoTaskPayload"&&n.respondToVideoTask.task){let a=t.identify({id:e.id,__typename:"VideoTask"}),i=t.readFragment({id:a,fragment:e9.Y,fragmentName:"VideoTaskFragment"}),r=tr()(i);r&&(r={...r,responses:n.respondToVideoTask.task.responses},t.writeFragment({id:a,fragment:e9.Y,fragmentName:"VideoTaskFragment",data:{...r}}))}}});var ts={gotItChecked:"components_gotItChecked_NFM"};let tc="Got it",td=({task:e,setErrorMessage:t})=>{let{password:n}=(0,L.u)(),a=(0,u.useCurrentUserSelector)(e=>e.id,void 0),i=!!e.responses?.find(e=>e?.user?.id===String(a)),[r,o]=(0,b.useState)(i),[l,{loading:s}]=tl(e,t),c=()=>{let t=!r;l({variables:{id:e.id,responded:t,password:n}}),o(t),e_.track(ej.MH,{video_id:e.video_id,task_id:e.id,location:"share page",status:t?"acknowledged":"un-acknowledged",source:e.source})};return b.createElement(w.W20,{marginLeft:"calc(-1 * var(--lns-space-xsmall))"},b.createElement(w.Avr,{className:r?ts.gotItChecked:void 0,size:"small",onClick:()=>c(),disabled:s},b.createElement(w.ggW,{gap:"xsmall"},b.createElement("div",null,tc),b.createElement("span",{role:"img","aria-labelledby":tc},"\uD83D\uDC4D"))))},tm=({task:e,isSuggested:t,setErrorMessage:n})=>{let{video:{currentUserCanEdit:a}}=(0,v.dPl)(),i=e.responses,[r,{loading:o}]=tn(e,n),[l,{loading:s}]=eQ(e,n),c=!!i?.length,d=[];return c&&(d=i.map(e=>{let t=e.user;return{thumb:t?.avatars?.[0]?.thumb,name:t?.display_name}})),t?b.createElement(w.LZC,{top:"xsmall"},b.createElement(w.ggW,{gap:"small"},b.createElement(w.zxk,{size:"small",onClick:()=>{r(),e_.track(ej.vT,{video_id:e.video_id,task_id:e.id,source:e.source})},disabled:o},"Accept"),b.createElement(w.Avr,{size:"small",onClick:()=>{l(),e_.track(ej.WG,{video_id:e.video_id,task_id:e.id,target:"suggested task",source:e.source})},disabled:s},"Dismiss"))):b.createElement(w.ggW,{gap:"small"},a?c?b.createElement(w.xvT,{size:"body-sm",color:"bodyDimmed"},tc):null:b.createElement(td,{task:e,setErrorMessage:n}),c?b.createElement(e7.O,{avatars:d,size:2,dataStyleId:"task-responses"}):null)};var tu=n(17338);let tg={},tp=(0,eS.Ps)`
    mutation CreateVideoTask($videoId: ID!, $content: String!, $timestamp: Int!) {
  createVideoTask(videoId: $videoId, content: $content, timestamp: $timestamp) {
    __typename
    ... on CreateVideoTaskPayload {
      task {
        ...VideoTaskFragment
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    ${e9.Y}`,th="Failed to create task, please try again or refresh.",tv=({videoId:e,content:t,timestamp:n,setErrorMessage:a,password:i})=>(function(e){let t={...tg,...e};return eq.D(tp,t)})({variables:{videoId:e,content:t,timestamp:n},onError:t=>{eh.error(t,{videoId:e},{feature:ee.L0.VideoTasks}),a?.(th)},onCompleted:t=>{if(t?.createVideoTask?.__typename!=="CreateVideoTaskPayload"){eh.error(`Failed to create task in onCompleted: ${t?.createVideoTask?.message}`,{videoId:e},{feature:ee.L0.VideoTasks}),a?.(th);return}let n=t.createVideoTask.task;e_.track(ej.oj,{video_id:n?.video_id,task_id:n?.id})},update:(t,{data:n})=>{if(n?.createVideoTask?.__typename==="CreateVideoTaskPayload"&&n.createVideoTask.task){let a=t.readQuery({query:ei.w5,variables:{videoId:e,password:i}}),r=tr()(a);r?.getVideoTasks?.__typename==="GetVideoTasksPayload"&&r.getVideoTasks.tasks&&(r.getVideoTasks.tasks=[...r.getVideoTasks.tasks,n.createVideoTask.task],t.writeQuery({query:ei.w5,data:r,variables:{videoId:e,password:i}}))}}}),tf={},tE=(0,eS.Ps)`
    mutation UpdateVideoTask($id: ID!, $content: String, $timestamp: Int) {
  updateVideoTask(id: $id, content: $content, timestamp: $timestamp) {
    __typename
    ... on UpdateVideoTaskPayload {
      task {
        ...VideoTaskFragment
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    ${e9.Y}`,t_="Failed to update task, please try again or refresh.",ty=(e,t)=>(function(e){let t={...tf,...e};return eq.D(tE,t)})({variables:{id:e.id,content:e.content||null,timestamp:e.time_stamp||null},onError:n=>{eh.error(n,{taskId:e.id},{feature:ee.L0.VideoTasks}),t?.(t_)},onCompleted:n=>{if(n?.updateVideoTask?.__typename!=="UpdateVideoTaskPayload"){eh.error(`Failed to update task in onCompleted: ${n?.updateVideoTask?.message}`,{taskId:e.id},{feature:ee.L0.VideoTasks}),t?.(t_);return}}}),{secondsToVideoTS:tb}=e1,tk=({onClose:e,videoId:t,task:n={id:"",content:"",time_stamp:0,video_id:t},isSuggested:a=!1,isNew:i=!1,taskInputRef:r,setErrorMessage:o})=>{let[l,s]=(0,b.useState)(n.content||""),[c,d]=(0,b.useState)(!1),{currentTime:u}=(0,v.YYI)(t??""),g=Math.round(u),p=tb(g),h=""!==l.trim(),[f,{loading:E}]=tn({...n,content:l.trim(),time_stamp:g},o),{password:_}=(0,L.u)(),[y,{loading:k}]=tv({videoId:n.video_id,content:l.trim(),timestamp:g,setErrorMessage:o,password:_}),[C,{loading:T}]=ty({...n,content:l.trim(),time_stamp:g},o),S=()=>{h&&(s(l.trim()),i?y():a?(f(),e_.track(ej.yK,{video_id:n.video_id,task_id:n.id,source:n.source}),e_.track(ej.vT,{video_id:n.video_id,task_id:n.id,source:n.source})):(C(),e_.track(ej.yK,{video_id:n.video_id,task_id:n.id,source:n.source})),e())};return b.useEffect(()=>{r?.current?.focus({preventScroll:!0})},[]),b.createElement("div",{className:m()("components_editTaskArea_3dp",{components_isFocused_12X:c,components_isNewEntryPoint_3YS:i}),onBlur:t=>{t.currentTarget.contains(t.relatedTarget)||l||e(),d(!1),t?.relatedTarget?.tagName==="BUTTON"&&t.relatedTarget.click()}},b.createElement(w.ggW,{columns:["auto","1fr"],alignItems:"start",justifyContent:"start"},b.createElement(w.W20,{className:"pt:small"},b.createElement(e4,{isSuggested:a})),b.createElement(w.ggW,{autoFlow:"row",gap:"xsmall",justifyContent:"stretch"},b.createElement(tu.B,{textAreaRef:r,comment:l,setComment:s,onKeyDown:t=>{(i||n.content&&l)&&("Enter"===t.key&&!t.shiftKey&&(t.preventDefault(),h&&S()),"Escape"===t.key&&e())},autofocus:!0,inputSize:"small",placeholder:"",showCustomPlaceHolder:!0,onFocus:e=>{let t=e.target;if(!t)return;let n=t.value.length;t.setSelectionRange(n,n),d(!0)},dataTestId:"auto-tasks-input"}),b.createElement(w.ggW,{gap:"small",justifyContent:"end"},b.createElement(w.Avr,{size:"small",onClick:e},"Cancel"),b.createElement(w.zxk,{variant:"primary",size:"small",onClick:S,isDisabled:E||k||T||!h},"Confirm task",null!=p?` at ${p}`:"")))))};var tC=n(38969),tw=n(15479),tT=n(82418),tS=n(93102),tI=n(43781);let tx=({isCopied:e,onClick:t})=>b.createElement(w.ua7,{content:e?"Link copied!":"Copy link",placement:"topCenter"},b.createElement(w.hU,{altText:"Copy link",icon:b.createElement(tw.w,null),size:"small",iconColor:"bodyDimmed",onClick:t})),tA=({onClick:e,isLoading:t})=>b.createElement(w.ua7,{content:"Delete",tabIndex:-1},b.createElement(w.hU,{altText:"Delete task button",icon:b.createElement(tS.z,null),size:"small",iconColor:"bodyDimmed",onClick:e,isDisabled:t})),tN=({onClick:e})=>b.createElement(w.ua7,{content:"Edit",tabIndex:-1},b.createElement(w.hU,{altText:"Edit task button",icon:b.createElement(tC.b,null),size:"small",iconColor:"bodyDimmed",onClick:e})),tP=({isHovering:e,editButton:t,deleteButton:n,copyLinkButton:a})=>{let i=(0,tI.t)(),r=ep.tq||i;return b.createElement("div",{className:"components_taskIconsOnHover_JBk"},r?b.createElement(w.Ltx,{trigger:b.createElement(w.hU,{altText:"dropdown",icon:b.createElement(tT.s,null),size:"small",iconColor:"bodyDimmed"}),options:[...t.show?[{title:"Edit",icon:b.createElement(tC.b,null),onClick:t.onClick}]:[],...n.show?[{title:"Delete",icon:b.createElement(tS.z,null),onClick:n.onClick}]:[],...a.show?[{title:"Copy Link",icon:b.createElement(tw.w,null),onClick:a.onClick}]:[]]}):e?b.createElement(b.Fragment,null,t.show&&b.createElement(tN,{onClick:t.onClick}),n.show&&b.createElement(tA,{onClick:n.onClick,isLoading:n.isLoading}),a.show&&b.createElement(tx,{isCopied:a.isCopied,onClick:a.onClick})):null)},{secondsToVideoTS:tL}=e1,tR=({task:e,isSuggested:t=!1})=>{let n=tL(e.time_stamp),{video:{id:a,currentUserCanEdit:i=!1}}=(0,v.dPl)(),r=!t&&i,[o,l]=(0,b.useState)(void 0),s=e.owner?.display_name,[c,d]=(0,b.useState)(!1),[m,g]=(0,b.useState)(!1),p=b.useRef(null),h=(0,v.BRl)({videoId:a}),[f,{loading:E}]=eQ(e,l),_=(0,e2.rx)(e.video_id).concat("?",eF.mN,"=",e.id);"number"==typeof e.time_stamp&&(_=_.concat("&t=",String(e.time_stamp)));let[y,k]=(0,eY.Z)(_,{successDuration:2e3});return c?b.createElement(tk,{task:e,onClose:()=>d(!1),taskInputRef:p,isSuggested:t,setErrorMessage:l}):b.createElement(w.W20,{id:`sidebar-video-task-${e.id}`,className:e8.taskContainer,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),padding:t?"small":"",marginX:t?"calc(-1 * var(--lns-space-small))":""},b.createElement(w.mUb,{errorActive:!!o,errorMessage:o},b.createElement(w.ggW,{autoFlow:"column",gap:"small",alignItems:"start"},b.createElement(e4,{isSuggested:t}),b.createElement(w.ggW,{gap:"xsmall",autoFlow:"row"},b.createElement(w.ggW,{gap:"small"},b.createElement("div",{onClick:()=>h(e.time_stamp),className:e8.timestampWrapper},b.createElement(w.xvT,{color:"primary",fontWeight:"bold"},n)),t?null:b.createElement(w.xvT,{size:"body-sm",color:"bodyDimmed"},`${(0,eN.S4)(e.approved_at,{showShorthand:!0})} ${s?`by ${s}`:"by video owner"}`)),b.createElement(tP,{isHovering:m,editButton:{show:i,onClick:()=>{h(e.time_stamp),d(!0)}},deleteButton:{show:r,onClick:()=>{f(),e_.track(ej.WG,{video_id:e.video_id,task_id:e.id,target:"approved task",source:e.source})},isLoading:E},copyLinkButton:{show:!t,isCopied:y,onClick:()=>{k()}}}),b.createElement(e0.Q,{comment:e}),b.createElement(u.LoggedInOnly,null,b.createElement(tm,{task:e,isSuggested:t,setErrorMessage:l}))))))},tD=({tasks:e,isSuggested:t=!1})=>{let n=e&&0!==e.length;return b.createElement(b.Fragment,null,n&&e.map((e,n)=>b.createElement(tR,{key:`sidebar-video-task-${n}`,task:e,isSuggested:t})))},tO=e=>e.length>0,tW=({approvedTasks:e,suggestedTasks:t})=>{let{video:{currentUserCanEdit:n=!1}}=(0,v.dPl)();return t?n&&tO(t):!!e&&(n||tO(e))};var tV={taskLoader:"tasks_taskLoader_Hik",suggestedTasksContainer:"tasks_suggestedTasksContainer_1As"};let tF=(e,t,n)=>e?b.createElement(w.xvT,null,`${n} Suggested task${1!==n?"s":""} for viewers`):n?b.createElement(w.xvT,{size:"body-lg"},`Review task${1!==n?"s":""}`):b.createElement(w.xvT,{size:"body-lg"},`${t} Task${1!==t?"s":""}`),tz=({videoId:e,setIsAddingNewTask:t,taskInputRef:n})=>{let{password:a}=(0,L.u)(),i=(0,v.nn3)(e),{featureLoadedRef:r}=(0,Q.kX)(),o=(0,eO.v)({videoId:e}),s=(0,eR.z)({isOwnerAfterRecording:o}),c=sd(),d=sm(),m=(0,k.v9)(eB.RN),[g,p]=(0,b.useState)(!1),[h,f]=(0,b.useState)(!1),E=(0,ez.ag)(`(max-width: ${l.U2}px)`),_=m===eD.YS.Activity,y=o&&s.status===eV.YJ.AUTO,C=s.isWaiting&&!y,T=(0,u.useIsCurrentUserLoggedIn)(),{data:S,loading:I,error:x}=(0,ei.ow)({variables:{videoId:e,password:a},skip:!T||C}),{approvedTasks:A,suggestedTasks:N}=(0,er.y)(S),P=tW({suggestedTasks:N}),R=tW({approvedTasks:A}),D=P||R,O=(0,b.useCallback)(()=>{let e;if(E){let t=document.getElementsByClassName("rightPanelWrapper")[0],n=document.querySelector("header");if(!t||!n)return;e=t.offsetTop-n.offsetHeight-8}else{let t=document.getElementById("activity-input-header"),n=document.getElementById("right-panel-tabs");if(!t||!n)return;e=t.offsetHeight+n.offsetHeight+8}return e||0},[E]),W=(0,b.useCallback)(e=>{let t=document.getElementById(`sidebar-video-task-${e}`),n=document.getElementsByClassName("activitySidebarContainer")[0];if(!t||!n)return;let a=O();E?window.scrollTo({top:t.offsetTop+a,behavior:"smooth"}):n.scrollTo({top:t.offsetTop-a,behavior:"smooth"});let i=t.style.backgroundColor;t.style.transition="",t.style.backgroundColor="var(--lns-color-highlight)",setTimeout(()=>{t.style.transition="background-color 200ms ease-out",t.style.backgroundColor=i||""},1300)},[E,O]);return(0,b.useEffect)(()=>{if(!i)return;let e=e=>{let t=0;c||(t=500),(h||!_)&&(t+=350),d(),f(!1),setTimeout(()=>W(e),t)};return i?.on([v.zwB.taskClicked],e),()=>{i?.off([v.zwB.taskClicked],e)}},[h,c,_,d,i,W]),(0,b.useEffect)(()=>{let e=(0,eW.jS)(eF.mN),t=()=>{(0,eW.$5)(window)(eF.mN),(0,eW.$5)(window)("t")};e&&A&&setTimeout(()=>{W(e),t()},750)},[A,W]),s.isWaiting?b.createElement("div",{ref:r},b.createElement(w.LZC,{bottom:2.5},b.createElement(w.W20,{paddingBottom:"medium",borderSide:"bottom"},b.createElement(w.W20,{borderSide:"all",radius:"xlarge",className:tV.taskLoader},b.createElement(w.m9_,{animation:"spin 2s infinite steps(43) alternate",brand:"ai"}),b.createElement(w.xvT,{color:"bodyDimmed"},"Loading task suggestions…"))))):I||x?null:b.createElement("div",{ref:r},b.createElement(w.W20,{borderSide:R?"bottom":void 0,paddingBottom:h?2.5:""},R&&b.createElement(eH,{numOfTasks:A?A.length:0,titleElem:tF(!1,A?.length,N?.length),isCollapsed:h,setIsCollapsed:f,setIsAddingNewTask:t,taskInputRef:n}),b.createElement(eM,{isCollapsed:h},b.createElement(b.Fragment,null,P&&b.createElement(w.W20,{className:tV.suggestedTasksContainer,paddingX:"medium",paddingY:"small",radius:"large",marginTop:"small"},b.createElement(eH,{numOfTasks:N?N.length:0,titleElem:tF(!0,A?.length,N?.length),isCollapsed:g,setIsCollapsed:p,suggested:!0}),b.createElement(eM,{isCollapsed:g},b.createElement(tD,{tasks:N,isSuggested:!0}))),R?b.createElement(w.W20,{paddingBottom:2.5},b.createElement(tD,{tasks:A})):null))),D?b.createElement(w.LZC,{bottom:2.5}):null)},tB=e=>b.createElement(X.$,{feature:ee.L0.VideoPackaging,errorType:J.s.DEFAULT,additionalLoggingValues:{version:"tasks"}},b.createElement(tz,{...e})),tM=D.Z.div`
  position: sticky;
  background-color: var(--lns-color-background);

  padding: var(--lns-space-large) var(--lns-space-large) var(--lns-space-medium);
  margin: 0 calc(-1 * var(--lns-space-large));

  transition: box-shadow 0.5s;
  z-index: 1;

  // TODO/NOTE([VIEWX-2200]): Using a relational selector in styled components is not ideal/
  // It assumes a relationship exists which makes it brittle/easy to break.
  // https://www.loom.com/share/eb2ce7e045494b5da476c0339a5b9f81
  .sidebar-scrolled & {
    box-shadow: 0px var(--lns-space-xsmall) var(--lns-space-medium)
      var(--lns-color-backgroundHover);
  }

  ${e=>`top: ${e.top}px;`}
`,t$=({count:e})=>b.createElement(w.I7m,{height:3},e?b.createElement(w.xvT,{size:"body-md"},`${e} ${eT()("Comment",e)}`):null),tU=({commentsLength:e,handleRefetchCommentsClick:t,shouldShowFollowLoomButton:n,isFollowingVideo:a})=>{let{video:i}=(0,v.dPl)(),{password:r}=(0,L.u)(),o=(0,u.useIsCurrentUserLoggedIn)(),{id:l}=i,s=(0,p.O)(l),{data:c,loading:d,error:m}=(0,ei.ow)({variables:{videoId:l,password:r},skip:!o||s}),{approvedTasks:g}=(0,er.y)(c),h=tW({approvedTasks:g}),[f,E]=(0,b.useState)(!1),_=b.useRef(null),{isExpHighlightLoomValue:y}=(0,x.o)(),k=y&&!o&&(0,v.H2j)(l);return d||m||!h?b.createElement(tM,{id:"comments-tab-header",top:(0,eo.ny)()},f?b.createElement(tk,{videoId:l,onClose:()=>E(!1),taskInputRef:_,isNew:!0}):k?null:b.createElement(es.CommentInput,{isNewCommentEntryPoint:!0,creationMethod:ea.AP}),b.createElement(w.LZC,{bottom:2.5}),s?null:b.createElement(tB,{videoId:l,setIsAddingNewTask:E,taskInputRef:_}),b.createElement(w.Pag,{justifyContent:"space-between"},b.createElement(t$,{count:e}),b.createElement(w.I7m,{height:3},b.createElement(w.ggW,{alignContent:"end",gap:1},b.createElement(eL,{refreshCommentsOnClick:t}),n?b.createElement(eC,{videoId:l,withNewCommentEntryPoint:!0,isFollowingVideo:a}):null)))):b.createElement(b.Fragment,null,b.createElement(tM,{id:"activity-input-header",top:(0,eo.ny)()},f?b.createElement(tk,{videoId:l,onClose:()=>E(!1),taskInputRef:_,isNew:!0}):k?null:b.createElement(es.CommentInput,{isNewCommentEntryPoint:!0,creationMethod:ea.AP})),s?null:b.createElement(tB,{videoId:l,setIsAddingNewTask:E,taskInputRef:_}),b.createElement(w.Pag,{justifyContent:"space-between"},b.createElement(t$,{count:e}),b.createElement(w.I7m,{height:3},b.createElement(w.ggW,{alignContent:"end",gap:1},b.createElement(eL,{refreshCommentsOnClick:t}),n?b.createElement(eC,{videoId:l,withNewCommentEntryPoint:!0,isFollowingVideo:a}):null))),b.createElement(w.LZC,{bottom:2.5}))},tZ=({commentsLength:e,handleRefetchCommentsClick:t})=>{let{video:n}=(0,v.dPl)(),{id:a}=n,i=(0,el.A)({videoId:a}),r=(0,u.useIsCurrentUserLoggedIn)(),o=!i&&r,{data:l,loading:s,error:c}=function(e){let t={...ex,...e};return eI.a(eA,t)}({variables:{videoId:a},skip:!o}),d=(0,B.C)(),m=r||d;if(s)return null;let g=l?.result?.__typename==="UserFollowsStream"?l.result.follow??void 0:void 0,p=o&&!c;return b.createElement(b.Fragment,null,m?b.createElement(tU,{commentsLength:e,handleRefetchCommentsClick:t,shouldShowFollowLoomButton:p,isFollowingVideo:g}):b.createElement(w.W20,{paddingTop:ep.tq?void 0:"medium"},p?b.createElement(w.W20,{paddingBottom:ep.tq?void 0:"medium"},b.createElement(w.ggW,{alignContent:"end",gap:"small"},b.createElement(eC,{videoId:a,isFollowingVideo:g}))):null))};var tG=n(522);let tj=({onCommentDisplay:e})=>{let{comments:t,videoMeetingPlatform:n,error:a,loading:i,refetch:r}=(0,Y.ZS)(),o=(0,G.mG)(),{video:l,setComments:s}=(0,v.dPl)(),c=(0,v.nn3)(l.modelId),d=(0,u.useIsCurrentUserLoggedIn)(),m=(0,B.C)(),{shouldShowLoomBranding:g}=(0,N.e)({videoId:l.modelId}),{featureLoadedRef:p}=(0,Q.kX)(),[h,f]=b.useState([]),E=!d&&h.length>0&&!m&&l?.loomBrandedPlayer&&g,{sharePageSelectedComments:_,setSharePageSelectedComments:y}=(0,j.j)(),C=(0,k.v9)(et.R),T=sd(),S=sm();b.useEffect(()=>{if(t?.length>0&&h?.length>0){let e=h.map(e=>e.id),n=t.filter(t=>!e.includes(t.id)).map(e=>e.id);setTimeout(()=>{y(n)},100)}e(t&&t.length>0)},[t,e]),b.useEffect(()=>{if(t){let e;let n=(0,z.n6)(C);if((0,z.BN)(n)){let a=t.filter((0,z.eg)(n));e=(0,tG.B)([...a,o].filter(Boolean))}else e=(0,tG.B)([...t,o].filter(Boolean));f([...e])}},[C,t,s,o]),b.useEffect(()=>{if(!c)return;let e=e=>{let t=T?0:500;S(),setTimeout(()=>y(e),t)};return c?.on([v.zwB.commentClicked],e),()=>{c?.off([v.zwB.commentClicked],e)}},[c,y,T,S]);let I=()=>{r()};return a&&!i?b.createElement(w.W20,{paddingY:"20vh"},b.createElement(P.B_,{text:"Comments not available",CTAText:"Refresh comments",handleCTAClick:I})):b.createElement("div",{ref:p},b.createElement(tZ,{commentsLength:h.length,handleRefetchCommentsClick:I}),i?b.createElement(U,null):b.createElement(F,{overlay:b.createElement(en.i,{commentCount:h.length}),overlayTop:"36%",enabled:E,unScrollable:!0},b.createElement(H.e,{videoMeetingPlatform:n,comments:h,highlightGroup:_,showPlaceholderWhenNoComments:!0,inActivitySidebar:!0})))},tH=e=>b.createElement(X.$,{feature:ee.L0.Comments,errorType:J.s.CUSTOM,customErrorBoundary:b.createElement(tY,{...e})},b.createElement(tj,{...e})),tY=e=>{let t=(0,q.k6)(),n=()=>{t.go(0)},{reportError:a}=(0,Q.kX)();return b.createElement(P.SV,{feature:ee.L0.Comments,name:K.j8.SharePageCommentsErrorBoundary,onError:e=>a(ee.L0.Comments,e),renderError:()=>b.createElement(w.W20,{paddingY:"20vh"},b.createElement(P.B_,{text:"Comments not available",CTAText:"Refresh page",handleCTAClick:n,showWarningIcon:!0}))},b.createElement(tj,{...e}))},tq=({onCommentDisplay:e,isScrolledInSidebar:t})=>{let{video:n}=(0,v.dPl)(),{needsPassword:a,password:i}=(0,L.u)(),r=b.useRef(null),o=n?.currentUserCanEdit;return a&&!i?null:n.commentsEnabled||o?b.createElement(R.L,{ref:r},b.createElement("section",{className:"commentsWrapper",id:"comments",ref:r},b.createElement(j.Y,null,b.createElement(tH,{onCommentDisplay:e,isScrolledInSidebar:t})))):b.createElement(Z,null)};var tK=n(49003),tX=n(27125),tJ=n(41106),tQ=n(82858),t0=n(61218);let t1=()=>{let{highlightValueOfLoomAfterOauthLogin:e}=(0,tX.H)(),{video:{id:t}}=(0,v.dPl)();return b.createElement(w.xMy,null,b.createElement(w.W20,{marginTop:"xlarge",width:"100%"},b.createElement(w.ggW,{autoFlow:"row",gap:"medium"},b.createElement(w.ggW,{autoFlow:"row",gap:"medium",justifyItems:"center"},b.createElement(w.xvT,{size:"heading-sm",fontWeight:"bold"},"Sign up to record for free"),b.createElement(tJ.Z,{color:"bodyDimmed"})),b.createElement(w.W20,{marginTop:"small"},b.createElement("button",{onClick:e=>{e.preventDefault(),e_.track(s.NQQ,{videoId:t})},className:m()("signup-cta-right-panel_buttonInvisible_xQk","p:0 m:0 width:full")},b.createElement(tQ.V,{afterOauthHandler:e,source:"marketing-loom"})),b.createElement(w.LZC,{top:"small"},b.createElement(w.zxk,{icon:b.createElement(t0.a,null),htmlTag:"a",hasFullWidth:!0,size:"large",onClick:e=>{e.preventDefault(),e_.track(s.iwp,{videoId:t}),window.open(tK.C1,"_blank","noopener,noreferrer")},role:"button"},"Sign up with email"))))))};var t2=n(27974);let t3=()=>{let[e,t]=(0,b.useState)(!1),{video:n}=(0,v.dPl)(),{id:a}=n,{isLoggedUser:i}=(0,v.SEh)(),{comments:r,loading:o}=(0,Y.ZS)(),{isExpHighlightLoomValue:l}=(0,x.o)(),{isEnabled:s,isLoading:c}=(0,A.Z)(n),[d,m]=(0,b.useState)(0),u=(0,b.useRef)(null),g=l&&!i&&(0,v.H2j)(a),p=(0,b.useMemo)(()=>b.createElement(tq,{onCommentDisplay:t}),[e]);return o||c?b.createElement(w.LZC,{left:3,right:3},b.createElement(U,null)):b.createElement(b.Fragment,null,s?b.createElement(b.Fragment,null,b.createElement(w.LZC,{left:3,right:3},b.createElement("div",null,p),b.createElement(t5,{heightInPx:d})),b.createElement("div",{ref:u,className:S.viewerWorkflowsContainer},b.createElement(I,{onMountCallback:()=>{m(u.current?.clientHeight??0)},isExpanded:3>(0,t2.h)(r)}))):b.createElement(w.LZC,{left:3,right:3},g?b.createElement(t1,null):b.createElement("div",null,p)))};function t5({heightInPx:e}){return b.createElement("div",{style:{height:`${e}px`}})}let t4={},t8=(0,eS.Ps)`
    query GeneratedLoomCategorization($videoId: ID!) {
  generatedLoomCategorization(videoId: $videoId) {
    __typename
    ... on GeneratedLoomCategorizationPayload {
      generatedCategory {
        assignedCategory
        suggestedCategory
      }
      __typename
    }
    ... on Error {
      message
      __typename
    }
  }
}
    `;var t7=n(21674),t9=n(21705),t6=n(35816);let ne=e=>{let[t,n]=(0,b.useState)(0),a=(0,b.useCallback)(()=>{n(e=>e+1)},[]);return b.createElement(P.SV,{key:t,name:`[${e.tabName}]${K.j8.SidebarTabErrorBoundary}`,...e,renderError:()=>b.createElement(w.W20,{paddingY:"20vh"},b.createElement(P.B_,{text:`${e.tabName} not available`,CTAText:`Refresh ${e.tabName}`,handleCTAClick:a,showWarningIcon:!0}))})};var nt=n(20076);let nn=(0,nt.r)(()=>Promise.all([n.e(3939),n.e(6102),n.e(8285)]).then(n.bind(n,86532)).then(e=>({default:e.Transcript}))),na=()=>b.createElement(b.Suspense,{fallback:null},b.createElement(nn,null));var ni=n(89536),nr=n(37516),no=n(99739),nl=n(67591),ns=n(44954),nc=n(16089),nd=n.n(nc),nm=n(54182),nu=n(91564),ng=n(72197),np=n(22941),nh=n(6621),nv=n(29256);let nf=(0,eS.Ps)`
    fragment AutoFeatureStatuses on AutoFeatureStatuses {
  id
  autoTitleStatus
  autoDescriptionStatus
  autoChaptersStatus
  autoTasksStatus
  autoTasksCount
  hasSilenceRemovalEnabled
  hasFillerWordRemovalEnabled
  hasFillerWordPlusRemovalEnabled
  numberOfFillerWordsTrimmed
  secondsOfSilenceTrimmed
}
    `,nE=(0,eS.Ps)`
    subscription AutoFeatureStatusChanged($videoId: ID!) {
  autoFeatureStatusChanged(videoId: $videoId) {
    autoFeatureStatuses {
      ...AutoFeatureStatuses
    }
  }
}
    ${nf}`,n_={},ny=(0,eS.Ps)`
    query GetAutoFeatureStatuses($videoId: ID!, $password: String) {
  getAutoFeatureStatuses(videoId: $videoId, password: $password) {
    ... on AutoFeatureStatuses {
      ...AutoFeatureStatuses
    }
    ... on Error {
      message
    }
  }
}
    ${nf}`,nb=({videoId:e,skip:t=!1})=>{let{password:n}=(0,L.u)(),a=(0,b.useRef)(),[i,r]=(0,b.useState)(!1),{data:o,subscribeToMore:l,loading:s,refetch:c}=function(e){let t={...n_,...e};return eI.a(ny,t)}({variables:{videoId:e,password:n},skip:t,onCompleted:e=>{e.getAutoFeatureStatuses?.__typename!=="AutoFeatureStatuses"&&r(!0)},onError:()=>{r(!0)}});return(0,b.useEffect)(()=>{a.current=l({document:nE,variables:{videoId:e},updateQuery:(e,{subscriptionData:t})=>e.getAutoFeatureStatuses?.__typename==="AutoFeatureStatuses"&&t.data?.autoFeatureStatusChanged?.autoFeatureStatuses?Object.assign({},e,{getAutoFeatureStatuses:{...e.getAutoFeatureStatuses,...t.data.autoFeatureStatusChanged.autoFeatureStatuses}}):e})},[l,e]),(0,b.useEffect)(()=>{let e=setTimeout(()=>{a.current?.()},1e4);return()=>clearTimeout(e)},[]),{...(0,b.useMemo)(()=>{if(o?.getAutoFeatureStatuses?.__typename!=="AutoFeatureStatuses")return{autoTitleStatus:null,autoDescriptionStatus:null,autoChaptersStatus:null,autoTasksStatus:null,autoTasksCount:0,hasFillerWordRemovalEnabled:!1,hasSilenceRemovalEnabled:!1,numberOfFillerWordsTrimmed:0,secondsOfSilenceTrimmed:0};let{autoTitleStatus:e,autoDescriptionStatus:t,autoChaptersStatus:n,autoTasksStatus:a,autoTasksCount:i,hasFillerWordRemovalEnabled:r,hasSilenceRemovalEnabled:l,numberOfFillerWordsTrimmed:s,secondsOfSilenceTrimmed:c}=o.getAutoFeatureStatuses;return{autoTitleStatus:e,autoDescriptionStatus:t,autoChaptersStatus:n,autoTasksStatus:a,autoTasksCount:i??0,hasFillerWordRemovalEnabled:r,hasSilenceRemovalEnabled:l,numberOfFillerWordsTrimmed:s??0,secondsOfSilenceTrimmed:c??0}},[o]),isLoading:s,hasError:i,refetchStatuses:c}},nk=e=>(Date.now()-new Date(e).getTime())/1e3>=eV.Az,nC=e=>[null,nv.jC.Pending,nv.CK.InProgress].includes(e),nw=e=>null!==e&&[nv.jC.Auto,nv.CK.Success].includes(e),nT=e=>e===nv.jC.User,nS=({videoId:e,skip:t=!1})=>{let{video:{createdAt:n}}=(0,v.dPl)(),a=(0,k.v9)(eB.Pw),i=(0,v.DWr)(e),{setShowConfirmationToast:r}=(0,ng.x)(),[o,l]=(0,b.useState)(!1),{languageUnavailable:c,transcriptAvailable:d,transcriptEmpty:m,transcriptInProgress:u,transcriptRegenerating:g,transcriptUnavailable:p}=(0,h.h7)(),{autoTitleStatus:f,autoDescriptionStatus:E,autoChaptersStatus:_,autoTasksCount:y,hasSilenceRemovalEnabled:C,hasFillerWordRemovalEnabled:w,numberOfFillerWordsTrimmed:T,secondsOfSilenceTrimmed:S,isLoading:I,hasError:x,refetchStatuses:A}=nb({videoId:e,skip:t}),N=(0,ni.Mr)({flag:nh.ud,activationValues:[!0]}),P=nk(n),L=N||!P,R=_===nv.CK.NotStarted,D=!L||!nC(f),O=nw(f),W=!L||!nC(E),V=nw(E),F=R||!nC(_),z=nw(_),{userEdited:B}=(0,np.Jp)(),M=[O,V,z,y>0].filter(Boolean).length>0;return(0,b.useEffect)(()=>{if(a&&!o&&(S>0||T>0)){S>0&&e_.track(s.sD5,{videoId:e,secondsOfSilenceTrimmed:S}),T>0&&e_.track(s.tXZ,{videoId:e,numberOfFillerWordsTrimmed:T}),l(!0);let t="auto-fws-removal:",n={videoId:e,secondsOfSilenceTrimmed:S,numberOfFillerWordsTrimmed:T};i?(eh.info(`${t} completed after video played`,n),r("We've automatically trimmed filler words and silences from your video! Please reload to see the changes.")):eh.info(`${t} completed before video played`,n)}},[a,T,S,o,l,i,e,r]),{autoChaptersGenerated:z,autoSummaryGenerated:V,autoTasksCount:y,autoTitleGenerated:O,hasAnyIntelligenceFeatures:M,hasError:x,hasTrimmedFillerWords:w,hasTrimmedSilences:C,hasUserEditedChapters:B,hasUserEditedSummary:nT(E),hasUserEditedTitle:nT(f),isLoading:I||!(D&&W&&F)&&a,languageUnavailable:c,numberOfFillerWordsTrimmed:T,refreshStatus:A,secondsOfSilenceTrimmed:S,transcriptAvailable:d,transcriptEmpty:m,transcriptInProgress:u,transcriptRegenerating:g,transcriptUnavailable:p}};var nI=n(66009),nx=n(72924),nA=n(67184),nN=n(29790);let nP=()=>{let e=(0,k.I0)(),{setVideo:t,setVideoProperties:n}=(0,v.dPl)(),{fetchShareVideoDownloadUrl:a}=(0,nN.g)();return i=>{e((0,nx.qh)(!0)),t({processingInformation:{trimId:i.processing_information.trim_id,trimProgress:i.processing_information.trim_progress,trimRanges:i.processing_information.trim_ranges,videoUploadValid:!!i.processing_information.videoUploadValid}}),n({playableDuration:i.playable_duration}),e((0,nx.mV)(null)),a(),e((0,nA.Mb)(null)),e((0,nI.HQ)())}};var nL=n(97287),nR=n(97958),nD=n(54086),nO=n(84888);let nW=()=>{let{video:{personalizationType:e,isParentOfPersonalizedCopies:t}}=(0,v.dPl)(),n=e===nv.at.Audio;return!!(n&&!t)||!(n&&t)},nV={},nF=(0,eS.Ps)`
    mutation UpdateUserVideoSettings($videoSettings: UserVideoSettingsInput!) {
  updateUserVideoSettings(videoSettings: $videoSettings) {
    __typename
    ... on UpdateUserVideoSettingsPayload {
      user {
        id
        videoSettings {
          auto_filler_word_removal
          auto_silence_removal
          show_transcript_to_viewer
          show_analytics_to_viewer
          suggested_playback_rate
          download_enabled
          record_reply_enabled
          viewers_can_weave_default
          comments_enabled
          comments_email_enabled
          use_emojis
          use_gif
          auto_cta
          auto_title
          auto_eovn
          auto_summary
          auto_chapters
          auto_tasks
          loom_branded_player
          noise_suppression
          email_gate_video_type
          salesforce_engagement_tracking
          stylizedCaptions
          viewerCaptionsOn
        }
      }
    }
  }
}
    `;function nz(e){let t={...nV,...e};return eq.D(nF,t)}let nB={},nM=(0,eS.Ps)`
    mutation UpdateVideoSettings($videoId: ID!, $settings: VideoSettingsInput!, $password: String) {
  updateVideoSettings(videoId: $videoId, settings: $settings, password: $password) {
    __typename
    ... on UpdateVideoSettingsPayload {
      video {
        id
        comments_email_enabled
        comments_enabled
        download_enabled
        loom_branded_player
        processing_information {
          noise_cancellation_type
        }
        record_reply_enabled
        show_analytics_to_viewer
        show_transcript_to_viewer
        suggested_playback_rate
        use_emojis
        use_gif
        viewers_can_weave
        stylizedCaptions
        viewerCaptionsOn
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function n$(e){let t={...nB,...e};return eq.D(nM,t)}var nU=n(90515),nZ=n(69194),nG=n(93169),nj=n(23018),nH=n(65275),nY=n(42349),nq=n(80686),nK=n(1489),nX=n(46858),nJ=n(7273),nQ=n(93472),n0=n.p+"img/add-a-link-tooltip-10805c7554901df732e2.png",n1={editItemButton:"edit-item_editItemButton_fsF",isDisabled:"edit-item_isDisabled_2va",shorterLineHeight:"edit-item_shorterLineHeight_Eg6",popover:"edit-item_popover_2-g"};let n2=({icon:e,title:t,rightOption:n,onClick:a,isDisabled:i,disabledTooltipText:r,popoverContent:o})=>{let[l,s]=(0,eg.XI)({delayEnter:100}),c=l&&!i,{triggerProps:d,layerProps:u,renderLayer:g}=(0,eg.sJ)({isOpen:c,placement:"left-center",triggerOffset:12,auto:!0});return b.createElement(b.Fragment,null,b.createElement(w.ua7,{tabIndex:-1,content:r,isDisabled:!i||!r,placement:"bottomCenter",isInline:!1},b.createElement("span",{...d,...s},b.createElement(w.W20,{className:m()({[n1.editItemButton]:!0,[n1.isDisabled]:i}),onClick:i?void 0:a,padding:"small"},b.createElement(w.ggW,{columns:["auto","1fr","auto"],gap:"medium"},b.createElement(w.JO$,{icon:e}),b.createElement(w.xvT,{fontWeight:"medium"},b.createElement("div",{className:n1.shorterLineHeight},t)),n)))),c?g(b.createElement("div",{...u,className:n1.popover},o)):null)};var n3=n(48892),n5=n(68934),n4=n(60398),n8=n(60176),n7=n(62189),n9=n(10768),n6=n(18807);let ae=(e=nu.y.AI_SIDEBAR_CTA)=>{let t;let n=(0,nO.hP)(),{data:a}=(0,n3.rj)({variables:{workspaceId:n?.id},skip:!n?.id}),i=a?.billing?.billing_details,r=n?.type,o=!!i&&(0,n4.V9)(i),l=n?.organization_properties?.salesSupportType===n9.$v||r===n6.zF,s=i?.add_ons??[],c=s?s.find(e=>(0,n8.Sp)(e.price.product).addon===nv.e9.Ai):void 0,d=!!i?.paused,m=c&&n?.memberRole===n7.N,u=!c&&n?.memberRole!==n7.Xx;switch(!0){case m||u:t="request-ai";break;case c&&(0,n8.Sp)(c.price.product).addon===nv.e9.Ai&&!o:t="has-ai-addon";break;case l:t="sales-led";break;case r===n6.UK||o:t="with-base-plan";break;default:t="add-on-only"}let{onClick:g}=(0,n5.L)({purchaseType:t,source:e,pureTrial:o,paused:d});return{onClick:g}};var at=n(37195);let an=()=>b.createElement(w.W20,{radius:"large",paddingX:"medium",paddingY:"6px",backgroundColor:"disabledBackground",borderSide:"all"},b.createElement(w.JO$,{icon:b.createElement(at.R,null),size:2})),aa=({icon:e,title:t,popoverContent:n,upgradeSourceLocation:a})=>{let{onClick:i}=ae(a);return b.createElement(n2,{icon:e,title:t,rightOption:b.createElement(an,null),onClick:i,popoverContent:n})},ai=()=>b.createElement(w.ggW,{gap:"xsmall"},b.createElement(w.xMy,{alignment:"bottomCenter"},b.createElement(w.xvT,{color:"primary"},"Add")),b.createElement(w.JO$,{icon:b.createElement(nQ.n,null)})),ar=({isTrialing:e})=>b.createElement(w._MZ,null,b.createElement(nJ.f,{img:n0,imgAlignment:"bottomLeft",imgWidth:"190px",altText:"Link",text:"Add a link within your video",trial:e})),ao=({onClick:e,disabledTooltipText:t,isTrialing:n,hasExistingLink:a,isAutoLinkDetected:i,autoLinkTitle:r,hasScope:o})=>{let l=a?"Edit the link":i?`${r} link mentioned`:"Add a link";return o?b.createElement(n2,{icon:b.createElement(tw.w,null),title:l,onClick:e,rightOption:i&&!a?b.createElement(ai,null):b.createElement(w.JO$,{icon:b.createElement(nQ.n,null)}),isDisabled:!1,disabledTooltipText:t,popoverContent:b.createElement(ar,{isTrialing:n})}):b.createElement(aa,{icon:b.createElement(tw.w,null),title:"Add a link",popoverContent:b.createElement(ar,{isTrialing:n}),upgradeSourceLocation:nu.y.ADD_LINK_LOCKED_BUTTON})};var al=n(24097),as=n(72357),ac=n(39853),ad=n(88281),am=n(74137),au=n(25872),ag=n(58119),ap=n(27584),ah=n(45218),av=n(85578),af=n(20537);let aE=()=>{let e=(0,au.l)(),{shouldShowAtlassianWelcomeModal:t,loading:n}=(0,ag.a)(),{selectedWorkspace:a,isFetching:i}=(0,ns.mf)(),r=(0,ni.Mr)({flag:nh.Ej,activationValues:am.y}),{value:o,loading:l}=(0,as.B)(av.BR.SEASONAL_LAUNCH_MODAL_VARIANTS),s=(0,u.useCurrentUserSelector)(e=>e.memberships?.[0]?.organization.is_pure_trial??!1,!1),c=a?.memberRole===n7.Xx||a?.memberRole===n7.dt,{data:d}=(0,n3.rj)({variables:{workspaceId:a?.id},skip:!a?.id}),m=d?.customer?.__typename==="LoomCustomer"?d.customer:null,g=(0,n4.yO)(m),{loading:p,value:h}=(0,af.h)(ah.aM.ALLOWS_AI),v=(0,ap.df)(a),f=a?.type===n6.q1&&s&&!g,E=a?.type===n6.Fs,_=!!e.get("request_ai_addon")||!!e.get("ai_addon_upgrade"),y=(0,ez.MS)()&&r&&!l&&!_&&!E&&!i&&void 0!==a&&!t&&!n&&c&&!v&&!f&&!p&&!!h,k=(0,b.useRef)(!!o);return{showSeasonalLaunchVariantsFtuxModal:y,hasSeenSeasonalLaunchVariantFtuxOnPageLoad:k}};var a_=n(19550),ay=n(35369),ab=n(21844),ak=n.p+"img/audio-variables-tooltip-1-8b92321a85ce79b5583d.png",aC=n(58298);let aw=function(){return b.createElement(w.W20,{backgroundColor:"blurpleLight",paddingY:.5,paddingX:1,radius:"full",width:"fit-content"},b.createElement(w.ggW,{gap:.5},b.createElement(w.JO$,{icon:b.createElement(w.TRl,{variant:"symbol",maxWidth:2}),color:"blurple"}),b.createElement(w.xvT,{fontWeight:"bold",color:"blurple"},"Limited-time beta")))},aT=({isClosable:e=!0,onClose:t,isBeta:n,img:a,altText:i,text:r,title:o})=>b.createElement(w.W20,{className:"relative",radius:"large",borderSide:"all",backgroundColor:"white",width:"300px",shadow:"medium"},e&&b.createElement(aS,null,b.createElement(w.hU,{altText:"close",onClick:t,icon:b.createElement(aC.G,null),iconColor:"white"})),b.createElement(aI,null,b.createElement("img",{src:a,alt:i})),b.createElement(ax,null,n?b.createElement(w.W20,{paddingBottom:"small"},b.createElement(aw,null)):null,b.createElement(w.W20,{paddingTop:"small"},b.createElement(w.ggW,{gap:"small",autoFlow:"row"},b.createElement(w.xvT,{variant:"title"},o),b.createElement(w.xvT,{variant:"body",color:"bodyDimmed"},r))))),aS=D.Z.div`
  position: absolute;
  top: 6px;
  right: 4px;
  z-index: 2; /* Needed to show the close button */
`,aI=D.Z.div`
  position: relative;
  z-index: ${1};
  border-radius: var(--lns-radius-large) var(--lns-radius-large) 0 0;
  height: 150px;
  overflow: hidden;
`,ax=D.Z.div`
  position: relative;
  padding: var(--lns-space-medium);

  &:after {
    content: '';
    position: absolute;
    z-index: ${0};
    top: -${14}px;
    left: 0;
    right: 0;
    height: calc(100% + ${14}px);
    box-shadow: inset 0px 28px 20px -16px var(--lns-color-primary);
    border-radius: var(--lns-radius-large);
    background: transparent;
  }
`,aA=({isClosable:e})=>{let t=(0,ab.st)();return b.createElement(w.W20,{className:m()({popovers_fadeInTooltip_nxQ:e})},b.createElement(aT,{isClosable:e,onClose:e?()=>{t(av.BR.AUDIO_VARIABLES_SHARE_PAGE_FTUX)}:void 0,img:ak,altText:"Variables introduction",isBeta:!1,title:"Introducing audio variables",text:"Generate unique video messages for multiple recipients with just one video."}))};var aN=n.p+"img/consolidated-edit-tooltip-with-overlays-ec65020f68ed6d44d555.png",aP=n.p+"img/consolidated-edit-tooltip-23cf237f42ce5561ae85.jpg";let aL=()=>(0,ni.Mr)({flag:nh.lt,activationValues:[nh.c7]})?b.createElement(aT,{isClosable:!1,isBeta:!1,img:aN,altText:"Consolidated Editor introduction",title:"Polish and edit your video",text:"Streamlined editing, trim and stitch clips, and add boxes, text & arrow overlays for extra clarity"}):b.createElement(aT,{isClosable:!1,isBeta:!1,img:aP,altText:"Consolidated Editor introduction",title:"Polish and edit your video",text:"Experience streamlined editing with your one-stop-shop for editing your Loom video."});var aR=n.p+"img/quick-edit-tooltip-5e9e666ec6f050b0eee0.png";let aD=()=>b.createElement(aT,{isClosable:!1,isBeta:!1,img:aR,altText:"Remove silences and filler words introduction",title:"Auto-remove ums, ahs, and awkward silences",text:"Easily enhance your video and remove filler words and silences in one click."});var aO=n.p+"img/auto-context-popover-18cb4e2e8f82fcf0711c.png";let aW=()=>b.createElement(aT,{isClosable:!1,isBeta:!1,img:aO,altText:"Auto context introduction",title:"Auto-enhance videos with AI",text:"Auto-titles, summaries, and chapters entice your viewers to click play."});var aV=n.p+"img/workflows-popover-f29bb8190e52d4104f7f.png";let aF=()=>b.createElement(aT,{isClosable:!1,isBeta:!1,img:aV,altText:"AI workflows introduction",title:"Complete important workflows fast",text:"Instantly turn your video into a doc, message, or bug report with AI workflows."});var az=n.p+"img/consolidated-edit-tooltip-with-overlays-and-links-a31c0a10f9129b6d1d4e.png";let aB=()=>(0,ni.Mr)({flag:nh.lt,activationValues:[nh.c7]})?b.createElement(aT,{isClosable:!1,isBeta:!1,img:az,altText:"Edit tools introduction",title:"Polish and edit your video",text:"Streamlined editing, trim and stitch clips, and add a CTA link, boxes, text & arrow overlays for extra clarity"}):b.createElement(aT,{isClosable:!1,isBeta:!1,img:aP,altText:"Edit tools introduction",title:"Polish and edit your video",text:"Streamlined editing, trim and stitch clips, and add a CTA link for extra clarity"}),aM=({videoId:e,unavailableTooltipText:t})=>{let[n,a]=(0,b.useState)(!1),[i,r]=(0,al.Z)(),{hasAccess:o,reason:l}=(0,ad.i)(),{showSeasonalLaunchVariantsFtuxModal:c,hasSeenSeasonalLaunchVariantFtuxOnPageLoad:d}=aE(),m=!c||c&&d.current,{value:u,loading:p}=(0,as.B)(av.BR.AUDIO_VARIABLES_SHARE_PAGE_FTUX),h=(0,k.v9)(eB.RN)===eD.YS.Edit,{isCollapsed:v}=(0,g.m)(),f=(0,k.v9)(ay.yX),E=f?f.length:0,_=!v&&h&&o&&r&&!u&&!p&&0===E&&m;return b.createElement(a$,{isOpen:_||!!(o&&n),placement:"leftCenter",rootId:"container",offset:1,content:b.createElement(aA,{isClosable:_})},b.createElement("div",{onMouseEnter:()=>{a(!0),o||e_.track(s.orR,{video_id:e,disabled_reason:l})},onMouseLeave:()=>a(!1),ref:i},b.createElement(n2,{icon:b.createElement(a_.j,null),title:"Add an audio variable",onClick:()=>{(0,ac.Qu)(e,"share-page")},rightOption:b.createElement(w.JO$,{icon:b.createElement(nQ.n,null)}),isDisabled:!o,disabledTooltipText:l??t})))},a$=(0,D.Z)(w.J2e)`
  width: 100%;
`,aU=()=>{let[e,t]=(0,b.useState)(!1);return b.createElement(aZ,{isOpen:e,placement:"leftCenter",rootId:"container",offset:1,content:b.createElement(aA,{isClosable:!1})},b.createElement("div",{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>t(!1)},b.createElement(aa,{title:"Add an audio variable",icon:b.createElement(a_.j,null),upgradeSourceLocation:nu.y.VARIABLES})))},aZ=(0,D.Z)(w.J2e)`
  width: 100%;
`;var aG=n(30328),aj=n(88554),aH=n(58334),aY=n(97965),aq=n(62883),aK={popoverButton:"auto-applied-popover-button_popoverButton_1-a",isDisabled:"auto-applied-popover-button_isDisabled_171",quickEditIcon:"auto-applied-popover-button_quickEditIcon_TBL",isOpen:"auto-applied-popover-button_isOpen_3u1",chevronIcon:"auto-applied-popover-button_chevronIcon_25T",popoverContent:"auto-applied-popover-button_popoverContent_1_V",aiAppliedMenuButton:"auto-applied-popover-button_aiAppliedMenuButton_1s3",editText:"auto-applied-popover-button_editText_16L",aiAppliedIcon:"auto-applied-popover-button_aiAppliedIcon_1gF",autoAppliedIconAnimation:"auto-applied-popover-button_autoAppliedIconAnimation_3Dp",autoAppliedTextAnimation:"auto-applied-popover-button_autoAppliedTextAnimation_2fQ",text:"auto-applied-popover-button_text_2nl",textOverlay:"auto-applied-popover-button_textOverlay_93a"};let aX=({icon:e,text:t,onEditClick:n})=>b.createElement("button",{className:aK.aiAppliedMenuButton,onClick:n},b.createElement(w.JO$,{icon:e,className:aK.aiAppliedIcon}),t,b.createElement("span",{className:aK.editText},"Edit")),aJ=()=>{let e=(0,k.I0)();return b.createElement(w.xvT,{size:"body-sm"},"Manage your Loom AI default settings"," ",b.createElement(w.rUS,{htmlTag:"button",onClick:()=>e((0,nx.oi)(!0))},"here"))},aQ=({isAiTitleApplied:e,isAiChaptersApplied:t,isAiSummaryApplied:n,videoId:a,isDisabled:i,tooltipText:r,displayDefaultSettingsCallout:o,hasAiInitiallyGenerated:l})=>{let{focusDescriptionInput:c}=(0,aG.Gq)(),{enterEditMode:d}=(0,aj.K)(),{editChapters:u}=(0,np.Jp)(),[g,p]=(0,b.useState)(!1),h=(0,b.useRef)(null);return(0,w.t$X)(h,()=>p(!1)),b.createElement(b.Fragment,null,b.createElement("div",{ref:h},b.createElement(w.J2e,{isOpen:g&&!i,offset:1,placement:"bottomRight",content:b.createElement("div",{className:aK.popoverContent},b.createElement(w.W20,{backgroundColor:"background"},b.createElement(w.ggW,{autoFlow:"row",gap:"medium",justifyContent:"stretch"},e&&b.createElement(aX,{icon:b.createElement(nZ.K,null),text:"Title added",onEditClick:()=>{p(!1),d(aj.p.AISidebar,a)}}),t&&b.createElement(aX,{icon:b.createElement(aH._,null),text:"Chapters added",onEditClick:()=>{p(!1),u({analyticsEventName:s.P9z,scrollIntoView:!0})}}),n&&b.createElement(aX,{icon:b.createElement(aY.b,null),text:"Summary added",onEditClick:()=>{p(!1),c(a,"sidebar")}}),o?b.createElement(aJ,null):null)))},b.createElement(w.ua7,{tabIndex:-1,content:r,isDisabled:!r,maxWidth:22},b.createElement("button",{className:m()({[aK.popoverButton]:!0,[aK.isOpen]:g,[aK.isDisabled]:i}),onClick:()=>{i||p(!g)}},b.createElement(w.ggW,{gap:"xsmall"},b.createElement("div",{className:m()({[aK.autoAppliedIconAnimation]:l})},b.createElement(w.JO$,{className:aK.quickEditIcon,size:2,icon:b.createElement(aq.r,null)})),b.createElement("div",{className:m()({[aK.autoAppliedTextAnimation]:l})},l&&b.createElement(w.xvT,{fontWeight:"medium",className:aK.textOverlay},"Auto-applied"),b.createElement(w.xvT,{fontWeight:"medium",className:aK.text},"Auto-applied")),b.createElement(w.JO$,{className:aK.chevronIcon,size:2,icon:b.createElement(e$.u,null)})))))))};var a0={upgradeLink:"edit-header_upgradeLink_3Ki",headerBackground:"edit-header_headerBackground_2PA",upgradeHeaderButton:"edit-header_upgradeHeaderButton_2Hs"};let a1=({children:e})=>b.createElement(w.W20,{height:10,paddingX:"small"},b.createElement(w.xMy,{alignment:"centerLeft"},e)),a2=()=>b.createElement(a1,null,b.createElement(w.ggW,{columns:["1fr","auto"],width:"100%"},b.createElement(w.ggW,{autoFlow:"row"},b.createElement(w.xvT,{size:"body-lg",fontWeight:"bold"},"Loom AI is generating..."),b.createElement(w.xvT,{size:"body-sm",color:"bodyDimmed"},"This usually takes a few seconds")),b.createElement(w.m9_,{animation:"spin 2s infinite steps(43) alternate",brand:"ai"}))),a3=()=>b.createElement(a1,null,b.createElement(w.ggW,{gap:"xsmall"},b.createElement(w.xvT,{size:"body-lg"},"Powered by"),b.createElement(w.xvT,{size:"body-lg",fontWeight:"bold"}," ","Loom AI"),b.createElement(w.xMy,{alignment:"topCenter"},b.createElement(w.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"})))),a5=()=>{let{onClick:e}=ae(nu.y.AI_SIDEBAR_CTA);return b.createElement(a1,null,b.createElement(w.ggW,{autoFlow:"row"},b.createElement(w.ggW,{gap:"xsmall"},b.createElement(w.xvT,{size:"body-lg"},"Powered by"),b.createElement(w.xvT,{size:"body-lg",fontWeight:"bold"}," ","Loom AI"),b.createElement(w.xMy,{alignment:"topCenter"},b.createElement(w.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"}))),b.createElement(w.xvT,{size:"body-sm",color:"bodyDimmed"},b.createElement("span",{className:a0.upgradeLink,onClick:e},"Upgrade now")," ","to keep access to AI + Editing features")))},a4=({children:e})=>{let{onClick:t}=ae(nu.y.AI_SIDEBAR_CTA);return b.createElement(w.W20,{paddingY:"medium"},b.createElement("div",{className:a0.upgradeHeaderButton,role:"button",onClick:t},b.createElement(w.ggW,{gap:"large",justifyContent:"space-between"},b.createElement(w.ggW,{autoFlow:"row",gap:"xsmall"},b.createElement(w.ggW,{gap:"xsmall"},b.createElement(w.xvT,{size:"heading-sm",fontWeight:"bold"},"Get Loom AI"),b.createElement(w.xMy,{alignment:"topCenter"},b.createElement(w.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"}))),e),b.createElement(w.JO$,{icon:b.createElement(nQ.n,null)}))))},a8=()=>b.createElement(a4,null,b.createElement(w.ggW,{autoFlow:"row"},b.createElement(w.xvT,{size:"body-sm",color:"bodyDimmed"},"Try out Loom AI on your next few videos."),b.createElement(w.xvT,{size:"body-sm",color:"primary"},"Upgrade to keep access"))),a7=()=>b.createElement(a4,null,b.createElement(w.xvT,{size:"body-sm",color:"bodyDimmed"},"Create better video messages with AI-powered titles, editing, and workflows. ",b.createElement("span",{className:a0.upgradeLink},"Upgrade now")," ")),a9=()=>b.createElement(a1,null,b.createElement(w.ggW,{autoFlow:"row"},b.createElement(w.xvT,{fontWeight:"bold"},"Loom AI not available on this video"),b.createElement(w.xvT,{size:"body-sm",color:"bodyDimmed"},"Some videos are not eligible for AI features. If you believe this was an error, please contact support."))),a6=({variant:e})=>b.createElement("div",{className:a0.headerBackground},"ai-loading"===e&&b.createElement(a2,null),"ai"===e&&b.createElement(a3,null),"ai-trial"===e&&b.createElement(a5,null),"extra-ai-tries"===e&&b.createElement(a8,null),"no-ai-access"===e&&b.createElement(a7,null),"ai-not-available"===e&&b.createElement(a9,null));var ie={editPageButton:"edit-page-button_editPageButton_3tx",mainText:"edit-page-button_mainText_2xb",subText:"edit-page-button_subText_1Yx",trimIcon:"edit-page-button_trimIcon_289",isDisabled:"edit-page-button_isDisabled_2Ym",noAi:"edit-page-button_noAi_1yf",popover:"edit-page-button_popover_3AT"};let it=({onClick:e,mainText:t,subText:n,isDisabled:a=!1,tooltipText:i,noAi:r=!1})=>{let[o,l]=(0,eg.XI)({delayEnter:100}),s=o&&!a,{triggerProps:c,layerProps:d,renderLayer:u}=(0,eg.sJ)({isOpen:s,placement:"left-center",triggerOffset:12});return b.createElement(b.Fragment,null,b.createElement(w.ua7,{tabIndex:-1,content:i,placement:"bottomCenter",isDisabled:!i,isInline:!1},b.createElement("span",{...c,...l},b.createElement("button",{className:m()({[ie.editPageButton]:!0,[ie.isDisabled]:a,[ie.noAi]:r}),onClick:e,disabled:a},b.createElement(w.W20,{padding:"small",backgroundImage:a?void 0:"var(--lns-gradient-ai-secondary)",height:"100%",width:"100%"},b.createElement(w.ggW,{columns:["auto","1fr","auto"],gap:1.5,justifyContent:"stretch"},b.createElement(w.JO$,{icon:b.createElement(nH.c,null),className:ie.trimIcon}),b.createElement(w.Pag,{direction:"column",alignItems:"flex-start"},b.createElement(w.I7m,null,b.createElement("div",{className:ie.mainText},b.createElement(w.xvT,{alignment:"left",fontWeight:"bold"},t))),b.createElement(w.I7m,null,b.createElement("div",{className:ie.subText},b.createElement(w.xvT,{alignment:"left",color:"bodyDimmed"},n)))),b.createElement(w.JO$,{icon:b.createElement(nQ.n,null)})))))),s&&u(b.createElement("div",{...d,className:ie.popover},b.createElement(aL,null))))},ia=()=>{let{onClick:e}=ae(nu.y.TRIAL_PILL);return b.createElement("div",{className:"edit-section_trialPill_ndd",role:"button",onClick:e},b.createElement(w.DRh,{color:"white",backgroundColor:"blurpleStrong"},"Trial"))},ii=({children:e,title:t,topRightOption:n,isTrialing:a=!1,showGradientBorderAnimation:i=!1})=>b.createElement("div",{className:m()({"edit-section_editSectionGradientBorderAnimation_1_Y":i})},b.createElement(w.W20,{position:"relative",borderSide:"all",radius:"xlarge",paddingY:2.5,paddingX:"large",backgroundColor:"background",zIndex:1},b.createElement(w.ggW,{gap:1,autoFlow:"row",justifyContent:"stretch"},b.createElement(w.ggW,{autoFlow:"column",justifyContent:"space-between"},b.createElement(w.ggW,{gap:"small"},a&&b.createElement(ia,null),b.createElement(w.xvT,{size:"heading-sm",fontWeight:"bold"},t)),n),e))),ir={},io=(0,eS.Ps)`
    mutation editTabBulkTrimVideo($videoId: ID!, $forceSave: Boolean!, $lastTrimId: ID!, $includeSilences: Boolean!, $includeFillers: Boolean!, $password: String) {
  bulkTrimClips(
    videoId: $videoId
    forceSave: $forceSave
    lastTrimId: $lastTrimId
    includeSilences: $includeSilences
    includeFillers: $includeFillers
    password: $password
  ) {
    ... on BulkTrimClipsPayload {
      removalCounts {
        fillerWords
        secondsOfSilence
      }
      removalWasPartial
      video {
        id
        playable_duration
        processing_information {
          trim_id
          trim_progress
          trim_ranges {
            from
            to
          }
          videoUploadValid
        }
      }
    }
    ... on ClipUpdateError {
      message
      reason
    }
    ... on Warning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function il(e){let t={...ir,...e};return eq.D(io,t)}let is={},ic=(0,eS.Ps)`
    mutation editTabUndoBulkTrimVideo($videoId: ID!, $forceSave: Boolean!, $lastTrimId: ID!, $includeSilences: Boolean!, $includeFillers: Boolean!, $password: String) {
  bulkUndoTrim(
    videoId: $videoId
    forceSave: $forceSave
    lastTrimId: $lastTrimId
    includeSilences: $includeSilences
    includeFillers: $includeFillers
    password: $password
  ) {
    ... on BulkUndoTrimPayload {
      video {
        id
        playable_duration
        processing_information {
          trim_id
          trim_progress
          trim_ranges {
            from
            to
          }
          videoUploadValid
        }
      }
    }
    ... on ClipUpdateError {
      message
      reason
    }
    ... on Warning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function id(e){let t={...is,...e};return eq.D(ic,t)}let im={},iu=(0,eS.Ps)`
    query getEditTabBulkTrimCounts($videoId: ID!, $password: String) {
  getIntelligenceStatus(videoId: $videoId, password: $password) {
    ... on GetIntelligenceStatusPayload {
      hasTrimmedSilences
      hasTrimmedFillerWords
      secondsOfSilenceTrimmed
      numberOfFillerWordsTrimmed
      processingInformation {
        trim_id
      }
    }
    ... on Error {
      message
    }
  }
}
    `,ig={},ip=(0,eS.Ps)`
    query getEditTabVideoDetails($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      complete
      cta {
        enabled
        url
        is_auto
      }
    }
    ... on PrivateVideo {
      id
      message
    }
    ... on VideoPasswordMissingOrIncorrect {
      id
      message
    }
  }
}
    `,ih={},iv=(0,eS.Ps)`
    query getEditTabWorkspaceBillingDetails($workspaceId: ID!) {
  getWorkspaceBillingDetails(workspaceId: $workspaceId) {
    id
    billing_details {
      plan {
        id
        pure_trial
      }
    }
  }
}
    `,iE=e=>{if(e?.getIntelligenceStatus?.__typename!=="GetIntelligenceStatusPayload")return{hasTrimmedSilences:!1,secondsOfSilenceTrimmed:0,hasTrimmedFillerWords:!1,numberOfFillerWordsTrimmed:0};let t=e.getIntelligenceStatus.hasTrimmedSilences,n=e.getIntelligenceStatus.secondsOfSilenceTrimmed,a=e.getIntelligenceStatus.hasTrimmedFillerWords,i=e.getIntelligenceStatus.numberOfFillerWordsTrimmed;return{hasTrimmedSilences:t,secondsOfSilenceTrimmed:n,hasTrimmedFillerWords:a,numberOfFillerWordsTrimmed:i}};var i_=n(23995),iy=n(76724);let ib=["about:","blob:","data:","javascript:","file:","chrome:","chrome-extension:"],ik=e=>{for(let t of ib)if(e.startsWith(t))return!1;return!0};var iC=n(94713);let iw=e=>{try{let t=(0,i_.Z)(e,{stripWWW:!0}),n=new URL(t).hostname.split(".");return n.length>1?n.slice(-2)[0]:n[0]}catch{return}},iT=e=>{if(e){if(!ik(e)){eh.warning("Error getting CTA text",{err:"Url contains undesired scheme"});return}try{let t=(0,i_.Z)(e,{stripWWW:!0});if(iC.wG.test(t))return"Book a meeting!";let n=iw(e);return n?n.charAt(0).toUpperCase()+n.slice(1):void 0}catch(e){eh.warning("Error getting CTA text",{err:e});return}}},iS=e=>{if(e?.getVideo?.__typename!=="RegularUserVideo")return{videoIsComplete:!1,isAutoLinkDetected:!1,autoLinkTitle:void 0};let t=e.getVideo.complete,{is_auto:n,url:a}=e.getVideo.cta,i=!!(n&&a),r=iT(a);return{videoIsComplete:t,isAutoLinkDetected:i,autoLinkTitle:r}},iI=()=>((0,b.useEffect)(()=>(document.documentElement.style.setProperty("--svg-ai-gradient-primary","url(#svg-ai-gradient-primary-def)"),()=>{document.documentElement.style.removeProperty("--svg-ai-gradient-primary")}),[]),b.createElement("svg",{width:"0",height:"0",style:{display:"absolute"}},b.createElement("defs",null,b.createElement("linearGradient",{id:"svg-ai-gradient-primary-def"},b.createElement("stop",{offset:"0%",stopColor:"hsl(242, 88%, 66%)"}),b.createElement("stop",{offset:"39%",stopColor:"hsl(247, 78%, 72%)"}),b.createElement("stop",{offset:"61%",stopColor:"hsl(270, 64%, 72%)"}),b.createElement("stop",{offset:"100%",stopColor:"hsl(313, 67%, 68%)"}))))),ix=[aN,aP,ak,n0],iA=()=>{!function(e){let[t,n]=(0,b.useState)(!1);(0,b.useEffect)(()=>{let t=!1;return async function(){if(t)return;let a=[];for(let t of e)a.push(function(e){return new Promise((t,n)=>{let a=new Image;a.onload=function(){t()},a.onerror=a.onabort=function(){n()},a.src=e})}(t));await Promise.all(a),t||n(!0)}(),()=>{t=!0}},[])}(ix)};var iN=n(50421),iP=n(46911);let iL=({icon:e,text:t,isDisabled:n,tooltipText:a,onClick:i})=>b.createElement(w.ua7,{content:a,isDisabled:!a,placement:"bottomCenter",isInline:!1},b.createElement("button",{className:m()({workflows_workflowsButton_2y1:!0,workflows_isDisabled_3RX:n}),disabled:n,onClick:i},b.createElement(w.W20,{padding:1.5,backgroundImage:n?void 0:"var(--lns-gradient-ai-secondary)",height:"100%",width:"100%"},b.createElement(w.ggW,{autoFlow:"row",gap:"xsmall",justifyContent:"stretch"},b.createElement(w.ggW,{justifyContent:"space-between"},b.createElement(w.JO$,{icon:e,className:"workflows_icon_DCs"}),b.createElement("div",{className:"workflows_chevronIcon_1PP"},b.createElement(w.JO$,{icon:b.createElement(nQ.n,null)}))),b.createElement(w.xvT,{alignment:"left",fontWeight:"bold"},t))))),iR=({isDisabled:e,tooltipText:t,onDocumentClick:n,onMessageClick:a,onBugReportClick:i})=>b.createElement(w.ggW,{autoFlow:"row",gap:1.5,justifyContent:"stretch"},b.createElement(w.xvT,{color:"bodyDimmed"},"Use your video to generate a..."),b.createElement(w.ggW,{gap:1.5,justifyContent:"stretch",columns:["1fr","1fr","1fr"]},b.createElement(iL,{icon:b.createElement(T.E,null),text:"Document",onClick:n,isDisabled:e,tooltipText:t}),b.createElement(iL,{icon:b.createElement(iP.Y,null),text:"Message",onClick:a,isDisabled:e,tooltipText:t}),b.createElement(iL,{icon:b.createElement(iN.A,null),text:"Bug report",onClick:i,isDisabled:e,tooltipText:t}))),iD="Feature unavailable on this video",iO=({isAiLoading:e,aiHasError:t,transcriptInProgress:n,transcriptUnavailable:a,transcriptRegenerating:i})=>e||n&&!i?"loading":t||a?"not-available":"success",iW=({isTrialing:e,hasAnyAiScope:t,aiStatus:n,hasAiTries:a=!1})=>t||a?"loading"===n?"ai-loading":"not-available"===n?"ai-not-available":e?"ai-trial":a?"extra-ai-tries":"ai":"no-ai-access",iV=()=>b.createElement(w.W20,{padding:3},b.createElement(w.LZC,{bottom:1},b.createElement(w.W20,{width:20},b.createElement(w.N2B,{size:"heading-md",lines:1}))),b.createElement(w.N2B,{size:"heading-lg",lines:1}),b.createElement(w.N2B,{size:"heading-lg",lines:1}),b.createElement(w.LZC,{top:2,bottom:1},b.createElement(w.W20,{width:20},b.createElement(w.N2B,{size:"heading-md",lines:1}))),b.createElement(w.N2B,{size:"heading-lg",lines:1}),b.createElement(w.N2B,{size:"heading-lg",lines:1}),b.createElement(w.N2B,{size:"heading-lg",lines:1}),b.createElement(w.N2B,{size:"heading-lg",lines:1}),b.createElement(w.N2B,{size:"heading-lg",lines:1}),b.createElement(w.N2B,{size:"heading-lg",lines:1})),iF=({onAddLinkClick:e})=>{let t=(0,k.I0)(),{video:n,setVideo:a}=(0,v.dPl)(),{modelId:i}=n,{password:r}=(0,L.u)(),{lastTrimId:o}=(0,nX.L7)(),l=nP(),{setShowConfirmationToast:c}=(0,ng.x)();iA();let d=(0,k.v9)(eB.tV),m=(0,eO.v)({videoId:i}),g=(0,ni.W9)(nh.dv)===nh.c7,p=(0,nD.gH)(nq.il),h=!!n?.viewerCaptionsOn,f=!!n?.stylizedCaptions,E=!!(h&&f),{captionsActive:y,onToggle:T}=(0,v.Yj_)(n.id),{isLoading:S,hasError:I,autoTitleGenerated:x,autoSummaryGenerated:A,autoChaptersGenerated:N,hasUserEditedTitle:P,hasUserEditedSummary:R,hasUserEditedChapters:D,transcriptAvailable:O,transcriptInProgress:W,transcriptUnavailable:V,transcriptRegenerating:F}=nS({videoId:i}),z=!O,B=(0,nO.hP)(),{data:M,loading:$}=function(e){let t={...ih,...e};return eI.a(iv,t)}({variables:{workspaceId:B?.id},skip:!B?.id,onError:e=>{throw e},onCompleted:e=>{if(e?.getWorkspaceBillingDetails?.__typename!=="BillingEntity")throw Error("Billing details not found")}}),{data:U,loading:Z,refetch:G}=function(e){let t={...ig,...e};return eI.a(ip,t)}({variables:{videoId:i,password:r},onError:e=>{throw e},onCompleted:e=>{if(e?.getVideo?.__typename!=="RegularUserVideo")throw Error(e?.getVideo?.message??"Video data not found")}}),{videoIsComplete:j,isAutoLinkDetected:H,autoLinkTitle:Y}=iS(U),{data:q,error:K}=(0,nK.G)({variables:{videoId:i},skip:!!j||!i});(0,b.useEffect)(()=>{(q?.recordingCompleted||K?.message==="Video already completed")&&G()},[q,K,G]);let{data:X,error:J}=function(e){let t={...im,...e};return eI.a(iu,t)}({variables:{videoId:i,password:r}}),Q=!!J,{hasTrimmedSilences:et,secondsOfSilenceTrimmed:en,hasTrimmedFillerWords:ea,numberOfFillerWordsTrimmed:ei}=iE(X),[er,{loading:eo}]=il({variables:{videoId:i,includeSilences:!0,includeFillers:!1,password:r,lastTrimId:o,forceSave:!1},refetchQueries:[iu],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkTrimClips?.__typename!=="BulkTrimClipsPayload"||!e.bulkTrimClips.video){c("Failed to remove silences. Please try again.");return}e_.track(s.Aj0,{video_id:i,enabled:!0}),l(e.bulkTrimClips.video)}}),[el,{loading:es}]=il({variables:{videoId:i,includeSilences:!1,includeFillers:!0,password:r,lastTrimId:o,forceSave:!1},refetchQueries:[iu],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkTrimClips?.__typename!=="BulkTrimClipsPayload"||!e.bulkTrimClips.video){c("Failed to remove filler words. Please try again.");return}e_.track(s.tqT,{video_id:i,enabled:!0}),l(e.bulkTrimClips.video)}}),[ec,{loading:ed}]=id({variables:{videoId:i,includeSilences:!0,includeFillers:!1,password:r,lastTrimId:o,forceSave:!1},refetchQueries:[iu],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkUndoTrim?.__typename!=="BulkUndoTrimPayload"||!e.bulkUndoTrim.video){c("Failed to undo silence removal. Please try again.");return}e_.track(s.Aj0,{video_id:i,enabled:!1}),l(e.bulkUndoTrim.video)}}),[em,{loading:eu}]=id({variables:{videoId:i,includeSilences:!1,includeFillers:!0,password:r,lastTrimId:o,forceSave:!1},refetchQueries:[iu],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkUndoTrim?.__typename!=="BulkUndoTrimPayload"||!e.bulkUndoTrim.video){c("Failed to undo filler word removal. Please try again.");return}e_.track(s.tqT,{video_id:i,enabled:!1}),l(e.bulkUndoTrim.video)}}),[eg,{loading:ep}]=nz(),[ev,{loading:ef}]=n$(),eE=(0,b.useMemo)(()=>M?.getWorkspaceBillingDetails?.billing_details?.plan?.pure_trial??!1,[M]),ey=(0,no.e)(),eb=!(0,nl.c)(),ek=(0,nD.gH)(nq.GX),eC=(0,nD.gH)(nq.DI),ew=(0,nD.gH)(nq.IS),eS=(0,nD.gH)(nq.$u),ex=(0,nD.gH)(nq.Ce)||ey,eA=(0,nD.gH)(nq.Vu)||ey,eN=(0,nD.gH)(nq.XY)||ey,eP=(0,nD.gH)(nq.gp)||ey,eL=(0,nD.gH)(nq.Ce)||ey,eR=(0,nR.Pg)(),eD=(0,nD.gH)(nq.b6),eW=ex||eA||eN,eV=eW||eP,eF=iO({isAiLoading:S,aiHasError:I,transcriptInProgress:W,transcriptUnavailable:V,transcriptRegenerating:F}),ez=iW({isTrialing:eE,hasAnyAiScope:eV,aiStatus:eF,hasAiTries:ey}),eM=ex&&x&&!P,e$=eA&&A&&!R,eU=eN&&N&&!D,eZ=!eM&&!e$&&!eU,eG=(0,u.useCurrentUserSelector)(e=>e.videoSettings?.auto_title??!0,!1),ej=(0,u.useCurrentUserSelector)(e=>e.videoSettings?.auto_summary??!0,!1),eH=(0,u.useCurrentUserSelector)(e=>e.videoSettings?.auto_chapters??!0,!1),eY="success"!==eF||eZ,eq=eV?"Make edits":"Edit and enhance",eK=nW(),eX=!j||!eK,eJ=eX?iD:void 0,eQ=(0,ni.Mr)({flag:nh.lt,activationValues:["variant"]}),e0=eb?"Edit and trim video":eQ?"Edit and trim video, add clips, links, and text overlays":"Edit and trim video, add clips and links",e1=es||eu,e2=eo||ed,e3=e1||e2,e5=e3||!eK||Q||!O||S||!j,e4=e3||!eK||Q||!O||S||!j,e8=Q?"Feature unavailable due to an error":W&&!F?"Transcript is generating":V||!eK?iD:void 0,e7=!eY&&m,e9=(0,_.$8)(),e6=e=>{t((0,C.h7)({modalType:"WORKFLOWS_MODAL",options:{workflowTypeOnOpen:e}})),e9.createModalOpened(_.Bv.NEW_ENTRY_POINT),e9.workflowSelected(nL.q[e][0],e,"share_page_right_sidebar")};if($||Z||void 0===eQ)return b.createElement(iV,null);let te=b.createElement(b.Fragment,null,ek?b.createElement(w.W20,{paddingY:"xsmall"},b.createElement(it,{onClick:()=>{window.location.href=window.location.href.replace("/share/","/edit/"),e_.track(s.Pks,{id:i})},isDisabled:eX,tooltipText:eJ,mainText:eQ&&eS?"Edit and enhance video":"Edit and trim video",subText:eQ&&eS?"Trim, add clips, overlay text & more":ew?"Edit using transcript & add clips":"Trim mistakes & add clips",noAi:eb})):b.createElement(aa,{icon:b.createElement(nH.c,null),title:e0,upgradeSourceLocation:nu.y.EDIT_AND_TRIM_LOCKED_BUTTON,popoverContent:b.createElement(aB,null)})),tt=b.createElement(b.Fragment,null,b.createElement(n2,{icon:b.createElement(nY.l,null),title:eo?"Removing silences...":ed?"Undoing removal...":et?`${en}s of silence removed`:"Remove silences",onClick:et?ec:er,rightOption:e2?b.createElement(w.aNw,null):b.createElement(w.rsf,{isActive:et,isDisabled:e4,readOnly:!0}),isDisabled:e4,disabledTooltipText:e8}),b.createElement(n2,{icon:b.createElement(nj.Y,null),title:es?"Removing filler words...":eu?"Undoing removal...":ea?`${ei} filler ${eT()("word",ei)} removed`:"Remove filler words",onClick:ea?em:el,rightOption:e1?b.createElement(w.aNw,null):b.createElement(w.rsf,{isActive:ea,isDisabled:e5,readOnly:!0}),isDisabled:e5,disabledTooltipText:e8})),tn=g&&p?b.createElement(n2,{icon:b.createElement(nG.I,null),title:"Add stylized captions",onClick:()=>{let e=!E;ev({variables:{videoId:i,settings:{stylizedCaptions:e,viewerCaptionsOn:e},password:r},onError:t=>{eh.error(t,{message:"Failed to update stylized captions enabled",videoId:i,settings:{stylized_captions:e,viewer_captions_on:e}},{feature:ee.L0.StylizedCaptions}),c("Failed to update stylized captions. Please try again")},onCompleted:e=>{if(e.updateVideoSettings?.__typename!=="UpdateVideoSettingsPayload"){c("Failed to update stylized captions. Please try again");return}let t=e?.updateVideoSettings?.video?.stylizedCaptions,n=e?.updateVideoSettings?.video?.viewerCaptionsOn;if(null==t||null==n){c("Failed to set stylized captions. Please try again");return}a({stylizedCaptions:t,viewerCaptionsOn:n}),y!==n&&T(),e_.track(s.y00,{source:"EDIT",enabled:t,video_id:i})}}),eg({variables:{videoSettings:{stylizedCaptions:e,viewerCaptionsOn:e}},onError:t=>{eh.error(t,{message:"Failed to update default stylized captions",videoId:i,settings:{stylized_captions:e,viewer_captions_on:e}},{feature:ee.L0.StylizedCaptions}),c("Failed to update default stylized captions. Please try again")},onCompleted:e=>{if(e.updateUserVideoSettings?.__typename!=="UpdateUserVideoSettingsPayload"){c("Failed to update default stylized captions. Please try again");return}}})},rightOption:ep||ef?b.createElement(w.aNw,null):b.createElement(w.rsf,{isActive:E,isDisabled:z,readOnly:!0}),isDisabled:z,disabledTooltipText:"Feature unavailable on this video"}):null;return eb?b.createElement(w.W20,{padding:"large"},b.createElement(ii,{title:"Make edits"},te,eP?tt:null,tn,b.createElement(ao,{onClick:e,disabledTooltipText:iD,isTrialing:eE,hasExistingLink:d,hasScope:eC}))):b.createElement(b.Fragment,null,b.createElement(w.W20,{paddingX:"large"},b.createElement(a6,{variant:ez}),b.createElement(w.W20,{position:"relative"},b.createElement(w.ggW,{autoFlow:"row",gap:"medium",justifyContent:"stretch"},b.createElement(ii,{title:eq,topRightOption:eW?b.createElement(aQ,{videoId:i,isAiTitleApplied:eM,isAiSummaryApplied:e$,isAiChaptersApplied:eU,isDisabled:eY,tooltipText:"loading"===eF?"Loom AI is still generating":eG||ej||eH||!eZ?"not-available"===eF||eZ?"Auto titles, chapters, and summary are unavailable on this video":void 0:"Your AI features are turned off in default settings",displayDefaultSettingsCallout:!eM&&!eG||!e$&&!ej||!eU&&!eH,hasAiInitiallyGenerated:e7}):null,isTrialing:eE,showGradientBorderAnimation:e7},te,!eV&&ek?b.createElement(b.Fragment,null,tn,b.createElement(ao,{onClick:e,disabledTooltipText:iD,isTrialing:eE,hasExistingLink:d,isAutoLinkDetected:H,autoLinkTitle:Y,hasScope:eC})):b.createElement(b.Fragment,null,eP?tt:b.createElement(aa,{icon:b.createElement(nj.Y,null),title:"Remove silences & filler words",upgradeSourceLocation:nu.y.REMOVE_SILENCE_FILLER_WORDS_LOCKED_BUTTON,popoverContent:b.createElement(aD,null)}),eW?null:b.createElement(aa,{icon:b.createElement(nZ.K,null),title:"Auto-title, chapters, and summary",upgradeSourceLocation:nu.y.AUTO_CONTEXT_LOCKED_BUTTON,popoverContent:b.createElement(aW,null)}),tn)),eV?b.createElement(ii,{title:"Take action",isTrialing:eE,showGradientBorderAnimation:e7},eL?b.createElement(w.W20,{paddingBottom:"xsmall"},b.createElement(iR,{isDisabled:!O,tooltipText:W?"Transcript is generating":V?iD:void 0,onDocumentClick:()=>{e6("document")},onBugReportClick:()=>{e6("ticket")},onMessageClick:()=>{e6("message")}})):b.createElement(aa,{icon:b.createElement(w.JO$,{icon:b.createElement(nU.m,null),size:2.8}),title:"Use AI to generate documents from your video",upgradeSourceLocation:nu.y.WORKFLOWS_LOCKED_BUTTON,popoverContent:b.createElement(aF,null)}),eR?b.createElement(aM,{videoId:n.id,unavailableTooltipText:iD}):eD||ey?null:b.createElement(aU,null),!eC&&ey?null:b.createElement(ao,{onClick:e,disabledTooltipText:iD,isTrialing:eE,hasExistingLink:d,isAutoLinkDetected:H,autoLinkTitle:Y,hasScope:eC})):null))),b.createElement(iI,null))};var iz=n(62259),iB=((i=iB||{}).Link="Add a link",i.Thumbnail="Change thumbnail",i.Settings="Video settings",i.Default="Set default link",i);let iM={},i$=(0,eS.Ps)`
    mutation UpdateVideoCta($videoId: ID!, $cta: CtaInput!, $password: String) {
  updateVideoCta(videoId: $videoId, cta: $cta, password: $password) {
    __typename
    ... on UpdateVideoCtaPayload {
      video {
        id
        cta {
          url
          text
          enabled
          is_auto
          approved_at
          mods
        }
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;var iU=n(15596),iZ=n(52069),iG=n(46434);let ij={},iH=(0,eS.Ps)`
    mutation ApproveAutoCta($videoId: ID!) {
  approveAutoCta(videoId: $videoId) {
    __typename
    ... on ApproveAutoCtaPayload {
      approved_at
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `;var iY=n(44668),iq=n(717),iK=n(95077),iX=n(31636);let iJ=({children:e,footer:t,title:n,goBackToEditPage:a,backupTitleComponent:i,settingsIsInEditTab:r=!1})=>{let o=(0,eo.ny)(),l=(0,ni.W9)(nh.wB)?(0,eo.at)():0,s=r?`calc(${eD.IB} - ${o}px - ${l}px)`:eD.IB;return b.createElement(w.ggW,{autoFlow:"row",rows:["auto","1fr","auto"],justifyContent:"stretch",height:s},n?b.createElement(w.W20,{paddingLeft:"medium",paddingTop:"medium",paddingBottom:"small"},b.createElement(w.ggW,{gap:"small"},b.createElement(w.hU,{icon:b.createElement(iX.C,null),onClick:a,altText:"Go Back To Edit Page"}),b.createElement(w.xvT,{fontWeight:"bold",size:"body-lg"},n))):b.createElement(b.Fragment,null,i),b.createElement(w.W20,{paddingX:"large",paddingY:"small",height:"100%",overflow:"auto"},e),t)},iQ=D.Z.div`
  background: var(--lns-color-background);
  width: 100%;
  height: 72px;
  align-self: end;
`,i0=D.Z.div`
  background: var(--lns-color-background);
  display: flex;
  justify-content: space-around;
  align-items: center;
  gap: 16px;
  padding: 18px 24px;
  width: 100%;
  box-shadow: 0 -1px 0 var(--lns-color-border);
`,i1=({children:e})=>b.createElement(iQ,null,b.createElement(i0,null,e));var i2=n(19388),i3=n(39014);let i5=[{value:"Bottom left",title:"Bottom left"},{value:"Bottom right",title:"Bottom right"},{value:"Top left",title:"Top left"},{value:"Top right",title:"Top right"}];var i4=n.p+"img/rainbow-oval-f67a03bfce0230e2a9c1.png",i8=n(35549),i7=n(73352);function i9({ctaUrl:e,videoId:t}){let n=iC.wG.test(e),{isOwnerInCalendlySegment:a}=(0,i8.e)(t,n);return b.createElement(b.Fragment,null,a?b.createElement(w.LZC,{top:"medium"},b.createElement(w.W20,{backgroundColor:"backgroundSecondary",padding:2,radius:"large",htmlTag:"section"},b.createElement(w.ggW,{gap:"small"},b.createElement(w.JO$,{icon:b.createElement(i7.L,null)}),b.createElement(w.xvT,{isDimmed:!0},"Your Calendly will appear at the end of the video")))):null)}let i6="Yikes! Doesn’t look like a valid color",re={Rounded:{value:24,icon:b.createElement(e=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12a9 9 0 019-9h9v2h-9a7 7 0 000 14h9v2h-9a9 9 0 01-9-9z",fill:"currentColor"})),null)},Squared:{value:0,icon:b.createElement(e=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3h18v2H5v14h16v2H3V3z",fill:"currentColor"})),null)},"Slightly rounded":{value:20,icon:b.createElement(e=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8a5 5 0 015-5h13v2H8a3 3 0 00-3 3v8a3 3 0 003 3h13v2H8a5 5 0 01-5-5V8z",fill:"currentColor"})),null)}},rt=["#ff623e","#44c3c3","#ffc65c","#77c4ff","#f8f6f0","#212121","#ffffff"],rn="#FF623E",ra="#FFFFFF",ri=e=>e===re["Slightly rounded"].value?"Slightly rounded":e===re.Squared.value?"Squared":"Rounded",{isValidCtaUrl:rr}=o,ro={url:"",text:"",location:iG.WB.location,button_corner_style:ri(iG.WB.border_radius),only_show_at_end_of_video:iG.WB.only_show_at_end_of_video,color:ra,background_color:rn},rl=({videoId:e,onUrlChange:t,onTextChange:n,onLocationChange:a,onBackgroundColorChange:i,onColorChange:r,onButtonCornerStyleChange:o,onOnlyShowAtEndOfVideoChange:l,formProps:s,onSubmit:c})=>{let d=e=>{s.setValue("url",e),t(e)},m=e=>{s.setValue("text",e),n(e)},u=e=>{s.setValue("background_color",e),i(e)},g=e=>{s.setValue("color",e),r(e)},p=e=>{s.setValue("only_show_at_end_of_video",e),l(e)},h=()=>{let e=s.getValues().url,t=s.getValues().text,n=iT(e);iC.wG.test(e)&&(u("#006BFF"),g(ra)),!t&&n&&m(n)},v=e=>rr(e)&&!!iy({apostrophes:!0,parens:!0,exact:!0,strict:!1,re2:!1}).test(e)||"Yikes! Doesn’t look like a valid URL",{brandLogoPath:f}=(0,N.e)({videoId:e});return(0,i3.b)(h),b.createElement("div",null,b.createElement(iY.l0,{id:"cta-form",control:s.control,onSubmit:s.handleSubmit(c)},b.createElement(iY.gN,null,b.createElement(iY.Qy,{htmlFor:"url"},"Button link (URL)"),b.createElement(iY._s,{id:"url",name:"url",control:s.control,rules:{required:"Required",validate:e=>v(e)},onChange:e=>d(e.target.value),onBlur:()=>{let e=s.getValues().url;e.endsWith("?")&&d(e.slice(0,-1)),h()}}),b.createElement(iY.Gy,{name:"url",control:s.control})),b.createElement(i9,{ctaUrl:s.getValues().url,videoId:e}),b.createElement(w.LZC,{top:"medium"}),b.createElement(iY.gN,null,b.createElement(iY.Qy,{htmlFor:"text"},"Button text"),b.createElement(iY._s,{id:"text",name:"text",control:s.control,rules:{required:"Required"},onChange:e=>m(e.target.value)}),b.createElement(iY.Gy,{name:"text",control:s.control})),b.createElement(w.LZC,{top:"medium"}),b.createElement(iY.gN,null,b.createElement(iY.Qy,{htmlFor:"location"},"Button location"),b.createElement(iY.Wy,{id:"location",name:"location",control:s.control,rules:{required:"Required"},onChange:e=>{s.setValue("location",e),a(e)},options:f?i5.filter(e=>"Top left"!==e.value):i5,isDisabled:s.getValues().only_show_at_end_of_video}),b.createElement(iY.Gy,{name:"location",control:s.control})),b.createElement(w.LZC,{top:"medium"}),b.createElement(iY.gN,null,b.createElement(i2.T,{defaultColor:rn,colorSelected:u,swatches:rt,addButton:!1,position:"bottom-end"},b.createElement("div",{className:"picker-input"},b.createElement(iY.Qy,{htmlFor:"background_color"},"Button color"),b.createElement(iY._s,{id:"background_color",name:"background_color",control:s.control,rules:{required:"Required",validate:e=>!!(0,iC.K_)(e)||i6},onChange:e=>{u(e.target.value)}}),b.createElement("img",{src:i4,className:"picker-icon",alt:"picker icon"}),b.createElement(iY.Gy,{name:"background_color",control:s.control})))),b.createElement(w.LZC,{top:"medium"}),b.createElement(iY.gN,null,b.createElement(i2.T,{defaultColor:ra,colorSelected:g,swatches:rt,addButton:!1,position:"bottom-end"},b.createElement("div",{className:"picker-input"},b.createElement(iY.Qy,{htmlFor:"color"},"Text color"),b.createElement(iY._s,{id:"color",name:"color",control:s.control,rules:{required:"Required",validate:e=>!!(0,iC.K_)(e)||i6},onChange:e=>{g(e.target.value)}}),b.createElement("img",{src:i4,className:"picker-icon",alt:"picker icon"}),b.createElement(iY.Gy,{name:"color",control:s.control})))),b.createElement(w.LZC,{top:"medium"}),b.createElement(iY.gN,null,b.createElement(iY.Qy,{htmlFor:"button_corner_style"},"Button corner style"),b.createElement(iY.Wy,{id:"button_corner_style",name:"button_corner_style",control:s.control,rules:{required:"Required"},onChange:e=>{s.setValue("button_corner_style",e),o(e)},options:Object.entries(re).map(([e,t])=>({value:e,title:e,icon:t?.icon}))}),b.createElement(iY.Gy,{name:"button_corner_style",control:s.control})),b.createElement(w.LZC,{top:"large"}),b.createElement(iY.gN,{variant:"horizontal"},b.createElement(iY.vE,{id:"only_show_at_end_of_video",name:"only_show_at_end_of_video",control:s.control,onChangeCapture:e=>{p(e.target.checked)}}),b.createElement(iY.Qy,{htmlFor:"only_show_at_end_of_video"},"Only show at end of video"))))},rs=e=>{let{url:t,text:n,location:a,button_corner_style:i,only_show_at_end_of_video:r,color:o,background_color:l}=e;return{url:t,text:n,mods:{location:a,border_radius:re[i].value,only_show_at_end_of_video:r,color:o,background_color:l}}},rc=e=>{let{url:t,text:n,mods:a}=e,{location:i,border_radius:r,only_show_at_end_of_video:o,color:l,background_color:s}=a;return{url:t,text:n,location:i,background_color:s,color:l,button_corner_style:ri(r),only_show_at_end_of_video:o}};function rd({onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:a,onColorChange:i,onButtonCornerStyleChange:r,onOnlyShowAtEndOfVideoChange:o,onSaveForVideo:l,goBackToEditPage:c,videoId:d,currentValues:m}){let{loading:u,value:g}=(0,iK.T)(iq.I3.DEFAULT_CTA,{onCompleted:()=>_(f)}),p=(0,k.I0)(),{updateMemberProperty:h}=(0,iK.A)(iq.I3.DEFAULT_CTA),v=g&&Object.keys(g).length>0,f=v?rc(g):m,E=(0,iY.cI)({mode:"onBlur",values:f}),_=n=>{e(n.url),t(n.text),p((0,nx.lh)(rs(n).mods))},y=E.formState.isSubmitting||!E.formState.isValid;return u?b.createElement(iJ,{title:b.createElement(w.xvT,{fontWeight:"bold",size:"body-lg"},"Set default link"),footer:b.createElement(b.Fragment,null),goBackToEditPage:c,settingsIsInEditTab:!1},b.createElement(w.aNw,null)):b.createElement(iJ,{title:b.createElement(w.xvT,{fontWeight:"bold",size:"body-lg"},"Set default link"),footer:b.createElement(i1,null,b.createElement(w.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:y,hasFullWidth:!0},"Save")),goBackToEditPage:()=>{_(ro),c()},settingsIsInEditTab:!1},b.createElement(b.Fragment,null,b.createElement(w.xvT,{color:"bodyDimmed"},"Setting a default link will make the link automatically appear on all future Loom videos."),b.createElement(w.LZC,{top:"large"}),b.createElement(rl,{videoId:d,onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:a,onColorChange:i,onButtonCornerStyleChange:r,onOnlyShowAtEndOfVideoChange:o,onSubmit:()=>{let{url:e,text:t,location:n,background_color:a,color:i,button_corner_style:r,only_show_at_end_of_video:o}=E.getValues();e_.track(s.fQ4,{default_link:e,default_title:t,default_link_domain:iw(e)}),h({url:e,text:t,mods:{color:i,background_color:a,border_radius:re[r].value,location:n,only_show_at_end_of_video:o}}),l()},formProps:E}),b.createElement(w.LZC,{top:"small"}),b.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"var(--lns-space-large)"}},b.createElement(w.zxk,{variant:"danger",isDisabled:!v,onClick:()=>{e_.track(s.WIy,{videoId:d}),h({}),_(ro),c()}},"Remove default link"))))}function rm({goToDefaultPage:e,isDisabled:t}){return b.createElement(i1,null,b.createElement(w.zxk,{onClick:e,hasFullWidth:!0},"Set default link"),b.createElement(w.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:t,hasFullWidth:!0},"Save"))}function ru({isDisabled:e,onDelete:t,ctaEnabled:n}){return b.createElement(i1,null,n&&b.createElement(w.zxk,{icon:b.createElement(tS.z,null),variant:"danger",isDisabled:e,onClick:t,hasFullWidth:!0},"Delete link"),b.createElement(w.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:e,hasFullWidth:!0},"Save"))}function rg({onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:a,onColorChange:i,onButtonCornerStyleChange:r,onOnlyShowAtEndOfVideoChange:o,goBackToEditPage:l,videoId:c,currentValues:d,pageTitle:m,showDefaultCta:u,ctaEnabled:g,setIsOnDefaultTab:p,onSave:h,onDelete:v}){let f=(0,iY.cI)({mode:"onBlur",values:d}),E=f.formState.isSubmitting||!f.formState.isValid;return b.createElement(iJ,{title:m,settingsIsInEditTab:!1,footer:u?b.createElement(rm,{goToDefaultPage:()=>{e_.track(s.bEX,{id:c}),p(!0)},isDisabled:E}):b.createElement(ru,{isDisabled:E,onDelete:v,ctaEnabled:g}),goBackToEditPage:l},b.createElement(b.Fragment,null,b.createElement(rl,{videoId:c,onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:a,onColorChange:i,onButtonCornerStyleChange:r,onOnlyShowAtEndOfVideoChange:o,onSubmit:h,formProps:f}),u&&g&&b.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"var(--lns-space-large)"}},b.createElement(w.zxk,{icon:b.createElement(tS.z,null),variant:"danger",isDisabled:E,onClick:v},"Delete link"))))}let rp={ctaEnabled:!1,ctaText:"",ctaUrl:"",ctaMods:null},rh=({showDefaultCta:e,isOnDefaultTab:t,goBackToEditPage:n,pageTitle:a,setIsOnDefaultTab:i})=>{let{password:r}=(0,L.u)(),{ctaMods:o,ctaUrl:l,ctaText:d,ctaIsAuto:m,ctaApprovedAt:u}=(0,k.v9)(eB.c3),g=(0,k.v9)(eB.tV),p=(0,k.v9)(eB.r7),[h]=(0,b.useState)(m?l:""),[f]=(0,b.useState)(m?iT(l):""),[E]=(0,b.useState)({ctaText:d,ctaUrl:l,ctaMods:o}),_=(0,k.I0)(),{showErrorBar:y}=(0,ed.gV)(),{setShowConfirmationToast:C}=(0,ng.x)(),{video:{id:w,videoProperties:{playableDuration:T}}}=(0,v.dPl)(),S=(0,v.nn3)(w),[I,x]=(0,b.useState)();(0,b.useEffect)(()=>{S&&S?.currentTime!==void 0&&void 0===I&&x(S.currentTime)},[I,S]),(0,b.useEffect)(()=>{o||_((0,nx.lh)({background_color:(0,iZ.bM)(c.w0)||rn,color:(0,iZ.bM)(c.aE)||ra,border_radius:(0,iG.wK)(o),location:(0,iZ.bM)(c.x1)||iG.WB.location,only_show_at_end_of_video:(0,iZ.bM)(c.rW)||iG.WB.only_show_at_end_of_video}))},[o,_]);let A={url:l||"",text:d||"",location:o?.location||(0,iZ.bM)(c.x1)||iG.WB.location,background_color:o?.background_color||(0,iZ.bM)(c.w0)||rn,color:o?.color||(0,iZ.bM)(c.aE)||ra,button_corner_style:ri((0,iG.wK)(o)),only_show_at_end_of_video:o?.only_show_at_end_of_video||(0,iZ.bM)(c.rW)||iG.WB.only_show_at_end_of_video},[N]=function(e){let t={...ij,...e};return eq.D(iH,t)}({variables:{videoId:w},onCompleted:e=>{e?.approveAutoCta?.__typename!=="ApproveAutoCtaPayload"&&eh.error(e?.approveAutoCta?.message??"Couldn't approve auto cta",{message:"Unable to approve auto cta"},{feature:ee.L0.CtaLinks})},onError:e=>{eh.error(e,{message:"Unable to approve auto cta"},{feature:ee.L0.CtaLinks})}}),P=(0,b.useCallback)(({ctaEnabled:e,ctaText:t,ctaUrl:n,ctaMods:a})=>{_((0,nx.lo)(e)),_((0,nx.op)(t)),_((0,nx.R_)(n)),_((0,nx.lh)(a))},[_]),R=(0,b.useCallback)(()=>{P({ctaEnabled:g,ctaText:E.ctaText,ctaUrl:E.ctaUrl,ctaMods:E.ctaMods}),_((0,iz.bl)()),n()},[g,_,n,E.ctaMods,E.ctaText,E.ctaUrl,P]),[D]=function(e){let t={...iM,...e};return eq.D(i$,t)}({onError:()=>{y({message:"Oops! Error updating video cta",severity:ec.W9.ERROR})},onCompleted:e=>{let t=e?.updateVideoCta;t&&"UpdateVideoCtaPayload"===t.__typename||y({message:t?.message,severity:ec.W9.ERROR})}}),O=(0,b.useCallback)(e=>{let t=l!==E.ctaUrl,a=m?d!==f:d!==E.ctaText,i=m;m&&(t||a)?((0,iU.v3)(`${eV.Km}.modified`,{urlChanged:t,textChanged:a}),_((0,nx.jQ)(!1)),i=!1):m&&((0,iU.v3)(`${eV.Km}.approved`),N()),_((0,nx.lo)(!0)),D({variables:{videoId:w,cta:{enabled:!0,text:d,url:l,mods:o,approved_at:u,is_auto:i},password:r}}),S&&void 0!==I&&(S.currentTime=I),_((0,iz.bl)()),e&&e_.track(s.fQ4,{ctaMods:o,suggested_link:h,suggested_title:f,user_entered_link:t?l:null,user_entered_title:a?d:null});let c=iC.wG.test(l)?"Calendly link saved!":"Link saved";C(c),_((0,nA.zn)(p)),n()},[N,u,m,o,d,l,_,n,I,S,E.ctaText,E.ctaUrl,C,h,f,p,w,D,r]),W=(0,b.useCallback)(()=>{P(rp),D({variables:{videoId:w,cta:{enabled:rp.ctaEnabled,text:rp.ctaText,url:rp.ctaUrl,mods:rp.ctaMods},password:r}}),S&&void 0!==I&&(S.currentTime=I),_((0,iz.bl)()),C("Call-to-action deleted"),n(),_((0,nA.zn)(p))},[_,n,I,S,P,C,D,p,w,r]),V=(0,b.useCallback)(e=>{_((0,nx.R_)(e))},[_]),F=(0,b.useCallback)(e=>{_((0,nx.op)(e))},[_]),z=(0,b.useCallback)(e=>{_((0,nx.lh)({...o,location:e})),(0,iZ.Ly)(c.x1,e)},[o,_]),B=(0,b.useCallback)(e=>{_((0,nx.lh)({...o,background_color:e})),(0,iZ.Ly)(c.w0,e)},[o,_]),M=(0,b.useCallback)(e=>{_((0,nx.lh)({...o,color:e})),(0,iZ.Ly)(c.aE,e)},[o,_]),$=(0,b.useCallback)(e=>{let t=re[e].value;_((0,nx.lh)({...o,border_radius:t})),(0,iZ.Ly)(c.s8,t)},[o,_]),U=(0,b.useCallback)(e=>{_((0,nx.lh)({...o,only_show_at_end_of_video:e})),(0,iZ.Ly)(c.rW,e),S&&(e&&T?S.currentTime=T:void 0!==I&&(S.currentTime=I))},[o,_,I,T,S]);return e&&t?b.createElement(rd,{goBackToEditPage:R,onSaveForVideo:()=>O(!1),onUrlChange:V,onTextChange:F,onLocationChange:z,onBackgroundColorChange:B,onColorChange:M,onButtonCornerStyleChange:$,onOnlyShowAtEndOfVideoChange:U,videoId:w,currentValues:A}):b.createElement(rg,{goBackToEditPage:R,onSave:()=>O(!0),onUrlChange:V,onTextChange:F,onLocationChange:z,onBackgroundColorChange:B,onColorChange:M,onButtonCornerStyleChange:$,onOnlyShowAtEndOfVideoChange:U,videoId:w,currentValues:A,pageTitle:a,ctaEnabled:g,setIsOnDefaultTab:i,onDelete:W,showDefaultCta:e})};var rv=n(40754),rf=n(62852),rE=n(3749),r_=n(38760),ry=n.n(r_),rb=n(73845),rk=n(44314),rC=n(3820),rw=n(93563),rT=n(59727);let rS={},rI=(0,eS.Ps)`
    mutation RemoveVideoThumbnail($videoId: ID!, $password: String) {
  removeVideoThumbnail(videoId: $videoId, password: $password) {
    __typename
    ... on RemoveVideoThumbnailPayload {
      video {
        id
        thumbnails {
          default
          default4X3
          defaultPlay
          ogFull
          full
          fullPlay
          defaultGif
          defaultGifPlay
          animatedPreview
        }
        defaultThumbnails {
          default
          static
        }
      }
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `,rx=(e,t)=>{if(t?.removeVideoThumbnail?.__typename!=="RemoveVideoThumbnailPayload"||!t?.removeVideoThumbnail?.video)return null;let n=t?.removeVideoThumbnail?.video;return{thumbnails:{...e.thumbnails,[rC.eX]:n.thumbnails.default??void 0,[rC.vT]:n.thumbnails.default4X3??void 0,[rC.ku]:n.thumbnails.defaultPlay??void 0,[rC.it]:n.thumbnails.ogFull??void 0,[rC.EK]:n.thumbnails.full??void 0,[rC.pw]:n.thumbnails.fullPlay??void 0,[rC.sG]:n.thumbnails.defaultGif??void 0,[rC.eb]:n.thumbnails.defaultGifPlay??void 0,[rC.so]:n.thumbnails.animatedPreview??void 0,previewFullUrl:(0,rb.Qo)(n.thumbnails.animatedPreview)??"",defaultFullUrl:(0,rb.Qo)(n.defaultThumbnails.default)??"",staticFullUrl:(0,rb.Qo)(n.defaultThumbnails.static)??""}}},rA=()=>{let{setVideo:e,video:t,video:{id:n}}=(0,v.dPl)(),{showErrorBar:a}=(0,ed.gV)(),{setShowConfirmationToast:i}=(0,ng.x)(),{password:r}=(0,L.u)(),[o]=function(e){let t={...rS,...e};return eq.D(rI,t)}({variables:{videoId:n,password:r},refetchQueries:["fetchVideoData"],onError:e=>{a({message:"Oops! Failed to remove video thumbnail.",severity:ec.W9.ERROR}),eh.warning(`Error in removeVideoThumbnail mutation: ${e.message}`,e)},onCompleted:n=>{let r=n?.removeVideoThumbnail;if(!r||r?.__typename!=="RemoveVideoThumbnailPayload"){a({message:r?.message||"Oops! Failed to remove video thumbnail.",severity:ec.W9.ERROR});return}let o=rx(t,n);o&&e(o),i("Thumbnail deleted")}});return{removeVideoThumbnail:o}};var rN=n(17877);let rP=({goBackToEditPage:e,pageTitle:t})=>{let n=(0,k.I0)(),{showErrorBar:a}=(0,ed.gV)(),{video:{thumbnails:i}}=(0,v.dPl)(),r=(0,k.v9)(rw.CX),o=(0,k.v9)(rw.wp),l=(0,k.v9)(rw.DD),{removeVideoThumbnail:s}=rA(),c=()=>{s(),n((0,iz.c_)(null))},d=(0,b.useCallback)(e=>{let t=new FileReader;t.onload=e=>{let t=e?.target?.result,a=new Image;a.onload=()=>{n((0,iz.c_)({url:t,dims:{width:a.width,height:a.height}}))},a.src=t},t.readAsDataURL(e)},[n]),m=e=>{e&&d(e)},u=e=>{let{files:t}=e.target;if(t&&t.length){let e=t[0];m(e)}e.target.value=""},g=e=>{e.stopPropagation()},p=()=>{if(r){n((0,iz.lZ)());return}document.querySelector("#upload-thumbnail-file")?.click()};return(0,b.useEffect)(()=>(ry().bind(rv.IP,()=>{n((0,iz.c_)(null)),n((0,iz.m)())},rf.R),()=>{ry().unbind(rv.IP,rf.R)}),[n]),(0,b.useEffect)(()=>{let e=(i||{})[rC.it];if(!e)return;let t=(0,rb.Qo)(e);t&&(0,rk.Z)(t).then(e=>{if(!e.ok)throw Error("Failed to fetch current thumbnail");return e.blob()}).then(e=>{d(e)}).catch(()=>{a({message:"Oops! failed to fetch current thumbnail, please delete current thumbnail to upload new image",severity:ec.W9.ERROR})})},[d,a,i]),(0,b.useEffect)(()=>{l||e()},[l,e]),b.createElement(iJ,{footer:b.createElement(()=>b.createElement(i1,null,r&&b.createElement(w.zxk,{variant:"danger",icon:b.createElement(tS.z,null),onClick:c,hasFullWidth:!0},"Delete"),b.createElement(w.zxk,{variant:"primary",isDisabled:o,onClick:p,hasFullWidth:!0},r?"Save":"Browse"),b.createElement("input",{type:"file",className:"upload-thumbnail-input",id:"upload-thumbnail-file",onClick:g,onChange:u,accept:"image/jpeg,image/pjpeg,image/png"})),null),title:t,goBackToEditPage:()=>{n((0,iz.c_)(null)),n((0,iz.m)()),e()}},b.createElement("div",{style:{position:"relative",marginTop:"var(--lns-space-small)"}},b.createElement("div",{className:"dropzone-wrapper"},b.createElement(rT.Z,{multiple:!1,onDrop:e=>{let t=e[0];t&&m(t)}})),b.createElement("div",{className:"thumbnail-dropzone-area"},b.createElement("div",{className:"mb:small"},b.createElement(rE.r,{color:"var(--lns-color-orange)",size:6})),b.createElement(w.xvT,null,"Drag and drop to upload"),b.createElement(w.xvT,{size:"body-sm",color:"bodyDimmed"},(0,rN.T)())),r&&b.createElement(w.W20,{paddingY:"medium"},b.createElement(w.ggW,{autoFlow:"row",justifyContent:"center"},b.createElement(w.xvT,{alignment:"center"},"Adjust positioning and zoom"),b.createElement(w.xvT,{alignment:"center",size:"body-sm"},"Delete to use a different thumbnail")))))};var rL=n(58524),rR=n(86336),rD=n(50068),rO=n(84435),rW=n(81654),rV=n.n(rW),rF=n(34698),rz=n(9193),rB=n(38738),rM=n(34354),r$=n(54136),rU=n(65559),rZ=n(70243),rG=n(11467);let rj=D.Z.div`
  display: flex;
  gap: var(--lns-space-medium);
`,rH=D.Z.div`
  padding: var(--lns-space-medium) 0;
  margin-right: var(--lns-space-xsmall);

  flex-grow: 1;
`,rY=D.Z.span`
  margin: auto 0;
`,rq=D.Z.span`
  display: flex;
  align-items: flex-start;
  gap: 6px;
`,rK=({text:e})=>{let t=(0,ns.hP)().memberRole===n7.N,n=(0,k.I0)();return b.createElement(rG.A,null,({showModal:a})=>b.createElement(w.xvT,{size:"body-sm",color:"grey5"},b.createElement(w.rUS,{variant:"neutral",onClick:()=>{t?n((0,rZ.O)("business",{analyticEvent:s.Lam})):("customize player"===e&&e_.track(s.zvP),a())}},"Upgrade"),b.createElement("span",null,` to ${e}`)))},rX=({children:e,settingName:t,subtext:n,useUpgradeLink:a,upgradeText:i,isBeta:r})=>b.createElement(rH,null,b.createElement(w.ggW,{gap:"medium",alignItems:"start",columns:["1fr","auto"]},b.createElement(rq,null,b.createElement(w.xvT,{fontWeight:"bold"},t),r?b.createElement(w.DRh,{backgroundColor:"highlight"},"Beta"):null),e),a?b.createElement(rK,{text:i}):b.createElement(w.xvT,{size:"body-sm",color:"grey5"},n)),rJ=({Icon:e,children:t,settingName:n,subtext:a,useUpgradeLink:i,upgradeText:r,isBeta:o})=>b.createElement(rj,null,b.createElement(rY,null,e),b.createElement(rX,{settingName:n,subtext:a,useUpgradeLink:i,upgradeText:r,isBeta:o},t));var rQ=n(29086);let r0="email_gate_video_type",r1=`
  @keyframes fade-in-out {
    0% {
      box-shadow: none;
    }
    25% {
      box-shadow: 0 2px 0 var(--lns-color-focusRing), 0 -2px 0 var(--lns-color-focusRing);

    }
    75% {
      box-shadow: 0 2px 0 var(--lns-color-focusRing), 0 -2px 0 var(--lns-color-focusRing);

    }
    100% {
      box-shadow: none;
    }
  }

  animation: fade-in-out 2000ms ease-in-out;
`,r2=D.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
    border-radius: var(--lns-radius-100);
  }
`,r3=D.Z.div`
  position: relative;

  ${e=>e.shouldAnimate?r1:""}
`,r5=[{value:rR.q.None,name:"No"},{value:rR.q.Soft,name:"Ask for email"},{value:rR.q.Hard,name:"Require email"}].map(({value:e,name:t})=>({value:e,title:b.createElement(w.xvT,{fontWeight:"bold"},t)})),r4=({children:e,shouldAnimate:t,setShouldAnimate:n})=>{let a=(0,b.useCallback)(e=>{e&&e.addEventListener("animationend",()=>{n(!1)})},[n]);return b.createElement(r3,{shouldAnimate:t,ref:a},e)},r8=({options:e,onOptionSelect:t,shouldAnimate:n,setShouldAnimate:a})=>b.createElement(b.Fragment,null,b.createElement(r4,{shouldAnimate:n,setShouldAnimate:a},b.createElement(rX,{key:r0,settingName:"Request email to view",subtext:"Viewers that aren’t logged-in will need to provide an email to be able to access the video"},b.createElement(w.PhF,{trigger:(e,t)=>b.createElement(r2,null,b.createElement(w.Avr,{size:"medium",iconPosition:"right",icon:b.createElement(rM.w,null),...t},b.createElement(w.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:e[r0],menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:r5,onChange:e=>t(r0,e.value)}))));var r7=n(9575),r9=n(19572),r6=n(49326);let oe="Contact an admin to enable Salesforce for your workspace",ot=D.Z.span`
  & div + div {
    border-top: 0;
  }
`,on=({emailGateSetting:e,handleRelatedSettingsEditClick:t})=>{let n,a;return e===rR.q.None?(n="Anonymous viewers are not asked for an email.",a=b.createElement(w.JO$,{icon:b.createElement(r7._,null)})):(n=e===rR.q.Soft?"Anonymous viewers are asked for their email.":"Anonymous viewers are required to provide their email. (recommended)",a=b.createElement(w.JO$,{icon:b.createElement(e3.y,null),color:"success"})),b.createElement(ot,null,b.createElement(w.W20,{backgroundColor:"backgroundSecondary",padding:2.5,radius:"large",htmlTag:"section"},b.createElement(w.xvT,{fontWeight:"bold"},"Related settings for Salesforce"),b.createElement(w.LZC,{top:2}),b.createElement(w.ggW,{alignItems:"start",gap:1},a,b.createElement(w.ggW,{autoFlow:"row",gap:1},b.createElement(w.xvT,null,n),b.createElement(w.xvT,{isDimmed:!0},"Anonymous viewers that don't provide their email are not trackable in Salesforce."),b.createElement(w.rUS,{onClick:t},"Edit setting")))))},oa=({isFromDefaultSettings:e,options:t,toggleProp:n,handleRelatedSettingsEditClick:a})=>{let{loading:i,data:r}=(0,r6.D3)({variables:{integrationType:"SFDC"}});if(i)return null;let o=!1;r?.getIntegrationActive?.__typename==="GetIntegrationActivePayload"?o=r.getIntegrationActive.isActive:oe="Salesforce integration status currently unavailable";let l=!e&&o&&t.salesforce_engagement_tracking;return b.createElement(b.Fragment,null,b.createElement(rJ,{key:"salesforce_engagement_tracking",settingName:"Salesforce tracking",subtext:o?"Track your views and engagement metrics directly in Salesforce":oe,Icon:b.createElement(w.JO$,{icon:b.createElement(r9.K,null),size:5})},b.createElement(w.rsf,{isActive:t.salesforce_engagement_tracking,onChange:()=>{n("salesforce_engagement_tracking")},isDisabled:!o,ariaLabel:"Engagement tracking"})),l?b.createElement(on,{emailGateSetting:t.email_gate_video_type,handleRelatedSettingsEditClick:a}):null)},oi=D.Z.div`
  & div + div {
    border-top: solid var(--lns-color-border) 1px;
  }
`,or=D.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
    border-radius: var(--lns-radius-100);
  }
`,oo="Audience",ol="Enhancements",os="Integrations",oc="Loom AI",od=({options:e,hasAIAccess:t,suggestedPlaybackOptions:n,setOptions:a,setToggleComments:i,videoId:r})=>{let[o,l]=(0,b.useState)(t?oc:ol),c=(0,k.v9)(e=>(0,rF.MU)(e,nq.$5)),{type:d}=(0,ns.hP)(),m=d===n6.zF,u=!(0,rQ.I)()&&d===n6.q1,g=m||u,p=(0,ni.Mr)({flag:nh.EE,activationValues:["filler_words","filler_words_and_silences"]}),h=(0,ni.Mr)({flag:nh.EE,activationValues:["filler_words_and_silences"]}),v=e=>{l(e),e_.track(s.sX1,{tab:e})},f=t=>a({...e,[t]:!e[t]}),E=()=>{let{comments_enabled:t,record_reply_enabled:n}=e;(t||n)&&f("record_reply_enabled")},_=()=>{let{comments_enabled:t,comments_email_enabled:n}=e;(t||n)&&f("comments_email_enabled")},y=(t,n)=>{a({...e,[t]:n})},C=[p&&{settingName:"Auto filler word removal",subtext:"Automatically remove filler words from your videos",key:"auto_filler_word_removal",onChange:()=>f("auto_filler_word_removal"),isActive:!0},h&&{settingName:"Auto silence removal",subtext:"Automatically remove silences from your videos",key:"auto_silence_removal",onChange:()=>f("auto_silence_removal"),isActive:!0},{settingName:"Auto title",subtext:"AI generated titles for your videos",key:"auto_title",onChange:()=>f("auto_title"),isActive:!0},{settingName:"Auto summary",subtext:"AI generated summaries for your videos",key:"auto_summary",onChange:()=>f("auto_summary"),isActive:!0},{settingName:"Auto chapters",subtext:"AI generated chapters for your videos",key:"auto_chapters",onChange:()=>f("auto_chapters"),isActive:!0},{settingName:"Auto tasks",subtext:"AI generated tasks for your videos",key:"auto_tasks",onChange:()=>f("auto_tasks"),isActive:!0},{settingName:"Auto CTA",subtext:"Automatically detect the link you are sharing",key:"auto_cta",onChange:()=>f("auto_cta"),isActive:!0}].filter(e=>!!e),T=[{settingName:"Comments",subtext:"Allow viewers to add comments",key:"comments_enabled",onChange:()=>{f("comments_enabled"),i(!0)},isActive:!0},{settingName:"Comment notification",subtext:e.comments_enabled?"Get an email when someone comments":"Inactive when comments are turned off",key:"comments_email_enabled",onChange:()=>_(),isActive:e.comments_enabled},{settingName:"Record a reply",subtext:e.comments_enabled?"Allow viewers to comment with a Loom":"Inactive when comments are turned off",key:"record_reply_enabled",onChange:()=>E(),isActive:e.comments_enabled},{settingName:"Emoji reactions",subtext:"Allow viewers to add reactions",key:"use_emojis",onChange:()=>f("use_emojis"),isActive:!0},"download_enabled"in e&&{settingName:"Download",subtext:"Allow viewers to download your video",key:"download_enabled",onChange:()=>f("download_enabled"),isActive:!0},{settingName:"Stitch",subtext:"Allow viewers to stitch this video",key:"viewers_can_weave",onChange:()=>f("viewers_can_weave"),isActive:!0},{settingName:"Analytics",subtext:"Allow viewers to see video analytics",key:"show_analytics_to_viewer",onChange:()=>f("show_analytics_to_viewer"),isActive:!0},{settingName:"Transcript",subtext:"Allow viewers to access the transcript",key:"show_transcript_to_viewer",onChange:()=>f("show_transcript_to_viewer"),isActive:!0}],S=(0,ni.W9)(nh.dv)===nh.c7,I=(0,nD.gH)(nq.il),x=!!(S&&I);return b.createElement(b.Fragment,null,b.createElement(w.mQc,{hasFullTabs:!0},t&&b.createElement(w.OK9,{isActive:oc===o,onClick:()=>v(oc)},oc),b.createElement(w.OK9,{isActive:ol===o,onClick:()=>v(ol)},ol),b.createElement(w.OK9,{isActive:oo===o,onClick:()=>v(oo)},oo),m?b.createElement(w.OK9,{isActive:os===o,onClick:()=>v(os)},os):null),b.createElement("div",{className:"overflow:hidden;"},o===oc&&b.createElement(oi,null,b.createElement(w.LZC,{y:"medium"},b.createElement(w.xvT,null,"Modify the default Loom AI settings for this video and future videos. Learn more about ",b.createElement(w.rUS,{href:tK.GS},"Loom AI")," ","or ",b.createElement(w.rUS,{href:tK.kb},"give feedback"),".")),C.map(t=>b.createElement(rX,{key:t.key,settingName:t.settingName,subtext:t.subtext},b.createElement(w.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),o===ol&&b.createElement(oi,null,[{settingName:"Background noise filter",subtext:"Filter out unwanted noise",key:"noise_suppression",onChange:()=>f("noise_suppression"),isActive:!0},{settingName:"Loom branded player",subtext:"Prompt viewers to log in or sign-up",key:"loom_branded_player",onChange:()=>f("loom_branded_player"),isActive:c,useUpgradeLink:!c,upgradeText:"customize player"},{settingName:"Animated thumbnail",subtext:"Automatic gif thumbnail when you share",key:"use_gif",onChange:()=>f("use_gif"),isActive:!0}].map(t=>b.createElement(rX,{key:t.key,settingName:t.settingName,subtext:t.subtext,useUpgradeLink:t.useUpgradeLink,upgradeText:t.upgradeText},b.createElement(w.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),o===oo&&b.createElement(oi,null,x?b.createElement(b.Fragment,null,b.createElement(rX,{key:"viewer_captions_on",settingName:"Turn on captions",subtext:"Turn on closed captions for viewers"},b.createElement(w.rsf,{isActive:e.viewer_captions_on,onChange:()=>(e_.track(s.VOB,{source:"DEFAULT-SETTINGS",enabled:!e.viewer_captions_on,video_id:r}),f("viewer_captions_on")),isDisabled:!1,ariaLabel:"Turn on captions"})),b.createElement(rX,{key:"stylized_captions",settingName:"Add stylized captions",subtext:"Apply designed styling to your captions"},b.createElement(w.rsf,{isActive:e.stylized_captions,onChange:()=>(e_.track(s.y00,{source:"DEFAULT-SETTINGS",enabled:!e.stylized_captions,video_id:r}),f("stylized_captions")),isDisabled:!1,ariaLabel:"Add stylized captions"}))):null,b.createElement(rX,{key:"suggested_playback_rate",settingName:"Recommend a playback speed",subtext:"Suggest a viewing speed for your audience"},b.createElement(w.PhF,{trigger:(e,t)=>b.createElement(or,null,b.createElement(w.Avr,{size:"medium",iconPosition:"right",icon:b.createElement(rM.w,null),...t},b.createElement(w.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:e.suggested_playback_rate,menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:n,onChange:e=>y("suggested_playback_rate",e.value)})),g?b.createElement(r8,{options:e,onOptionSelect:y}):null,T.filter(e=>e).map(t=>t?b.createElement(rX,{key:t.key,settingName:t.settingName,subtext:t.subtext},b.createElement(w.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})):null)),o===os&&b.createElement(oi,null,b.createElement(oa,{isFromDefaultSettings:!0,options:e,toggleProp:f}))))},om="Enhancements",ou="Audience",og="Integrations",op=D.Z.div`
  border-top-left-radius: var(--lns-radius-xlarge);
  margin-bottom: calc(var(--lns-space-small) + var(--lns-space-medium));
`,oh=D.Z.div`
  overflow: auto;
  max-height: 100%;
`,ov=D.Z.div`
  & div + div {
    border-top: solid var(--lns-color-border) 1px;
  }
`,of=D.Z.div`
  overflow: hidden;
`,oE=D.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
    border-radius: var(--lns-radius-100);
  }
`,o_=D.Z.div`
  height: calc(var(--lns-space-xxlarge) + var(--lns-space-small));
  min-height: calc(var(--lns-space-xxlarge) + var(--lns-space-small));

  background-color: var(--lns-color-overlay);
  & > div {
    height: 100%;
    padding: 0 var(--lns-space-xlarge);
    & > div {
      height: 100%;
    }
  }
`,oy=D.Z.div`
  background-color: var(--lns-color-backgroundSecondary);
`,ob=D.Z.div`
  ${e=>!e.isInVideoSetting&&!e.settingsIsInEditTab&&`padding-left: var(--lns-space-medium);
   padding-right: var(--lns-space-medium);`}
`,ok=e=>e&&e!==rC.to?`${(0,rz.v)(e).toString()}x`:"None",oC=()=>rC.wn.map(e=>{let t=ok(e);return{value:e,title:b.createElement(w.xvT,{fontWeight:"bold"},t)}}),ow=(e,t,n)=>n?e?t?"Transcript processing":"Allow viewers to access the transcript":"Transcript unavailable for this video":"Allow viewers to access the transcript",oT=({videoId:e,options:t,setOptions:n,originalOptions:a,onOpenDefaultsModal:i,isInVideoSetting:r,onCloseVideoSettingsDrawer:o=()=>{},onCloseDefaultsModal:l=()=>{},currentSettings:d,updateCurrentSettings:m,pageTitle:u,settingsIsInEditTab:g=!1})=>{let p=(0,k.I0)(),{setShowConfirmationToast:h}=(0,ng.x)(),{video:{thumbnails:f},setVideo:E}=(0,v.dPl)(),{captionsActive:_,onToggle:y}=(0,v.Yj_)(e),{password:T}=(0,L.u)(),{updateVideoPlayerSourceHook:S}=(0,rD.Z)(),[I]=n$(),x=(0,b.useRef)(null),A=(0,b.useRef)(null),[N,P]=(0,b.useState)(!1),R=(0,rL.I)(),D=(0,ni.W9)(nh.SM),{type:O}=(0,ns.hP)(),W=O===n6.zF,V=W||O===n6.q1,F=(0,iZ.bM)(c.K1),z=(0,rO.q)(),B=(0,k.v9)(rU.ub),M=(0,k.v9)(rU.Dl),$=[r$.Hw,r$.on,r$.Bj,r$.rT].includes(M),[U,Z]=(0,b.useState)(om),[G,j]=(0,b.useState)(!1),[H,Y]=(0,b.useState)(!1),q=(f||{})[rC.EK],{removeVideoThumbnail:K}=rA(),X=(0,k.v9)(e=>(0,rF.MU)(e,nq.po)),J=(0,k.v9)(e=>(0,rF.MU)(e,nq.$5)),Q=!r||B;(0,b.useEffect)(()=>{if(r){let e=document.getElementById("video-settings-close-btn");e&&e.focus()}},[r]),(0,b.useEffect)(()=>{if(!G)return;let{comments_enabled:e}=t;Y(!0);let a=window.setTimeout(()=>{n({...t,comments_email_enabled:e,record_reply_enabled:e}),j(!1),Y(!1)},200);return()=>{window.clearTimeout(a)}},[t,n,G]);let et=(0,b.useCallback)(e=>{Z(e),e_.track(r?s.ca7:s.sX1,{tab:e})},[r]);(0,b.useEffect)(()=>{F&&(et(og),A?.current&&A.current.scrollIntoView({behavior:"instant",block:"start"})),(0,iZ.gz)(c.K1)},[F,et]);let en=(0,b.useCallback)(n=>{n&&e_.track(s.Sm6,{video_id:e,noise_suppression:t.noise_suppression})},[t.noise_suppression,e]),ea=(0,b.useCallback)(n=>{let i={...t,noise_cancellation_type:t.noise_suppression},r={comments_email_enabled:i.comments_email_enabled,comments_enabled:i.comments_enabled,download_enabled:i.download_enabled,email_gate_video_type:i.email_gate_video_type,loom_branded_player:i.loom_branded_player,noise_cancellation_type:i.noise_cancellation_type,record_reply_enabled:i.record_reply_enabled,show_analytics_to_viewer:i.show_analytics_to_viewer,show_transcript_to_viewer:i.show_transcript_to_viewer,stylizedCaptions:i.stylized_captions,suggested_playback_rate:i.suggested_playback_rate,use_emojis:i.use_emojis,use_gif:i.use_gif,viewerCaptionsOn:i.viewer_captions_on,viewers_can_weave:i.viewers_can_weave};I({variables:{videoId:e,settings:r,password:T},onError:t=>{eh.error(t,{message:"Failed to update video settings",videoId:e,newSettings:r,isDefault:!1},{feature:ee.L0.VideoSettings}),h("Please reload and try again")},onCompleted:t=>{if(t.updateVideoSettings?.__typename!=="UpdateVideoSettingsPayload"){eh.warning("Failed to update video settings",{videoId:e,newSettings:r},{feature:ee.L0.VideoSettings}),h("Please reload and try again");return}S({videoId:e});let i=t?.updateVideoSettings?.video?.stylizedCaptions,l=t?.updateVideoSettings?.video?.viewerCaptionsOn;null!=i&&E({stylizedCaptions:i}),null!=l&&E({viewerCaptionsOn:l}),_!==l&&y(),e_.track(s.HvM,{video_id:e,old_state:d||a,new_state:r,is_default:!1}),n||(h("Video settings saved"),o())}})},[t,I,e,T,h,S,_,d,a,E,y,o]),[ei]=nz(),er=(0,b.useCallback)(n=>{if(!n)return;e_.track(s.C6A,{isEnabled:t.auto_title}),e_.track(s.sIR,{isEnabled:t.auto_summary}),R&&e_.track(s.gz4,{isEnabled:t.auto_chapters});let i={...t,viewers_can_weave_default:t.viewers_can_weave,stylizedCaptions:t.stylized_captions,viewerCaptionsOn:t.viewer_captions_on};delete i.viewers_can_weave,delete i.stylized_captions,delete i.viewer_captions_on,ei({variables:{videoSettings:i},onError:e=>{eh.error(e,{message:"error in handleSaveDefaultSettings",isDefault:!0},{feature:ee.L0.VideoSettings}),h("Please reload and try again")},onCompleted:n=>{if(n.updateUserVideoSettings?.__typename!=="UpdateUserVideoSettingsPayload"){eh.error(Error("Error in handleSaveDefaultSettings"),{message:"error in handleSaveDefaultSettings",isDefault:!0},{feature:ee.L0.VideoSettings}),h("Please reload and try again");return}e_.track(s.HvM,{video_id:e,old_state:a,new_state:i,is_default:!0}),m(B?t:{...t,show_transcript_to_viewer:d.show_transcript_to_viewer}),h("Default video settings saved"),l()}})},[e,d,l,h,t,a,m,B,R,ei]),eo=e=>{if(H||rV()(t))return;let n=t.noise_suppression!==a.noise_suppression;en(n),ea(e),er(e)},el=(0,b.useCallback)(e=>n({...t,[e]:!t[e]}),[t,n]),es=(0,b.useCallback)(()=>{let{comments_enabled:e,comments_email_enabled:n}=t;(e||n)&&el("comments_email_enabled")},[t,el]),ec=(0,b.useCallback)(()=>{let{comments_enabled:e,record_reply_enabled:n}=t;(e||n)&&el("record_reply_enabled")},[t,el]),ed=(0,b.useCallback)((e,a)=>{n({...t,[e]:a})},[t,n]),em=(0,b.useMemo)(()=>[!r&&R&&{settingName:"Auto chapters",subtext:"AI generated chapters for your videos",key:"auto_chapters",onChange:()=>el("auto_chapters"),isActive:!0},{settingName:"Background noise filter",subtext:"Filter out unwanted noise",key:"noise_suppression",onChange:()=>el("noise_suppression"),isActive:!0},!r&&{settingName:"Auto title",subtext:"AI generated titles for your videos",key:"auto_title",onChange:()=>el("auto_title"),isActive:!0},!r&&{settingName:"Auto summary",subtext:"AI generated summaries for your videos",key:"auto_summary",onChange:()=>el("auto_summary"),isActive:!0},!r&&{settingName:"Auto tasks",subtext:"AI generated tasks for your videos",key:"auto_tasks",onChange:()=>el("auto_tasks"),isActive:!0},{settingName:"Loom branded player",subtext:J?"Prompt viewers to log in or sign-up":"",key:"loom_branded_player",onChange:()=>el("loom_branded_player"),isActive:J,useUpgradeLink:!J,upgradeText:"customize player"},{settingName:"Animated thumbnail",subtext:"Automatic gif thumbnail when you share",key:"use_gif",onChange:()=>el("use_gif"),isActive:!0}].filter(Boolean),[r,R,J,el]),eu=(0,b.useMemo)(()=>[{settingName:"Comments",subtext:"Allow viewers to add comments",key:"comments_enabled",onChange:()=>{el("comments_enabled"),j(!0)},isActive:!0},{settingName:"Comment notification",subtext:t.comments_enabled?"Get an email when someone comments":"Inactive when comments are turned off",key:"comments_email_enabled",onChange:()=>es(),isActive:t.comments_enabled},{settingName:"Record a reply",subtext:t.comments_enabled?"Allow viewers to comment with a Loom":"Inactive when comments are turned off",key:"record_reply_enabled",onChange:()=>ec(),isActive:t.comments_enabled},{settingName:"Emoji reactions",subtext:"Allow viewers to add reactions",key:"use_emojis",onChange:()=>el("use_emojis"),isActive:!0},"download_enabled"in a&&{settingName:"Download",subtext:"Allow viewers to download your video",key:"download_enabled",onChange:()=>el("download_enabled"),isActive:!0},{settingName:"Stitch",subtext:"Allow viewers to stitch this video",key:"viewers_can_weave",onChange:()=>el("viewers_can_weave"),isActive:!0},{settingName:"Analytics",subtext:"Allow viewers to see video analytics",key:"show_analytics_to_viewer",onChange:()=>el("show_analytics_to_viewer"),isActive:!0},{settingName:"Transcript",subtext:ow(B,$,r),key:"show_transcript_to_viewer",onChange:()=>el("show_transcript_to_viewer"),isActive:Q}],[r,Q,$,t.comments_enabled,a,es,el,ec,B]),eg=(0,ni.W9)(nh.dv)===nh.c7,ep=(0,nD.gH)(nq.il),ev=!!(eg&&ep),ef=r&&!g?u:null;return(0,k.v9)(rw.DD)?b.createElement(oP,{currentPage:iB.Thumbnail,onClose:o,pageTitle:"Change Thumbnail"}):b.createElement(iJ,{footer:b.createElement(()=>r?b.createElement(i1,null,b.createElement(w.zxk,{variant:"neutral",onClick:i,hasFullWidth:!0},"Set defaults…"),b.createElement(w.zxk,{variant:"primary",onClick:()=>eo(!1),hasFullWidth:!0},"Save")):b.createElement(o_,null,b.createElement(oy,null,b.createElement(w.ggW,{columns:["1fr"]},b.createElement(w.zxk,{variant:"primary",onClick:()=>eo(!0),hasFullWidth:!0},"Save defaults")))),null),title:ef??void 0,goBackToEditPage:o,backupTitleComponent:r?void 0:b.createElement(()=>b.createElement(op,null,b.createElement(w.LZC,{left:"xlarge",right:"xlarge"},b.createElement(w.LZC,{top:"xlarge",bottom:"medium"},b.createElement(w.xvT,{size:"body-lg",fontWeight:"bold"},"Default video settings")),b.createElement(w.xvT,null,"Modify default settings for this video and future videos"))),null),settingsIsInEditTab:g},b.createElement(ob,{isInVideoSetting:r,settingsIsInEditTab:g},b.createElement(oh,null,!r&&D?b.createElement(od,{options:t,hasAIAccess:z,suggestedPlaybackOptions:oC(),setOptions:n,setToggleComments:j,videoId:e}):b.createElement(b.Fragment,null,b.createElement(w.mQc,{isPilledDesign:r,hasFullTabs:!r},b.createElement(w.OK9,{isActive:om===U,onClick:()=>et(om)},om),b.createElement(w.OK9,{isActive:ou===U,onClick:()=>et(ou)},ou),W?b.createElement(w.OK9,{isActive:og===U,onClick:()=>et(og)},og):null),b.createElement(of,null,U===om&&b.createElement(ov,null,r?b.createElement(rX,{key:"thumbnail",settingName:"Video thumbnail",subtext:"Add a custom video thumbnail for your audience",useUpgradeLink:!X,upgradeText:"add video thumbnail"},X?q?b.createElement(w.Avr,{icon:b.createElement(tS.z,null),iconPosition:"right",onClick:()=>{K(),p((0,iz.c_)(null))}},"Remove"):b.createElement(w.Avr,{icon:b.createElement(rB.z,null),iconPosition:"right",onClick:()=>{p((0,C.h7)({modalType:"VIDEO_THUMBNAIL_MODAL"})),p((0,iz.lf)())}},"Add"):null):null,em.map(e=>e?b.createElement(rX,{key:e.key,settingName:e.settingName,subtext:e.subtext,useUpgradeLink:e.useUpgradeLink,upgradeText:e.upgradeText},b.createElement(w.rsf,{isActive:t[e.key],onChange:e.onChange,isDisabled:!e.isActive,ariaLabel:e.settingName})):null)),U===ou&&b.createElement(ov,null,ev?b.createElement(b.Fragment,null,b.createElement(rX,{key:"viewer_captions_on",settingName:"Turn on captions",subtext:"Turn on closed captions for viewers"},b.createElement(w.rsf,{isActive:t.viewer_captions_on,onChange:()=>(e_.track(s.VOB,{source:"SETTINGS",enabled:!t.viewer_captions_on,video_id:e}),el("viewer_captions_on")),isDisabled:!1,ariaLabel:"Turn on captions"})),b.createElement(rX,{key:"stylized_captions",settingName:"Add stylized captions",subtext:"Apply designed styling to your captions"},b.createElement(w.rsf,{isActive:t.stylized_captions,onChange:()=>(e_.track(s.y00,{source:"SETTINGS",enabled:!t.stylized_captions,video_id:e}),el("stylized_captions")),isDisabled:!1,ariaLabel:"Add stylized captions"}))):null,b.createElement(rX,{key:"suggested_playback_rate",settingName:"Recommend a playback speed",subtext:"Suggest a viewing speed for your audience"},b.createElement(w.PhF,{trigger:(e,t)=>b.createElement(oE,null,b.createElement(w.Avr,{size:"medium",iconPosition:"right",icon:b.createElement(rM.w,null),...t},b.createElement(w.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:t.suggested_playback_rate,menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:oC(),onChange:e=>ed("suggested_playback_rate",e.value)})),V?b.createElement("div",{ref:x},b.createElement(r8,{options:t,onOptionSelect:ed,shouldAnimate:N,setShouldAnimate:P})):null,eu.filter(e=>e).map(e=>e?b.createElement(rX,{key:e.key,settingName:e.settingName,subtext:e.subtext},b.createElement(w.rsf,{isActive:t[e.key],onChange:e.onChange,isDisabled:!e.isActive,ariaLabel:e.settingName})):null)),U===og&&b.createElement(ov,null,b.createElement("div",{ref:A},b.createElement(oa,{isFromDefaultSettings:!1,options:t,toggleProp:el,handleRelatedSettingsEditClick:()=>{et(ou),x?.current&&x.current.scrollIntoView({behavior:"instant",block:"start"}),P(!0)}}))))))))},oS={auto_cta:!0,auto_filler_word_removal:!0,auto_silence_removal:!0,auto_summary:!0,auto_title:!0,comments_email_enabled:!0,comments_enabled:!0,download_enabled:!0,email_gate_video_type:rR.q.None,loom_branded_player:!0,noise_suppression:!1,record_reply_enabled:!0,salesforce_engagement_tracking:!1,show_analytics_to_viewer:!0,show_transcript_to_viewer:!0,stylized_captions:!1,suggested_playback_rate:rC.to,use_emojis:!0,use_gif:!0,viewer_captions_on:!1,viewers_can_weave:!0},oI=(e,t)=>{let n=[...new Set([...Object.keys(oS),...Object.keys(e)])].reduce((t,n)=>(t[n]=e[n]??oS[n],t),{});return t?.downloadableBy===rC.JC.NO_ONE&&delete n.download_enabled,n.viewers_can_weave=e.viewers_can_weave_default??oS.viewers_can_weave,delete n.viewers_can_weave_default,n.stylized_captions=e.stylizedCaptions?e.stylizedCaptions:oS.stylized_captions,delete n.stylizedCaptions,n.viewer_captions_on=e.viewerCaptionsOn?e.viewerCaptionsOn:oS.viewer_captions_on,delete n.viewerCaptionsOn,n},ox=({video:e,currentSettings:t,updateCurrentSettings:n,onCloseDefaultsModal:a})=>{let i=(0,u.useCurrentUserSelector)(e=>{if(e.videoSettings){let{__typename:t,...n}=e.videoSettings;return n}return{}},{}),r=(0,rL.I)(),o=(0,nl.c)();r&&(oS.auto_chapters=!0),o&&(oS.auto_tasks=!0);let l=oI(i,e),[s,c]=(0,b.useState)(l);return b.createElement(w.YMn,{isOpen:!0,onClick:a},b.createElement(w.pUH,{isOpen:!0,noPadding:!0,onCloseClick:a,ariaLabel:"Default video settings",maxWidth:68},b.createElement(oT,{videoId:e.id,options:s,setOptions:c,originalOptions:l,onCloseDefaultsModal:a,currentSettings:t,updateCurrentSettings:n})))},oA=({goBackToEditPage:e,pageTitle:t,settingsIsInEditTab:n=!1})=>{let{showDefaultSettings:a}=(0,k.v9)(eB.z8),{video:i}=(0,v.dPl)(),r=(()=>{let{commentsEmailEnabled:e,commentsEnabled:t,downloadEnabled:n,emailGateVideoType:a,loomBrandedPlayer:r,processingInformation:o,recordReplyEnabled:l,salesforceEngagementTracking:s,showAnalytics:c,showTranscriptToViewer:d,suggestedPlaybackRate:m,useEmojis:u,useGif:g,viewersCanWeave:p,viewerCaptionsOn:h,stylizedCaptions:v}=i,f={comments_email_enabled:e,comments_enabled:t,email_gate_video_type:a,loom_branded_player:r,noise_suppression:o?.noiseSuppression,record_reply_enabled:l,salesforce_engagement_tracking:s,show_analytics_to_viewer:c,show_transcript_to_viewer:d,stylized_captions:v,suggested_playback_rate:m,use_emojis:u,use_gif:g,viewer_captions_on:h,viewers_can_weave:p};return i.downloadableBy!==rC.JC.NO_ONE&&(f.download_enabled=n),f})(),[o,l]=(0,b.useState)(r),[c,d]=(0,b.useState)(!1);(0,b.useEffect)(()=>{a&&d(!0)},[a]),(0,b.useEffect)(()=>{i?.stylizedCaptions!==void 0&&i?.stylizedCaptions!==null&&l(e=>({...e,stylized_captions:i.stylizedCaptions}))},[i.stylizedCaptions]),(0,b.useEffect)(()=>{i?.viewerCaptionsOn!==void 0&&i?.viewerCaptionsOn!==null&&l(e=>({...e,viewer_captions_on:i.viewerCaptionsOn}))},[i.viewerCaptionsOn]);let{layerProps:m,triggerProps:u,renderLayer:g}=(0,eg.sJ)({isOpen:c});return b.createElement(b.Fragment,null,b.createElement(oT,{videoId:i.id,options:o,setOptions:l,originalOptions:r,onOpenDefaultsModal:()=>{let e=document.body.style;e.top=`-${window.scrollY}px`,e.position="fixed",d(!0),e_.track(s.jKy)},onCloseVideoSettingsDrawer:e,isInVideoSetting:!0,pageTitle:t,settingsIsInEditTab:n}),c&&b.createElement("div",{style:{position:"absolute",...u.style},...u},g(b.createElement("div",{...m,style:{zIndex:"1"}},b.createElement(ox,{video:i,currentSettings:o,updateCurrentSettings:l,onCloseDefaultsModal:()=>{let e=document.body.style,t=e.top;e.position="",e.top="",window.scrollTo(0,-1*parseInt(t||"0")),d(!1)}})))))},oN=({currentPage:e,goBackToEditPage:t,pageTitle:n,showDefaultCta:a})=>{let[i,r]=b.useState(!1);switch(e){case iB.Link:return b.createElement(rh,{goBackToEditPage:t,isOnDefaultTab:i,pageTitle:n,setIsOnDefaultTab:r,showDefaultCta:a??!1});case iB.Thumbnail:return b.createElement(rP,{goBackToEditPage:t,pageTitle:n});case iB.Settings:return b.createElement(oA,{goBackToEditPage:t,pageTitle:n});default:return b.createElement(b.Fragment,null)}},oP=({currentPage:e,onClose:t,pageTitle:n,showDefaultCta:a})=>{let i=(0,k.I0)();return b.createElement(w.ggW,{height:"inherit",justifyContent:"stretch",style:{overflow:"auto"}},b.createElement(oN,{currentPage:e,goBackToEditPage:()=>{e===iB.Link&&i((0,iz.bl)()),t()},pageTitle:n,showDefaultCta:a}))},oL=({onClose:e})=>{let t=(0,k.v9)(eB.tV),n=(0,k.v9)(e=>(0,rF.MU)(e,nq.tS));return b.createElement(oP,{currentPage:iB.Link,onClose:e,pageTitle:t?"Edit the link":"Add a link",showDefaultCta:n})};var oR=n(74583),oD=n(45731),oO=n(42089),oW=n(54545),oV=n(73671);let{secondsToVideoTS:oF}=e1,oz=({task:e})=>{let t=oF(e.time_stamp),n=e.content,a=(0,v.BRl)({videoId:e.video_id});return b.createElement(w.W20,{id:`sidebar-video-task-${e.id}`,marginBottom:"large"},b.createElement(w.Pag,{gap:"small",alignItems:"start",wrap:"nowrap"},b.createElement("button",{className:"meeting-recap-tab_timestampButton_3OU",onClick:()=>a(e.time_stamp)},t),b.createElement(w.I7m,null,b.createElement(w.xvT,null,n))))},oB=({videoId:e})=>{let{password:t}=(0,L.u)(),{featureLoadedRef:n}=(0,Q.kX)(),a=(0,u.useIsCurrentUserLoggedIn)(),i=(0,eO.v)({videoId:e}),r=(0,eR.z)({isOwnerAfterRecording:i}),o=i&&r.status===eV.YJ.AUTO,l=r.isWaiting&&!o,{data:s,loading:c,error:d}=(0,ei.ow)({variables:{videoId:e,password:t},skip:!a||l}),{approvedTasks:m}=(0,er.y)(s);return r.isWaiting?b.createElement("div",{ref:n},b.createElement(w.W20,{borderSide:"all",marginBottom:"medium",radius:"xlarge"},b.createElement(w.Pag,null,b.createElement(w.m9_,{animation:"spin 2s infinite steps(43) alternate",brand:"ai"}),b.createElement(w.xvT,{color:"bodyDimmed"},"Loom AI is generating action items...")))):c||d||0===m.length?null:b.createElement("div",{ref:n},b.createElement(w.W20,null,b.createElement(w.W20,{marginBottom:"medium"},b.createElement(w.xvT,{htmlTag:"h3",variant:"title"},"Action Items")),m.map((e,t)=>b.createElement(oz,{key:`action-item-${t}`,task:e}))))},oM=e=>b.createElement(X.$,{feature:ee.L0.CalendarMeetings,errorType:J.s.DEFAULT,additionalLoggingValues:{version:"tasks"}},b.createElement(oB,{...e})),o$={},oU=(0,eS.Ps)`
    query GetMeetingRecapVideo($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      description
      playable_duration
      attachments {
        id
        url
        service {
          name
          humanName
        }
      }
    }
  }
}
    `,oZ=()=>{let e=(0,rO.q)(),t=(0,no.e)();return!e||t};var oG=n(89158);let oj=()=>{let e=(0,no.e)(),t=(0,nl.c)(),n=(0,ns.nw)()===n7.Xx,a=t&&n;(0,b.useEffect)(()=>{a&&e_.track(s.bDd)},[a]);let{onClick:i}=ae(nu.y.AI_MEETING_RECAP_CTA);return b.createElement(w.W20,{borderSide:"all",backgroundColor:"background",borderColor:e?"border":"primary",marginBottom:"large",paddingX:"medium",paddingY:"medium",radius:"large"},b.createElement(w.Pag,{justifyContent:"space-between",gap:"medium"},b.createElement(w.ggW,{gap:"xsmall",autoFlow:"row"},b.createElement(w.ggW,{gap:"xsmall"},b.createElement(w.xvT,{size:"body-lg",fontWeight:"bold"},e?"Loom AI":"Get Loom AI"),b.createElement(w.xMy,{alignment:"topCenter"},b.createElement(w.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"})),e&&b.createElement(w.DRh,{color:"white",backgroundColor:"blurpleStrong"},"Trial")),b.createElement(w.xvT,null,a?`Upgrade now to ${e?"keep":"get"} Loom AI for all your meetings.`:`Ask your workspace admin to upgrade now and ${e?"keep":"get"} Loom AI for all your meetings.`)),a&&b.createElement(w.zxk,{icon:b.createElement(oG.R,null),variant:"upgrade",size:"small",onClick:()=>{e_.track(s.SVM),i()}},"Upgrade now")))},oH=({description:e})=>{let t=(0,rO.q)(),n=(0,no.e)(),a=(0,nl.c)();return oZ()?b.createElement(oj,null):e?null:b.createElement(w.W20,{borderSide:"all",backgroundColor:"background",borderColor:"border",marginBottom:"large",paddingX:"medium",paddingY:"medium",radius:"large"},b.createElement(w.Pag,{justifyContent:"space-between",gap:"medium"},b.createElement(w.ggW,{gap:"xsmall",autoFlow:"row"},b.createElement(w.ggW,{gap:"xsmall"},b.createElement(w.xvT,{size:"body-lg",fontWeight:"bold"},"The Loom AI recap is unavailable")),b.createElement(w.xvT,null,"Unfortunately the Loom AI recap is unavailable for this meeting.",t&&a&&!n?" If you recently upgraded, any new meetings will be summarized with Loom AI.":" If you think this is an error, please contact support."))))};var oY=n(53562),oq=n.n(oY),oK=n(78333);let oX=(e,{timestampClassName:t="timestamp",videoUrl:n,videoLength:a})=>{let i=e.utils.arrayReplaceAt,r=e.utils.escapeRE,o=e.utils.lib.ucmicro.P.source,l=e.utils.lib.ucmicro.Z.source,s="["+" \r\n$+<=>^`|~".split("").map(r).join("")+"]",c="".concat(o,"|").concat(l,"|").concat(s);e.core.ruler.after("linkify","timestamp_replace",function(e){let a=e.tokens,r=/\d/,o=RegExp("(^|".concat(c,")")+"(".concat("\\d*\\d:\\d?\\d(:\\d\\d)?",")")+"($|".concat(c,")"),"g");for(let l=0,s=a.length;l<s;l++){if("inline"!==a[l].type)continue;let s=a[l].children;for(let c=s.length-1;c>=0;c--){let d;let m=s[c];if("text"!==m.type)continue;let u=0,g=m.content;o.lastIndex=0;let p=[];if(r.test(g)){for(;d=o.exec(g);){if(d.index>0||d[1].length>0){let t=g.slice(u,d.index+d[1].length),n=new e.Token("text","",0);n.content=t,p.push(n)}let[a,i,r]=d[2].split(":").map(e=>parseInt(e)).reverse(),l=3600*(r||0),s=60*i,c=l+s+a,m=new e.Token("timestamp_open","a",1);m.attrs=[["class",t],["data-seconds",c],["href","".concat(n,"?t=").concat(c)]],p.push(m);let h=new e.Token("text","",0);h.content=d[2],p.push(h);let v=new e.Token("timestamp_close","a",-1);p.push(v),o.lastIndex-=d[4].length,u=o.lastIndex}if(p.length){if(u<g.length){let t=new e.Token("text","",0);t.content=g.slice(u),p.push(t)}a[l].children=s=i(s,c,p)}}}}})};var oJ={show:"meeting-recap-tab_show_1mJ",timestamp:"meeting-recap-tab_timestamp_3LS",meetingSummaryAi:"meeting-recap-tab_meetingSummaryAi_1CX"};let oQ=({description:e,videoUrl:t,videoLength:n})=>{let a=(0,b.useRef)(null),{video:{id:i}}=(0,v.dPl)(),r=(0,v.BRl)({videoId:i});return(0,b.useEffect)(()=>{if(!a.current)return;let e=e=>{e.preventDefault(),e.stopPropagation(),r(parseInt(e.currentTarget.getAttribute("data-seconds")))},t=a.current.querySelectorAll(`.${oJ.timestamp}[data-seconds]`);for(let n=0;n<t.length;n++)t[n].addEventListener("click",e);return()=>{for(let n=0;n<t.length;n++)t[n].removeEventListener("click",e)}},[r]),b.createElement("div",{ref:a,dangerouslySetInnerHTML:{__html:(0,oK.Z)().use(oX,{videoUrl:t,videoLength:n,timestampClassName:oJ.timestamp}).render(oq()(window).sanitize(e,{ALLOWED_TAGS:[]}))}})},o0=({description:e,videoId:t,playableDuration:n})=>{let a=`${tK.OA}/share/${t}`;return b.createElement(w.W20,{marginBottom:"small"},b.createElement(w.W20,null,b.createElement(w.xvT,{htmlTag:"h3",variant:"title"},"Summary")),b.createElement(w.W20,null,b.createElement(w.xvT,{size:"body-md",className:m()(oJ.show,oJ.meetingSummaryAi)},b.createElement(oQ,{videoUrl:a,videoLength:n||0,description:e}))))};var o1=n(77541),o2=n(82508),o3=n(6066),o5=n(69189),o4=n(12546),o8=n(37532),o7=n(32317),o9=n(80819),o6=n(63305),le=n(88386),lt=n(36616),ln=n(83689),la=n(47498),li=((r=li||{}).Loom="loom",r.Confluence="confluence",r.Jira="jira",r.BitBucket="bitbucket",r.GoogleDoc="google_doc",r.GoogleSheet="google_sheet",r.GoogleSlides="google_slides",r.Figma="figma",r.GithubPr="github_pr",r.GithubGist="github_gist",r.Word="word",r.Excel="excel",r.Powerpoint="powerpoint",r.Onenote="onenote",r);RegExp("https://docs.google.com/document/\\S+","ig"),RegExp("https://docs.google.com/spreadsheets/\\S+","ig"),RegExp("https://docs.google.com/presentation/\\S+","ig"),RegExp("https://([^.]+).atlassian.net/browse/\\S+","ig"),RegExp("https://([^.]+).atlassian.net/wiki/\\S+","ig"),RegExp("https://(?:www.)?loom.com/share/\\S+","ig"),RegExp("https://(?:www.)?figma.com/\\S+","ig"),RegExp("https://gist.github.com/\\S+","ig"),RegExp("https://github.com/\\S+/\\S+/pull/\\S+","ig"),RegExp("https://1drv.ms/w/\\S+","ig"),RegExp("https://1drv.ms/x/\\S+","ig"),RegExp("https://1drv.ms/p/\\S+","ig"),RegExp("https://1drv.ms/o/\\S+","ig");let lr={},lo=(0,eS.Ps)`
    query GetVideoAttachments($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      attachments {
        id
        url
        service {
          name
          humanName
        }
      }
    }
  }
}
    `,ll={[li.Loom]:b.createElement("div",{style:{height:"16px"}},b.createElement(w.TRl,{variant:"symbol",maxWidth:"16px",style:{height:"16px"}})),[li.Jira]:b.createElement(o6.w,null),[li.Confluence]:b.createElement(o2.M,null),[li.BitBucket]:b.createElement(o1.Y,null),[li.GoogleDoc]:b.createElement(o8.w,null),[li.GoogleSheet]:b.createElement(o7.D,null),[li.GoogleSlides]:b.createElement(o9.o,null),[li.Figma]:b.createElement(o5.T,null),[li.GithubGist]:b.createElement(o4.m,null),[li.GithubPr]:b.createElement(o4.m,null),[li.Word]:b.createElement(la.$,null),[li.Excel]:b.createElement(le.L,null),[li.Powerpoint]:b.createElement(ln.v,null),[li.Onenote]:b.createElement(lt.V,null)},ls=()=>{let{video:{id:e}}=(0,v.dPl)(),{password:t}=(0,oD.u)(),{data:n}=function(e){let t={...lr,...e};return eI.a(lo,t)}({variables:{videoId:e,password:t}}),a=[];return n?.getVideo?.__typename==="RegularUserVideo"&&(a=n.getVideo.attachments.map(({id:e,service:t,url:n})=>b.createElement("a",{key:e,href:n,target:"_blank",rel:"noreferrer"},b.createElement(w.DRh,{icon:t&&ll[t.name]?ll[t.name]:b.createElement(o3.l,null),iconPosition:"left",style:{border:"1px solid var(--lns-color-border)"}},t?.humanName||n)))),0===a.length?b.createElement(b.Fragment,null):b.createElement(w.W20,{marginBottom:"large"},b.createElement(w.Pag,{gap:"small"},a))},lc=()=>{let{video:{id:e}}=(0,v.dPl)(),t=(0,eO.v)({videoId:e}),n=(0,ni.W9)(oV.ln.REWATCH_MEETINGS_ACTION_ITEMS,oV.C2.STATSIG_FEATURE_GATE),a=(0,eR.M)({isOwnerAfterRecording:t}),{password:i}=(0,oD.u)(),{data:r}=function(e){let t={...o$,...e};return eI.a(oU,t)}({variables:{videoId:e,password:i}}),o=null,l=0;return r?.getVideo?.__typename==="RegularUserVideo"&&(o=r?.getVideo?.description??null,l=r?.getVideo?.playable_duration??0),b.createElement(w.W20,{padding:"large"},b.createElement(oH,{description:o}),o&&b.createElement(w.W20,{marginBottom:"large"},b.createElement(w.xvT,{size:"heading-sm",htmlTag:"h2",style:{width:"fit-content"}},oR.Ah),b.createElement(w.LZC,{bottom:"xsmall"}),b.createElement(oO.O,null)),a.hasAccess?b.createElement(ls,null):null,o&&(a.isWaiting?b.createElement(b.Fragment,null,b.createElement(w.ua7,{isInline:!1,content:"We are using AI to create a summary tailored to your Loom.",placement:"topLeft",isDisabled:!a.isExpected||a.status!==eV.YJ.PENDING},b.createElement(w.W20,{className:oJ.assistant},b.createElement(w.W20,{className:oJ.gradient}),b.createElement(w.W20,{className:oJ.mask}),b.createElement(w.W20,{position:"relative",zIndex:2},b.createElement(o0,{description:o,playableDuration:l,videoId:e})))),b.createElement(oW.BO,{name:K.Mi.AutoSummaryLoading})):b.createElement(b.Fragment,null,b.createElement(o0,{description:o,playableDuration:l,videoId:e}),a.isExpected&&t&&b.createElement(oW.BO,{name:K.Mi.AutoSummary}))),n&&a.hasAccess?b.createElement(oM,{videoId:e}):null)};var ld=n(4055),lm=n(30676);let lu=()=>{let e=(0,ab.st)(),t=()=>{e(av.BR.CALENDAR_CONNECT_BANNER)};return b.createElement(lm.Z,{hasTransition:!1,name:av.BR.CALENDAR_CONNECT_BANNER},b.createElement(w.W20,{padding:"large",borderSide:"bottom",borderWidth:"2px",borderColor:"backgroundSecondary",backgroundColor:"blurpleLight",id:"right-panel-meetings-banner"},b.createElement(w.Pag,{justifyContent:"space-between",rowGap:"medium"},b.createElement(w.Pag,{gap:"medium"},b.createElement(w.DRh,{color:"blurple",backgroundColor:"white"},"Beta"),b.createElement(w.W20,null,b.createElement(w.xvT,{fontWeight:"bold",size:"body-lg"},"Meeting recording with Loom"),b.createElement(w.xvT,null,"Connect your calendar and choose the Zoom, Google Meet, and Teams meetings you want to record"))),b.createElement(w.Pag,{alignItems:"center",gap:"small"},b.createElement(ld.i,{shouldRedirect:!0}),b.createElement(w.Avr,{onClick:()=>t()},"Not now")))))},lg=()=>{let{loomCategory:e}=(0,t7.a)(),{transcriptInProgress:t,transcriptEmpty:n,transcriptUnavailable:a,transcriptSuccessful:i}=(0,h.h7)();return b.createElement(w.W20,{padding:"large"},b.createElement(w.xvT,null,t?"Transcription in progress...":a||n?"Transcript is unavailable or empty":i?`Loom category: ${e}`:void 0))};var lp=n(75162),lh=n(96758),lv=n(11236),lf=n(71193),lE=n(99644),l_=n(5902),ly=n(20389),lb=n(2658),lk=n(3891),lC=n(40240),lw=n(11893),lT=n(67491),lS=n.p+"img/illustrations/player-8461285e3e7f39968f05.png";let lI={},lx=(0,eS.Ps)`
    query GetInsightsStatsForVideo($videoId: ID!) {
  engagementInsightsSummaryForVideo(videoId: $videoId) {
    id
    stats(videoId: $videoId) {
      id
      trackedViewerCount
      completionPercentAvg
      ctaConversionPercent
    }
  }
}
    `;var lA=n(25646);let lN=()=>b.createElement(w.LZC,{bottom:2,top:2,left:1},b.createElement(w.ggW,{columns:["auto 1fr"],gap:2},b.createElement(w.W20,{height:4,width:4,backgroundColor:"disabledBackground",radius:"full",paddingLeft:4}),b.createElement(w.Pag,{direction:"column",alignItems:"start",gap:1},b.createElement(w.I7m,null,b.createElement(w.W20,{height:1.5,width:15,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),b.createElement(w.I7m,null,b.createElement(w.Pag,{direction:"row",gap:2},b.createElement(w.I7m,null,b.createElement(w.W20,{height:1.5,width:4,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),b.createElement(w.I7m,null,b.createElement(w.W20,{height:1.5,width:4,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}}))))))),lP=({rowCount:e})=>{let t=[];for(let n=0;n<e;n++)t.push(b.createElement(lN,{key:n}));return b.createElement(b.Fragment,null,t)};var lL=n(10138),lR=n(3894),lD=n(97917),lO=n(72232);let lW=({title:e,amount:t,backgroundColor:n="backgroundSecondary",className:a,inActivitySidebar:i=!1})=>b.createElement(b.Fragment,null,i?b.createElement(w.W20,{className:a,backgroundColor:n,padding:"medium",radius:"large"},b.createElement(w.ggW,{autoFlow:"row"},b.createElement(w.xvT,{fontWeight:"bold",color:"grey8"},e),b.createElement(w.xvT,{size:"heading-md",fontWeight:"bold",color:"grey8"},t))):b.createElement("div",{className:`flex py:small px:medium items:center ${a} radius:medium`,style:{backgroundColor:n}},b.createElement("div",{className:"grow:1"},b.createElement(w.xvT,null,e)),b.createElement(w.xvT,{fontWeight:"bold",size:"heading-sm"},t)));var lV=({viewer:e,onBack:t,skipAnimation:n,inActivitySidebar:a})=>{let i=(0,b.useRef)(),{user:r={},views:o=[],percentCompleted:l=0,ctaClicks:s,events:c=[]}=e;return(0,b.useEffect)(()=>{let e=i?.current,t=()=>e?.parentElement?.classList.add(lO.Z.shrinked);document?.documentElement?.scrollTo?.({top:0}),e?.parentElement?.scrollTo?.({left:e.offsetWidth,behavior:n?"auto":"smooth"}),n?t():setTimeout(t,250);let a=new lp.Z(nd()(([e])=>{e?.target?.parentElement?.scrollTo({left:e?.contentRect?.width,behavior:"smooth"})},100));return a.observe(e),()=>a.disconnect()},[n]),b.createElement("section",{className:lO.Z.slideable,ref:i},b.createElement(w.yeS,{htmlTag:"header",alignment:"center",isSpread:!0,className:lO.Z.detailsHeader},b.createElement(w.yeS,{alignment:"center",gap:"small"},a?b.createElement(b.Fragment,null,b.createElement(w.hU,{altText:"Back",icon:b.createElement(iX.C,null),onClick:t}),b.createElement("a",{href:`/profile/${r?.profileUrl}`},b.createElement(w.xvT,{fontWeight:"bold",size:"body-lg"},r.name))):b.createElement(b.Fragment,null,b.createElement(w.hU,{altText:"Back",icon:b.createElement(lD.s,null),onClick:t}),b.createElement("a",{href:`/profile/${r?.profileUrl}`},b.createElement(lR.uV,{avatar:r.avatar,color:r.color,variant:r.variant})),b.createElement(lR.Wd,{name:r.name})))),b.createElement("div",null,b.createElement("div",{className:"mb:large"},b.createElement(lW,{title:"Video views",amount:o.length,backgroundColor:"blurpleMedium",inActivitySidebar:a}),b.createElement(lW,{className:a?"mt:medium":"mt:small",title:"Completion rate",amount:null!=l?`${l}%`:"--",backgroundColor:"blueLight",inActivitySidebar:a}),!!s&&b.createElement(lW,{className:m()(a?"mt:medium":"mt:small","test-call-to-action-clicks"),title:"Call-to-Action Clicks",amount:s,backgroundColor:"yellowLight",inActivitySidebar:a})),b.createElement("div",{className:"p:medium bgc:backgroundSecondary mb:large radius:medium"},b.createElement("div",{className:"mb:medium"},b.createElement(w.xvT,{fontWeight:"bold"},"View Times")),b.createElement(lR.UZ,{views:o}))),b.createElement(lR.iF,{events:c}))},lF=n(14095),lz=n(88447),lB=n(61709),lM=n(44354),l$=n(94789),lU=n(57576),lZ=n.n(lU),lG=()=>{let[e,t]=(0,b.useState)(""),[n,a]=(0,b.useState)(""),{video:{isOwner:i,views:r,videoProperties:{playableDuration:o}}}=(0,v.dPl)(),{total:l=0}=r??{},s=(0,lz.aJ)({videoViews:l,videoDuration:o||0}),c=(0,lz.I5)({secondsSaved:s}),[d,{data:m,loading:u}]=(0,lF.t)(lZ(),{variables:{dateRangeType:lB.Nm.MONTH,interval:0},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),g=m?.getInsightsValueForTimeframes?.owner?.videoView;return(0,b.useEffect)(()=>{1!==l&&c?c&&(t(`${c} saved`),a("Every view on this video beyond the first view is one less time that you had to repeat yourself. Great work at scaling knowledge!")):(d(),g&&t(`${g} views this month`))},[l,d,c,g]),l&&!u&&i&&e?b.createElement(b.Fragment,null,b.createElement(w.ggW,{gap:"small",justifyContent:{default:"stretch",medium:"space-between"},autoFlow:{default:"row",medium:"column"}},b.createElement(w.ggW,{gap:"xsmall"},b.createElement(l$.Z,{size:3}),b.createElement(w.LZC,{left:.5}),b.createElement(w.xvT,{size:"body-md",color:"bodyDimmed",fontWeight:"book"},e),n&&b.createElement(w.ua7,{content:n,maxWidth:40},b.createElement(w.JO$,{icon:b.createElement(eZ.M,null),size:2.25,color:"bodyDimmed"}))),b.createElement(lM.Z,{buttonText:"More insights",source:"viewer-insights-share-page",buttonSize:"small"}))):b.createElement(b.Fragment,null)};try{a=window&&window.localStorage}catch{}let lj="engagementInsights:showPartialInfoSaved",lH=()=>a&&a.setItem(lj,!0),lY=()=>a&&a.getItem(lj);var lq=n(67615),lK=n(56647);let{reactor:lX}=lw.NOTIFICATION_URL_PARAMS,lJ=e=>isNaN(e)?"n/a":`${Math.round(e)}%`,lQ=({onExit:e,inActivitySidebar:t})=>{let{featureLoadedRef:n}=(0,Q.kX)(),a=(0,k.I0)(),i=(0,b.useRef)(null),r=(0,b.useRef)(null),o=(0,b.useRef)(null),[l,s]=(0,b.useState)(!lY()),c=(0,b.useCallback)(e=>{a((0,ly.L)(e)),e&&(0,lL.E3)()},[a]),d=i?.current,u=r?.current,g=(0,b.useCallback)(()=>{t?((0,lL.wK)(),c(null)):(d?.classList.remove(lO.Z.shrinked),setTimeout(()=>{document.documentElement.scrollTo({top:0}),d?.scrollTo({left:0,behavior:"smooth"}),u?.scrollTo({top:0})},50),(0,lL.wK)(),setTimeout(()=>c(null),350))},[c,u,d,t]),{video:{id:p,ctaEnabled:h=!1,views:f}}=(0,v.dPl)(),{total:E=0,distinct:_=0}=f??{},y=(0,k.v9)(e=>(0,rF.MU)(e,nq.L7)),{data:C}=function(e){let t={...lI,...e};return eI.a(lx,t)}({variables:{videoId:p},skip:!y||!E,client:(0,lC.yy)()}),T=C?.engagementInsightsSummaryForVideo?.stats?.completionPercentAvg??void 0,S=C?.engagementInsightsSummaryForVideo?.stats?.ctaConversionPercent??void 0,I=C?.engagementInsightsSummaryForVideo?.stats?.trackedViewerCount??void 0,{data:x,loading:A,fetchMore:N}=(0,lA.uB)({variables:{first:50,videoId:p},client:(0,lC.yy)(),skip:!y||!E,notifyOnNetworkStatusChange:!0}),{viewersWithEngagements:L,hasNextPage:R,endCursor:D}=(0,lK.R)(x),O=(0,b.useCallback)(()=>{!A&&N&&D&&R&&y&&N({variables:{first:50,after:D,videoId:p}})},[N,A,p,D,R,y]);(0,lT.Z)(o,O);let W=(0,lq.p)(f),V=y?L:W,F=(0,k.v9)(et.R),z=(0,lk.D)(F),B=I!==_;return(0,b.useEffect)(()=>{let e=(0,eW.jS)(lX);if(e){let t=V.find(t=>(0,lK.O)(t)&&String(t.user.id)==e);null!=t&&(c(t),(0,eW.$5)(window)(lX))}r?.current?.scrollTo?.({top:0}),F||e||g()},[g,c,F,V]),b.createElement("div",{ref:n},b.createElement("section",{ref:r,className:lO.Z.containerBox+" overflow:auto thin-scrollbars radius:medium",style:{display:"flex",flexDirection:"column"}},0===E?b.createElement(l0,null):b.createElement(P.Gm,{feature:ee.L0.EngagementInsights},!t&&b.createElement(w.yeS,{alignment:"center",isSpread:!0,className:lO.Z.sticky},b.createElement(w.xvT,{variant:"title"},"Engagement Insights"),b.createElement(w.hU,{altText:"Close",icon:b.createElement(aC.G,null),onClick:e})),B&&l&&!y&&b.createElement("div",{className:"mb:medium"},b.createElement(l8,{onClick:()=>{s(!1),lH(),(0,lL.h$)()}})),b.createElement("div",{className:lO.Z.slideableContainer,ref:i},b.createElement("section",{className:lO.Z.slideable},b.createElement(w.LZC,{top:"medium"}),b.createElement(lG,null),b.createElement(w.LZC,{top:"small"}),b.createElement("ul",{className:m()(lO.Z.viewsMetadata,{[lO.Z.partial]:!B})},b.createElement(b.Fragment,null,b.createElement(l1,{total:E}),b.createElement(lb.Z,{name:nq.L7},b.createElement(l2,{completionPercentAvg:T,trackedViewerCount:I,totalViewerCount:_})),h&&b.createElement(lb.Z,{name:nq.L7},b.createElement(l3,{ctaConversionPercent:S})))),b.createElement(l9,{viewers:V,totalViewerCount:_,onViewerClick:c,hasEngagementInsights:y,hasNextPage:R??!1,paginatedViewersLoading:A,fetchMoreRef:o}),!V.length&&b.createElement(w.aNw,null)),F&&b.createElement(lV,{viewer:F,onBack:g,skipAnimation:void 0===z,inActivitySidebar:t})))))},l0=()=>{let{video:{owner:{displayName:e}}}=(0,v.dPl)();return b.createElement(w.W20,{paddingY:"20vh",style:{textAlign:"center"}},b.createElement("img",{alt:"A Loom user is pointing a finger upwards to a video",width:"140px",height:"140px",src:lS,loading:"lazy"}),b.createElement(w.LZC,{bottom:3}),b.createElement(w.xvT,{fontWeight:"bold",size:"body-lg"},"No views... yet"),b.createElement(w.LZC,{top:1,bottom:2},b.createElement(w.xvT,{fontWeight:"book",color:"bodyDimmed"},`Be the first to watch ${e}'s video`)))},l1=({total:e})=>b.createElement("li",{className:"bgc:blurpleMedium"},b.createElement(w.xvT,{fontWeight:"bold",color:"grey8"},"Total video views"),b.createElement(w.xvT,{size:"heading-md",fontWeight:"bold",color:"grey8"},e)),l2=({completionPercentAvg:e,trackedViewerCount:t,totalViewerCount:n})=>b.createElement("li",{className:m()("bgc:blueLight",{[lO.Z.disabled]:!e})},b.createElement(w.ggW,{gap:"xsmall",autoFlow:"row"},b.createElement(w.xvT,{fontWeight:"bold",color:"grey8"},"Average Completion Rate"),b.createElement(l4,{trackedViewerCount:t,totalViewerCount:n,source:"completion rate"})),b.createElement(l7,{percent:e})),l3=({ctaConversionPercent:e})=>b.createElement("li",{className:m()("bgc:yellowLight",{[lO.Z.disabled]:!e})},b.createElement(w.ggW,{gap:"xsmall",autoFlow:"row"},b.createElement(w.xvT,{fontWeight:"bold",color:"grey8"},"Call-to-Action Conversion")),b.createElement(l7,{percent:e})),l5=({href:e,source:t})=>b.createElement(w.ua7,{content:"Engagement for this video is only tracked since your upgrade to Business or Enterprise.",placement:"topCenter"},b.createElement("a",{href:e,className:lO.Z.infoIcon,onClick:()=>(0,lL.AE)({source:t}),target:"_blank",rel:"noopener noreferrer"},b.createElement(eZ.M,null))),l4=({trackedViewerCount:e,totalViewerCount:t,source:n})=>{if(e===t||!e||!t)return null;let a=e>t?e:t,i=e>t?t:e;return b.createElement("div",{className:"flex items:center"},b.createElement(w.xvT,{size:"body-sm",color:"grey8"},"Based on ",i," of ",a," viewers"),b.createElement(l5,{href:tK.NJ,source:n}))},l8=({onClick:e})=>b.createElement(w.W20,{backgroundColor:"backgroundSecondary",radius:"medium",padding:"medium"},b.createElement(w.xvT,{fontWeight:"bold",className:"mb:medium"},"This video includes partially tracked data."),b.createElement(w.LZC,{bottom:"medium"},b.createElement(w.xvT,null,"Engagement is only tracked after upgrading to Business or Enterprise.")),b.createElement(w.xMy,{alignment:"centerRight"},b.createElement(w.zxk,{variant:"primary",onClick:e},"Got it"))),l7=({percent:e})=>b.createElement(w.xvT,{size:"heading-md",fontWeight:"bold",color:"grey8"},"number"==typeof e?lJ(e):"--"),l9=({viewers:e,totalViewerCount:t,onViewerClick:n,hasEngagementInsights:a,hasNextPage:i,paginatedViewersLoading:r,fetchMoreRef:o})=>b.createElement("div",{className:lO.Z.viewers},b.createElement(w.xvT,{fontWeight:"bold",size:"body-lg",className:"mb:small"},`${t} ${eT()("Viewers",t)}`),e.map(e=>b.createElement("div",{key:e.user.id,className:a?m()(lO.Z.card):"overflow:hidden",onClick:a?()=>n(e):void 0},b.createElement(lR.Dg,{user:e.user,events:e.events}))),(i||r)&&b.createElement(b.Fragment,null,b.createElement("div",{ref:o}),b.createElement(lP,{rowCount:3}))),l6=e=>b.createElement(X.$,{feature:ee.L0.EngagementInsights,errorType:J.s.SILENT,additionalLoggingValues:{version:"views panel"}},b.createElement(lQ,{...e}));var se=n(81670),st={shortcutWrapper:"resizer_shortcutWrapper_1Kw",resizeBarContainer:"resizer_resizeBarContainer_3oR",resizeBar:"resizer_resizeBar_2Sx",highlight:"resizer_highlight_fUz",tooltipWrapper:"resizer_tooltipWrapper_3lN",showTooltipWrapper:"resizer_showTooltipWrapper_Whw"};let sn=()=>b.createElement(w._MZ,null,b.createElement(w.W20,{paddingX:"xsmall"},b.createElement(w.ggW,{autoFlow:"row"},b.createElement(w.ggW,{gap:"xsmall"},b.createElement(w.xvT,{size:"body-sm",fontWeight:"bold"},"Drag"),b.createElement(w.xvT,{size:"body-sm"},"to resize")),b.createElement(w.ggW,{gap:"xsmall"},b.createElement(w.xvT,{size:"body-sm",fontWeight:"bold"},"Click"),b.createElement(w.xvT,{size:"body-sm"},"to collapse"),b.createElement(w.W20,{className:st.shortcutWrapper},b.createElement(w.xMy,{alignment:"center"},b.createElement(w.xvT,{size:"body-sm",fontWeight:"bold",color:"grey3"},"T"))))))),sa=({setWidth:e,disabled:t})=>{let[n,a]=(0,b.useState)(!1),[i,r]=(0,b.useState)(0),[o,l]=(0,b.useState)(!1),s=sl(),{hasMousePosition:c,resetMousePosition:d,handleMouseEvent:u,trigger:g}=(0,eg.md)(),{layerProps:p,renderLayer:h}=(0,eg.sJ)({isOpen:c,onOutsideClick:d,trigger:g,placement:"right-center",triggerOffset:8});p.style={...p.style,zIndex:se.T.RESIZER};let v=(0,b.useCallback)(t=>{if(n){t.preventDefault();let n=window.innerWidth-t.clientX;if(eD.LB<n&&n<eD.xN){let t=eD.oh;t-eD.j_<n&&n<t+eD.j_?e(t):e(n)}else n<eD.LB?e(eD.LB):eD.xN<n&&e(eD.xN)}},[n,e]);return(0,b.useEffect)(()=>{document.addEventListener("mousemove",v,!1),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",v,!1),a(!1)},!1)},[n,v]),(0,b.useEffect)(()=>{let e=document.getElementById("container");e&&(n?e.style.cursor="col-resize":e.style.cursor="unset")},[n]),t?b.createElement(b.Fragment,null):b.createElement("div",{className:st.resizeBarContainer,style:{zIndex:se.T.RESIZER},onMouseDown:e=>{r(e.timeStamp),d(),a(!0)},onMouseUp:e=>{e.timeStamp-i<200&&(s(!1),l(!1))},onMouseEnter:e=>{n?l(!1):(u(e),l(!0))},onMouseLeave:()=>{d(),l(!1)}},b.createElement("div",{className:m()(st.resizeBar,o||n?st.highlight:void 0)}),h(b.createElement("div",{...p,className:m()(st.tooltipWrapper,c?st.showTooltipWrapper:void 0)},b.createElement(sn,null))))},si=()=>{let{video:{organizationId:e,id:t}}=(0,v.dPl)(),n=(0,ns.p$)(e),a=(0,nr.l)(t);return n||a},sr=()=>{let{video:{currentUserCanEdit:e,showAnalytics:t}}=(0,v.dPl)();return si()&&(e||t)},so=()=>{let{video:{currentUserCanEdit:e}}=(0,v.dPl)(),t=(0,ez.MS)();return e&&t},sl=()=>{let e=(0,k.I0)(),t=(0,ez.ag)(`(max-width: ${l.U2}px)`),n=(0,k.v9)(et.F);return(0,b.useCallback)(a=>{if(t)return;e((0,nx.XU)(!1));let i=!a;e((0,nA.zn)(i)),e((0,nx.Eu)(i)),(0,iZ.Ly)("theaterMode",i),i&&n&&e((0,ly.Z)())},[e,t,n])},ss=()=>{let e=(0,k.I0)(),{video:{id:t}}=(0,v.dPl)(),n=(0,k.v9)(eB.RN),a=(0,b.useCallback)(a=>{null!=n&&e_.track(s.NRv,{primary_navigation_item:a,video_id:t}),e((0,nx.Yi)(a))},[e,n,t]);return sc({onTab:n,setOnTab:a}),{onTab:n,setOnTab:a}},sc=({onTab:e,setOnTab:t})=>{let{video:{id:n,commentsEnabled:a,views:i,description:r}}=(0,v.dPl)(),o=(0,p.O)(n),{loading:l,value:s}=(0,af.h)(ah.aM.ALLOWS_AI),c=(0,k.v9)(eB.Pw),d=so(),m=(0,ez.MS)(),u=(i?.distinct??0)>0,g=o&&(s||r),h=d&&m&&(c||!u);(0,b.useEffect)(()=>{e||l||t(g?eD.YS.Recap:h?eD.YS.Edit:a?eD.YS.Activity:eD.YS.Transcript)},[g,h,a,e,t,l])},sd=()=>{let{isCollapsed:e}=(0,g.m)();return!e},sm=()=>{let{onTab:e,setOnTab:t}=ss(),n=sl(),{isCollapsed:a}=(0,g.m)();return (i=eD.YS.Activity)=>{e!==i&&t(i),a&&n(!0)}},su=({switchToTab:e})=>{let t=(0,v.q9z)(),n=t>9?"9+":`${t}`;return b.createElement("div",{id:"collapsed-sidebar-button-comment-icon"},b.createElement(w.hU,{altText:"Activity",className:"collapsed-sidebar-button-icon",icon:b.createElement(lf.j,null),onClick:()=>e(eD.YS.Activity)}),t>0&&b.createElement("span",{id:"collapsed-sidebar-button-comment-icon-number"},n))},sg=()=>{let e=sl();return b.createElement("div",{className:"toggleSidebarButton"},b.createElement(w.ua7,{isInline:!1,content:"Hide sidebar",shortcut:["T"],placement:"rightCenter"},b.createElement(w.hU,{altText:"Hide sidebar",icon:b.createElement(lv.a,null),onClick:()=>{e(!1)}})))},sp=({tabName:e})=>{let{video:{commentsEnabled:t,currentUserCanEdit:n,showAnalytics:a,showTranscriptToViewer:i}}=(0,v.dPl)(),r=!1;if(n)switch(e){case eD.YS.Edit:r=!1;break;case eD.YS.Activity:r=!t;break;case eD.YS.Transcript:r=!i;break;case eD.YS.Views:r=!a}return r?b.createElement(w.ua7,{maxWidth:"220px",triggerOffset:8,content:"This tab is only visible to editors. To share with viewers update your video settings.",placement:"bottomCenter"},b.createElement(w.JO$,{className:"tab-tooltip-icon",altText:"Information",color:"bodyDimmed",size:"1rem",icon:b.createElement(eZ.M,null)})):null},sh=({tabName:e,isActive:t,handleClick:n})=>b.createElement(w.OK9,{isActive:t,className:t?"active-tab":void 0,onClick:n,"data-testid":`sidebar-tab-${e}`},b.createElement(()=>b.createElement("div",null,e,t?b.createElement(sp,{tabName:e}):null),null)),sv=({tabsToShow:e,isViewerSelected:t,onEditSubpage:n,setOnEditSubpage:a})=>{let{onTab:i}=ss();return b.createElement(b.Fragment,null,e.includes(eD.YS.Recap)&&b.createElement(ne,{name:"Activity Transcript Sidebar Recap",feature:ee.L0.RecapTab,tabName:"Recap"},i===eD.YS.Recap?b.createElement(lc,null):null),e.includes(eD.YS.RecapV2)&&b.createElement(ne,{name:"Activity Transcript Sidebar Recap",feature:ee.L0.LoomTransform,tabName:"RecapV2"},i===eD.YS.RecapV2?b.createElement(lg,null):null),e.includes(eD.YS.Edit)&&b.createElement(ne,{name:"Activity Transcript Sidebar Edit",feature:ee.L0.TranscriptEdit,tabName:"Editor"},i===eD.YS.Edit&&b.createElement("div",{style:{height:n?eD.IB:"auto"}},b.createElement(sE,{editSubtab:n,setEditSubtab:a}))),e.includes(eD.YS.Activity)&&b.createElement(ne,{name:"Activity Transcript Sidebar Activity",feature:ee.L0.ActivityTab,tabName:"Activity"},b.createElement(w.W20,{style:i===eD.YS.Activity?{}:{display:"none"}},b.createElement(t3,null)," ")),e.includes(eD.YS.Transcript)&&b.createElement(ne,{name:"Activity Transcript Sidebar Transcript",feature:ee.L0.TranscriptEdit,tabName:"Transcript"},i==eD.YS.Transcript&&b.createElement(w.LZC,{left:1,right:1},b.createElement("div",{style:{height:eD.Pi}},b.createElement(na,null)))),e.includes(eD.YS.Views)&&b.createElement(b.Fragment,null,i===eD.YS.Views&&b.createElement("div",null,b.createElement(ne,{name:"Activity Transcript Sidebar Viewer Insights",feature:ee.L0.EngagementInsights,tabName:"Views"},b.createElement(w.LZC,{left:3,right:3},t?b.createElement(w.LZC,{top:3},b.createElement(l6,{inActivitySidebar:!0})):b.createElement(l6,{inActivitySidebar:!0}))))),e.includes(eD.YS.Settings)&&b.createElement(ne,{name:"Activity Transcript Sidebar Settings",feature:ee.L0.VideoSettings,tabName:"Settings"},b.createElement("div",{style:i===eD.YS.Settings?{}:{display:"none"}},b.createElement(oA,{goBackToEditPage:()=>a(null),pageTitle:"",settingsIsInEditTab:!0}))))},sf=({editSubtab:e,setEditSubtab:t})=>{let{video:{modelId:n}}=(0,v.dPl)(),{featureLoadedRef:a}=(0,Q.kX)(),i=(0,k.I0)(),r=e===iB.Link;return r?b.createElement("div",{ref:a},b.createElement(oL,{onClose:()=>t(null)})):b.createElement("div",{ref:a},b.createElement(iF,{onAddLinkClick:()=>{i((0,iz.XJ)()),t(iB.Link),e_.track(s.HLl,{id:n})}}))},sE=e=>b.createElement(X.$,{feature:ee.L0.EditTab,errorType:J.s.DEFAULT},b.createElement(sf,{...e})),s_=()=>{let{video:{id:e}}=(0,v.dPl)(),t=(0,v.DWr)(e),n=so(),a=sl(),i=sr(),{isStacked:r,isCollapsed:o}=(0,g.m)(),{onTab:l,setOnTab:s}=ss(),c=nd()(e=>{a(!0),l!==e&&s(e)},100);return b.createElement(w.W20,{radius:"full",marginX:2,className:m()("collapsed-sidebar-buttons",!t&&"prePlay",t&&"postPlay",!(!o||r)&&"isVisible")},b.createElement(w.LZC,{top:2,bottom:2},b.createElement(w.ggW,{gap:2,autoFlow:"row"},n&&b.createElement(w.ua7,{placement:"leftCenter",content:"Edit"},b.createElement(w.hU,{altText:"Edit",className:"collapsed-sidebar-button-icon",icon:b.createElement(tC.b,null),onClick:()=>c(eD.YS.Edit)})),b.createElement(w.ua7,{placement:"leftCenter",content:"Activity"},b.createElement(su,{switchToTab:c})),b.createElement(w.ua7,{placement:"leftCenter",content:"Transcript"},b.createElement(w.hU,{altText:"Transcript",className:"collapsed-sidebar-button-icon",icon:b.createElement(lE.G,null),onClick:()=>c(eD.YS.Transcript)})),i&&b.createElement(w.ua7,{placement:"leftCenter",content:"Views"},b.createElement(w.hU,{altText:"Views",className:"collapsed-sidebar-button-icon",icon:b.createElement(lh.e,null),onClick:()=>c(eD.YS.Views)})))))},sy=({responsiveWidth:e,setIsResizerDisabled:t})=>{let{video:{id:n,showTranscriptToViewer:a,description:i}}=(0,v.dPl)(),r=(0,k.I0)(),{isStacked:o,isCollapsed:l}=(0,g.m)(),{onTab:s,setOnTab:c}=ss(),d=l?0:e||eD.oh,E=(0,k.v9)(et.F),_=(0,k.v9)(et.R),y=sr(),C=so(),T=(0,p.O)(n),S=(0,nl.c)(),I=(0,t9.I)(),{showDefaultSettings:x}=(0,k.v9)(eB.z8),A=(0,f.K)(),N=(0,u.useCurrentUserSelector)(e=>e.aiAccess,null),P=Object.values(N||{}).some(e=>e),L=(0,no.e)();(0,ni.Mr)({flag:oV.EXPERIMENTS.EXP_PICTURE_IN_SCRIPTURE,controlType:oV.C2.STATSIG_EXPERIMENT,activationValues:["variant","variant-excluded"],eligibilityPreCheckFunction:()=>P||L?{pass:!0}:{pass:!1,failReason:"Users who don't have access to AI will not see the picture in scripture."}});let[R,D]=(0,b.useState)(null),{setLoomCategory:O}=(0,t7.a)(),{isActive:W}=(0,nm.V)(),V=(0,eW.jS)(l_._G),[F,z]=(0,b.useState)(!1),B=(0,ni.W9)(nh.wB),M=(0,ni.W9)(nh.CC),{data:$}=(0,t6.Bm)({}),U=!!$?.me?.calendars?.length,Z=(0,ns.nw)(),G=M&&B&&!U&&Z!=n7.b3,j=(0,k.v9)(rw.CX),{transcriptSuccessful:H}=(0,h.h7)();(function(e){let t={...t4,...e};eI.a(t8,t)})({variables:{videoId:n},skip:!H||!I,onCompleted:e=>{if(e?.generatedLoomCategorization?.__typename==="GeneratedLoomCategorizationPayload"){let{assignedCategory:t}=e.generatedLoomCategorization.generatedCategory;O(t)}}}),(0,b.useEffect)(()=>{j&&(r((0,iz.lf)()),D(iB.Thumbnail)),j||D(null),x&&(D(iB.Settings),setTimeout(()=>{r((0,nx.oi)(!1))})),V===eD.YS.Edit&&c(eD.YS.Edit)},[x,r,j,V,c]);let Y=[];T&&(S||i)&&Y.push(eD.YS.Recap),I&&Y.push(eD.YS.RecapV2),C?Y.push(eD.YS.Edit):s===eD.YS.Edit&&(D(null),c(eD.YS.Activity)),Y.push(eD.YS.Activity),(C||a)&&!A&&Y.push(eD.YS.Transcript),y&&Y.push(eD.YS.Views),C&&Y.push(eD.YS.Settings),(0,b.useEffect)(()=>{t&&t(R||_)},[R,_,t]),(0,b.useEffect)(()=>{E&&s!==eD.YS.Views&&c(eD.YS.Views)},[E]),(0,b.useEffect)(()=>{W&&c(eD.YS.Edit)},[W,c]),(0,b.useEffect)(()=>{(s===eD.YS.Views&&!E||s!==eD.YS.Views&&E)&&r((0,ly.Z)())},[s,r]);let q=!o&&!R&&!_;return b.createElement(w.W20,{borderSide:"top",borderWidth:U||!B?"2px":"0px",borderColor:"backgroundSecondary",className:m()("activitySidebarContainer",{collapsed:l,stacked:o,"sidebar-scrolled":F}),id:"activity-sidebar-container",width:o?"unset":`${d}px`,style:{overflowY:o?"inherit":"auto",overflowX:"hidden"},onScroll:e=>{z(e.target.scrollTop>0)}},b.createElement(w.W20,{backgroundColor:"background",style:{position:"sticky",top:0},zIndex:se.T.SIDEBAR},G&&b.createElement(lu,null),!_&&!R&&b.createElement("div",{id:"right-panel-tabs"},b.createElement(w.LZC,{top:2,left:3},b.createElement(w.mQc,null,Y.map(e=>b.createElement(sh,{key:e,tabName:e,isActive:e===s,handleClick:()=>c(e)}))))),q&&b.createElement(sg,null)),b.createElement(sv,{tabsToShow:Y,isViewerSelected:_,onEditSubpage:R,setOnEditSubpage:D}))},sb=(0,b.forwardRef)(({useDefaultWidth:e=!1},t)=>{let n=t?.current,a=(0,iZ.bM)(c.BT),i=!a||a<eD.LB?eD.oh:a,[r,o]=(0,b.useState)(i),{isStacked:l,isCollapsed:s}=(0,g.m)(),[d,m]=(0,b.useState)(0),[u,p]=(0,b.useState)(!1),[h,v]=(0,b.useState)(!1),f=nd()(e=>{(0,iZ.Ly)(c.BT,e)},300);return(0,b.useEffect)(()=>{e||f(r)},[r,f,e]),(0,b.useEffect)(()=>{o(e?eD.oh:i)},[e]),(0,b.useEffect)(()=>{let e=new lp.Z(nd()(e=>{let t=e[0].target.clientWidth;m(t)},100));return n&&e.observe(n),()=>e.disconnect()},[n,t]),(0,b.useEffect)(()=>{s?p(!1):u||d!==r||p(!0)},[s,d,u,r]),b.createElement("div",{ref:t,className:"rightPanelWrapper"},b.createElement(sa,{setWidth:o,disabled:l||s||h}),b.createElement(sy,{responsiveWidth:r,setIsResizerDisabled:v}))});sb.displayName="RightPanelWithResizer"},43451:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var a=n(66420),i=n(33740),r={rightPanelButton:"right-panel-button_rightPanelButton_2DE",newRightPanelButton:"right-panel-button_newRightPanelButton_3-D"};let o=({onClick:e,buttonIcon:t,buttonText:n,onMouseEnter:o,isNewStyle:l})=>a.createElement(i.zxk,{className:l?r.newRightPanelButton:r.rightPanelButton,size:"small",onClick:e,onMouseEnter:o},a.createElement(i.ggW,{gap:"xsmall"},a.createElement(i.JO$,{icon:t,size:2}),a.createElement(i.xvT,{fontWeight:"bold",size:"body-sm"},n)))},26083:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var a=n(67121),i=n(66420),r=n(33740),o=n(3894);let l=a.Z.div`
  z-index: 1; // to go above the non-image avatar elements
  padding: 2px; // visible border
  margin-left: -8px; // overlap with previous
  border-radius: var(--lns-radius-full);
  background-color: var(--lns-color-background);
  position: relative;
  transition: background-color 0.3s ease 0s;

  // HACK(tatiana, avatar-container): Pseudo element is necessary to prevent visual bug given limitations of the colours we're using: https://www.loom.com/share/14601cc42a9a45688b8b84df2648011c
  &[data-style-id='avatar-container']::before,
  &[data-style-id='avatar-container']::after,
  &[data-style-id='task-responses']::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -4;
    background-color: var(--lns-color-backgroundSecondary);
    border-radius: inherit;
    transition: inherit;
  }

  ${e=>e.size&&`width: ${8*e.size+4}px;
  height: ${8*e.size+4}px;`}
`,s=({count:e,size:t})=>i.createElement(l,{size:t},i.createElement(r.qEK,{size:t,letter:`+${Math.min(e,99)}`})),c=({avatars:e=[],size:t=3,dataStyleId:n})=>{if(0===e.length)return null;let a=e.length,r=a>3;return r&&(e=e.slice(0,2)),i.createElement("div",{className:"flex ml:small mr:small"},e.map((e,a)=>e?i.createElement(l,{key:a,size:t,"data-style-id":n},i.createElement(o.uV,{size:t,avatar:e.thumb,name:e.name})):null),r?i.createElement(s,{count:a-2,size:t}):null)}},25646:function(e,t,n){"use strict";n.d(t,{uB:function(){return l}});var a=n(85283),i=n(84515);let r={},o=(0,a.Ps)`
    query GetPaginatedInsightsForVideo($videoId: ID!, $first: Int!, $after: String) {
  engagementInsightsSummaryForVideo(videoId: $videoId) {
    id
    paginatedViewers(videoId: $videoId, first: $first, after: $after) {
      pageInfo {
        endCursor
        hasNextPage
      }
      edges {
        node {
          id
          hasWatchSession
          percentCompleted
          cta
          ctaClicks
          trackedViews
          views
          user {
            id
            avatar
            name
            color
            variant
            profileUrl
          }
          events {
            type
            ts
            id
            content
          }
        }
      }
    }
  }
}
    `;function l(e){let t={...r,...e};return i.a(o,t)}},67615:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});let a=(e={total:0})=>{let t=e?.named||[],n=e?.distinct||0,a=t.map(e=>({user:{name:`${e.firstName} ${e.lastName}`,avatar:e?.avatar}})),i=n-a.length;for(let e=0;e<i;e++)a.push({user:{}});return a}},56647:function(e,t,n){"use strict";n.d(t,{O:function(){return i},R:function(){return a}});let a=e=>{let t=(e?.engagementInsightsSummaryForVideo?.paginatedViewers?.edges?.map(e=>e?.node).filter(e=>e&&"EngagementInsightsAggregate"===e.__typename)??[]).map(e=>({...e,commentCount:(e.events||[]).filter(e=>e&&("comment"===e.type||"reply"===e.type)).length,reactionCount:(e.events||[]).filter(e=>e&&"reaction"===e.type).length})),n=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.pageInfo?.endCursor??null,a=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.pageInfo?.hasNextPage??!1;return{viewersWithEngagements:t,endCursor:n,hasNextPage:a}},i=e=>"EngagementInsightsAggregate"===e.__typename&&"commentCount"in e&&"reactionCount"in e},78091:function(e,t,n){"use strict";var a=n(20377),i=n(70643),r=n(25872),o=n(66420),l=n(32973),s=n(7910),c=n(71022),d=n(33740),m=n(45506),u=n(55050),g=n(73561),p=n(46666),h=n(15709),v=n(21722),f=n(28729),E=n(21924),_=n(72931),y=n(49003);t.Z=function({isSignUp:e,isSingleAuthPage:t,afterAuthCallback:n}){let b=(0,r.l)(),k="mobile_ios"===b.get("app_source"),{locale:C,localeRequiresMarketingOptIn:w,isConsentGranted:T}=(0,i.k)(e=>({locale:e.locale,localeRequiresMarketingOptIn:e.localeRequiresMarketingOptIn,isConsentGranted:e.isPromotionalEmailBoxChecked})),S={},I=b.get("ak"),x=(0,s.jS)("app_source")||v._v,A=t=>{let i=(0,a.H)(T,C,w);S={...I&&{ak:I},...S,fromWebSignup:!0,hasPromotionalCheckboxLoaded:null!==i,authURL:window.location.href},i&&(S={...S,...i}),l.fi(t,S,n),E.track(_.zgv,{provider:t,isSignUp:e})},N="Sign up with";return t?N="Continue with":e||(N="Sign in with"),o.createElement(d.ggW,{columns:"1fr",gap:"small",justifyContent:"stretch",width:"100%"},o.createElement(d.zxk,{"aria-label":`${N} Google`,icon:o.createElement(g._,null),hasFullWidth:!0,size:"large","data-testid":`googleOAuthButton_${(0,c.Z)()}`,onClick:()=>A(f.Tr)},N," Google"),e&&k?o.createElement(d.zxk,{icon:o.createElement(u.n,null),"aria-label":`${N} Apple`,hasFullWidth:!0,size:"large","data-testid":`appleOAuthButton_${(0,c.Z)()}`,onClick:()=>A(f.dS)},N," Apple"):null,e?null:o.createElement(o.Fragment,null,o.createElement(d.zxk,{"aria-label":`${N} Slack`,icon:o.createElement(h.w,null),hasFullWidth:!0,size:"large","data-testid":`slackOAuthButton_${(0,c.Z)()}`,onClick:()=>A(f.nL)},N," Slack"),o.createElement(d.zxk,{icon:o.createElement(u.n,null),"aria-label":`${N} Apple`,hasFullWidth:!0,size:"large","data-testid":`appleOAuthButton_${(0,c.Z)()}`,onClick:()=>A(f.dS)},N," Apple"),o.createElement(d.zxk,{"aria-label":`${N} Outlook`,icon:o.createElement(p.h,null),hasFullWidth:!0,size:"large","data-testid":`windowsOAuthButton_${(0,c.Z)()}`,onClick:()=>A(f.Bp)},N," Outlook"),o.createElement(d.zxk,{"aria-label":`${N} Single Sign-on`,hasFullWidth:!0,size:"large","data-testid":`ssoSignInButton_${(0,c.Z)()}`,href:y.zO,onClick:()=>{let e=(0,s.jS)("gi"),t=(0,s.jS)("gid"),n=(0,s.jS)("redirect_url"),a=(0,s.jS)("redirect_after"),i={...e&&{gi:e},...t&&{gid:t},...n&&{redirect_url:n},...a&&{redirect_after:a},...I&&{ak:I},app_source:x};window.location.href=`${y.zO}?${new URLSearchParams(i).toString()}`},icon:o.createElement(m.l,null)},N," SSO")))}},97958:function(e,t,n){"use strict";n.d(t,{$s:function(){return v},wq:function(){return h},Pg:function(){return p}});var a=n(49003),i=n(67591),r=n(66420),o=n(10996),l=n(5902),s=n(85283),c=n(84515);let d={},m=(0,s.Ps)`
    query GetUserHasAccessToPersonalizedAudio {
  getUserHasAccessToPersonalizedAudio {
    ... on GetUserHasAccessToPersonalizedAudioPayload {
      hasAccess
    }
  }
}
    `,u={},g=(0,s.Ps)`
    query GetRemainingPersonalizedVideos($folderId: ID!) {
  personalizedVideosInProgress(folderId: $folderId) {
    ... on CountPayload {
      count
      hasFailed
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `;function p(){let e=(0,i.c)(),{data:t,loading:n}=function(e){let t={...d,...e};return c.a(m,t)}({skip:!e});return!!e&&!n&&!!(t?.getUserHasAccessToPersonalizedAudio?.__typename==="GetUserHasAccessToPersonalizedAudioPayload"&&t.getUserHasAccessToPersonalizedAudio.hasAccess)}function h({folder:e}){let[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[l,s]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),p=(0,r.useRef)(!1),h=!!e?.personalizedVideo,v=e?.id,f=(0,o.y1)(e=>m(e),1e3),{data:E,startPolling:_,stopPolling:y}=function(e){let t={...u,...e};return c.a(g,t)}({...h&&v&&{variables:{folderId:v}},skip:!h}),b=null,k=!1;E?.personalizedVideosInProgress&&"CountPayload"===E.personalizedVideosInProgress.__typename&&(b=E?.personalizedVideosInProgress.count,k=E?.personalizedVideosInProgress.hasFailed??!1),(0,r.useEffect)(()=>{b&&b>0&&!t&&!a&&(n(!0),_(1e3),p.current=!0),0===b&&(n(!1),y(),p.current||(m(!0),p.current=!0))},[b,_,y,t,a]),(0,r.useEffect)(()=>{l!==b&&(s(b),f(!0))},[f,b,l]);let C=k;return{needsRefetch:d,onRefetchTriggered:(0,r.useCallback)(()=>m(!1),[]),totalVideosMissing:b,setUserClosedVariablesVideosLoading:i,showVariablesVideosLoading:t,setShowVariablesVideosLoading:n,remainingVideosFailedToGenerate:C}}(0,s.Ps)`
    query getTotalVideosForUser($userId: ID!) {
  getTotalVideosCountByUser(userId: $userId) {
    __typename
    ... on TotalVideosCountByUserPayload {
      videos_count
    }
    ... on Error {
      message
    }
  }
}
    `;let v=e=>{window.location.href=`${a.OA}/edit/${e}?${l.Uu}=true`}},58329:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});let a="calc(var(--header-height) + var(--banner-height))"},62852:function(e,t,n){"use strict";n.d(t,{H:function(){return i},R:function(){return a}});let a="keyup",i="keydown"},73362:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var a,i=((a=i||{}).ENGAGEMENT_BAR="engagement-bar",a.VIDEO_END_SCREEN="video-end-screen",a.SIDEBAR_ENTRY_POINT="sidebar-entry-point",a)},74583:function(e,t,n){"use strict";n.d(t,{Ah:function(){return r},ED:function(){return a},Lg:function(){return i}});let a="Summary",i="Chapters",r="Meeting Recap"},78783:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(26998),i=n(89536),r=n(84435),o=n(44954),l=n(6621),s=n(10768),c=n(73671),d=n(18807);function m(e){let t=(0,a.useCurrentUserSelector)(e=>e.role,void 0),{isFetching:n,pass:m}=function(){let{isFetching:e,hasAiAccess:t}=(0,r.x)(),{selectedWorkspace:n,isFetching:i}=(0,o.mf)();if(!(0,a.useIsCurrentUserLoggedIn)())return{isFetching:!1,pass:!1};if(e||i)return{isFetching:!0,pass:!1};if(!t)return{isFetching:!1,pass:!1};let l=n?.type===d.zF;return n?.organization_properties?.salesSupportType===s.$v||l?{isFetching:!1,pass:!1}:{isFetching:!1,pass:!0}}(),u=m||"admin"===t,[g]=(0,i.Mr)({flag:c.EXPERIMENTS.EXP_AI_WORKFLOWS_FOR_VIEWERS,controlType:c.C2.STATSIG_EXPERIMENT,activationValues:[l.c7],returnAssignmentName:!0,eligibilityPreCheckFunction:()=>u?{pass:u}:{pass:u,failReason:"Not eligible for ai workflows for viewers"}}),p=!!e?.currentUserCanEdit,h=n||void 0===g;return{isEnabled:!h&&g&&!p,isLoading:h}}},37516:function(e,t,n){"use strict";n.d(t,{l:function(){return m}});var a=n(37121),i=n(26998),r=n(7910),o=n(85283),l=n(84515);let s={},c=(0,o.Ps)`
    query HasAnonymousCreatorPrivileges($videoId: ID!) {
  result: hasAnonymousCreatorPrivilegesQuery(videoId: $videoId) {
    ... on hasAnonymousCreatorPrivilegesPayload {
      hasPrivileges
    }
  }
}
    `,d=e=>!!(e&&e.result&&"UserAlreadyLoggedInError"!==e.result.__typename&&"GenericError"!==e.result.__typename&&e.result?.hasPrivileges)&&e.result.hasPrivileges,m=e=>{let t=(0,i.useIsCurrentUserLoggedIn)(),n=!!(a.r8&&(0,r.jS)("anon-creator")),{data:o}=function(e){let t={...s,...e};return l.a(c,t)}({variables:{...e?{videoId:e}:{videoId:""}},skip:!e||t||n}),m=d(o);return!t&&(!!n||m)}},58524:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var a=n(89895),i=n(6621),r=n(96367);let o=()=>{let e=(0,a.v9)(e=>e?.feature_flags[i.YU]?.value);return!!r.Q8.includes(e)}},18541:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(54673),i=n.n(a),r=n(66420);function o(e,t){let[n,a]=r.useState(!1),o=t?.successDuration,l=t?.format||"text/plain";return r.useEffect(()=>{if(n&&o){let e=setTimeout(()=>{a(!1)},o);return()=>{clearTimeout(e)}}},[n,o]),[n,()=>{let t=i()(e,{format:l});a(t)}]}},84435:function(e,t,n){"use strict";n.d(t,{q:function(){return l},x:function(){return s}});var a=n(15878),i=n(80686),r=n(54086),o=n(44954);function l(e=i.Ce){let t=(0,r.gH)(e),n=(o.hP()?.memberLimits??{})[a.AI]??a.iB;return t||n>0}function s(){let e=(0,r.gH)(i.Ce),{selectedWorkspace:t,isFetching:n}=(0,o.mf)(),l=(t?.memberLimits??{})[a.AI]??a.iB;return{isFetching:n,hasAiAccess:n?void 0:e||l>0}}},3603:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var a=n(89895),i=n(61435),r=n(57539);let o=({videoId:e})=>{let t=(0,r.A)({videoId:e}),n=(0,a.v9)(i.Pw);return t&&n}},99739:function(e,t,n){"use strict";n.d(t,{e:function(){return u}});var a=n(60398),i=n(15878),r=n(80686),o=n(85283),l=n(84515);let s={},c=(0,o.Ps)`
    query GetCustomerFallLaunchTrialStatus($workspaceId: ID!) {
  customer: getCustomer(workspaceId: $workspaceId) {
    __typename
    ... on LoomCustomer {
      id
      metadata {
        fall24_trial
      }
    }
  }
}
    `;var d=n(54086),m=n(44954);function u(){let e=(0,d.gH)(r.Ce),t=(0,m.hP)(),{data:n,loading:o}=function(e){let t={...s,...e};return l.a(c,t)}({variables:{workspaceId:t?.id},skip:!t?.id}),u=n?.customer?.__typename==="LoomCustomer"&&(0,a.yO)(n.customer),g=(t?.memberLimits??{})[i.AI]??i.iB;return!e&&g>0||!o&&!!u}},3891:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var a=n(66420);function i(e){let t=(0,a.useRef)();return(0,a.useEffect)(()=>{t.current=e}),t.current}},58119:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var a=n(35692),i=n(72357),r=n(85578);let o=()=>{let{value:e,loading:t}=(0,i.B)(r.BR.ATLASSIAN_MASTERED_WELCOME_MODAL),n=(0,a.m)();return{shouldShowAtlassianWelcomeModal:!e&&n,loading:t}}},67591:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var a=n(45218),i=n(20537);function r(){let{loading:e,error:t,value:n}=(0,i.h)(a.aM.ALLOWS_AI);return!t&&!e&&n}},83194:function(e,t,n){"use strict";n.d(t,{LS:function(){return l},N3:function(){return u},T3:function(){return m},_S:function(){return o},jj:function(){return c},l3:function(){return g},mT:function(){return s},oV:function(){return r},yt:function(){return d}});var a,i=n(33740);let r="39rem",o="72rem";var l=((a=l||{})[a.TOKEN=0]="TOKEN",a[a.TOKEN_SELECTED=1]="TOKEN_SELECTED",a[a.ACTIVE_PLAYBACK_TOKEN=2]="ACTIVE_PLAYBACK_TOKEN",a[a.HEADER=800]="HEADER",a[a.POPOVER=900]="POPOVER",a[a.TOUR_CARD=1e3]="TOUR_CARD",a[a.MODAL=1e3]="MODAL",a[a.MODAL_CLOSE_BUTTON=1001]="MODAL_CLOSE_BUTTON",a);let s=48,c="1fr auto",d=10.5*i.bfT,m="magical-ai-gradient",u="[Edit by Transcript]",g="'s"},27493:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var a=n(83194);let i=e=>{let t=e;return t.endsWith(a.l3)&&(t=t.slice(0,-1*a.l3.length)),t}},57956:function(e,t,n){"use strict";n.d(t,{PG:function(){return d},ax:function(){return m},dE:function(){return r},ip:function(){return l},k9:function(){return c},lF:function(){return s},oC:function(){return o}});var a=n(31727),i=n(29256);let r={[a.T.variable]:i.T7.Variable,[a.T.name]:i.T7.Name,[a.T.companyName]:i.T7.CompanyName},o={[i.T7.Variable]:a.T.variable,[i.T7.Name]:a.T.name,[i.T7.CompanyName]:a.T.companyName},l=50,s=100,c=3,d=2*c,m=100},33600:function(e,t,n){"use strict";n.d(t,{JP:function(){return l},PG:function(){return o},q2:function(){return c}});var a=n(85283),i=n(54670);let r={},o=(0,a.Ps)`
    fragment AudioVariableFromTask on AudioVariable {
  __typename
  id
  taskId
  startTsInOriginalForSentence
  endTsInOriginalForSentence
}
    `,l=(0,a.Ps)`
    fragment TaskStatus on TaskStatusPayload {
  __typename
  id
  status
}
    `,s=(0,a.Ps)`
    subscription TaskStatus($videoId: ID!) {
  taskStatus(videoId: $videoId) {
    ...TaskStatus
    audioVariables {
      ...AudioVariableFromTask
    }
  }
}
    ${l}
${o}`;function c(e){let t={...r,...e};return i.m(s,t)}},39853:function(e,t,n){"use strict";n.d(t,{FC:function(){return y},Qu:function(){return h},Sx:function(){return f},X4:function(){return k},_C:function(){return E},g7:function(){return _},xY:function(){return b},zN:function(){return v}});var a=n(72931),i=n(49003),r=n(27493),o=n(40240),l=n(5902),s=n(43386),c=n(29256),d=n(21924),m=n(75658),u=n(26534),g=n(57956),p=n(33600);let h=(e,t)=>{let n=`${i.OA}/edit/${e}?${l.Uu}=true`;(0,d.track)(a.Go0,{source:t,video_id:e}),window.location.href=n},v=e=>{window.location.href=`${i.OA}${i.v$}/${(0,s.getSlug)(e)}?${l.jp}=${c.at.Audio}`},f=({selectedKeys:e,transcriptTokens:t,wordToTokens:n,deletedTokens:a})=>{if(e.length>1||e.some(e=>e.keysInRange.length>1))return{variableKeys:[...e]};let i=e[0].startKey,r=t[i],o=(0,u.F2)(r.value),l=n.get(o);if(!l||l.length<=1)return{variableKeys:[...e]};let s=new Set(Object.keys(a)),c=[];for(let e of l)s.has(e.key)||c.push({startKey:e.key,endKey:e.key,keysInRange:[e.key]});return{variableKeys:c}},E=({audioVariables:e,timestampsForKeys:t})=>{let n=e.map(e=>({start:e.startTimestamp,end:e.endTimestamp})).sort((e,t)=>e.start-t.start),a=t.sort((e,t)=>e.startTsInSecs-t.startTsInSecs);for(let e of a)if(!n.some(t=>e.startTsInSecs>=t.start&&e.endTsInSecs<=t.end))return!1;return!0},_=e=>{let t=(0,o.J$)().cache,n=t.readFragment({id:t.identify({id:e,__typename:"AudioVariable"}),fragment:p.PG});if(!n)throw Error("Could not find audioVariable in apollo cache.");let a=t.readFragment({id:t.identify({id:n.taskId,__typename:"TaskStatusPayload"}),fragment:p.JP});return{id:n.id,status:a?.status??"sent",startTimestamp:n.startTsInOriginalForSentence??0,endTimestamp:n.endTsInOriginalForSentence??0}},y=({variableKeys:e,transcriptTokens:t})=>{let n=e[0]?e[0].keysInRange:[],a=new Set(n);if(1===n.length)return{stringFromVariableKeys:(0,r.s)(t[n[0]].value),isSelectionOverLimit:!1};let i=n.slice(0,g.PG+1).map(e=>t[e].value).join("");a.size>g.PG&&(i+="...");let o=a.size>g.PG;return{stringFromVariableKeys:i,isSelectionOverLimit:o}},b=(e,t)=>{let n=new Set,a=new Set;return t.forEach(e=>{""!==e.email&&n.add(e.email)}),e.forEach((e,t)=>{""!==e.email&&(n.has(e.email)?a.add(t):n.add(e.email))}),a},k=async e=>{let t=await (0,m.j)(e);if(!t||0===t.length)throw Error("The uploaded file is empty.");let n=t.shift();if(!n||!n.includes("name"))throw Error("The uploaded file must have a column labeled “name”.");let a=n.indexOf("name"),i=n.indexOf("email"),r=[];return t.forEach(e=>{let t=e[a],n=-1!==i?e[i]:"";r.push({name:t,email:n})}),r}},60135:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});let a=(e,t,n)=>null!==t&&null!==n&&e>=t&&e<=n},38227:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});let a=function(e,t,n){return`${e}:${t}:${n}`}},26534:function(e,t,n){"use strict";n.d(t,{Bx:function(){return u},F2:function(){return d},RN:function(){return l},SQ:function(){return s},X5:function(){return c},mq:function(){return m}});var a=n(27493),i=n(38227),r=n(60135);let o=/^[A-Z]/,l=e=>{let t=!0,n=0,i=[],r=new Set;for(let l of e.phrases)for(let e of l.tokens){if("punct"===e.type&&["?","!","."].includes(e.value))t=!0;else if("text"===e.type){let l=(0,a.s)(e.value);!t&&e.value.match(o)&&e.value.length>3&&i.length<3&&!r.has(l)&&(i.push({suggestion:l,index:n}),r.add(l)),t=!1}if(i.length>=3)return i;n++}return i},s=({variableKeys:e,tokenKeyToIndex:t,tokensArray:n})=>e.map(e=>{let a=t[e.startKey],i=t[e.endKey],r=n[a],o=n[i];if(void 0===r.start||null===r.start){let e=a;for(;(void 0===r.start||null===r.start)&&e<n.length;)r=n[e],e++}if(void 0===o.end||null===o.end){let e=i;for(;(void 0===o.end||null===o.end)&&e>=0;)o=n[e],e--}if(void 0===r.start||void 0===o.end||null===r.start||null===o.end)throw Error("Could not find start or end token");return{startTsInSecs:r.start,endTsInSecs:o.end}}),c=({startInSeconds:e,endInSeconds:t,tokensArray:n})=>{let a=n.find(t=>t.start===e),i=a?a.key:null;if(!i)throw Error("Could not find start token key");let r=[i],o=i;if(a&&t!==a.end){let e=n.find(e=>e.end===t),i=e?.key;if(i){o=i;let t=a.index+1;for(;t<=e.index;)r.push(n[t].key),t++}}return{startKey:i,endKey:o,keysInRange:r}},d=e=>{let t=e.replace(/[“”"()]/g,"").replace(/\.{2,}/g,"").replace(/[^a-zA-Z0-9-']+$/,"").replace(RegExp("(?<=\\w)-$"),"").toLowerCase();return(0,a.s)(t)},m=({transcript:e,clipPosition:t})=>{let n={},a={},r=[],o=[],l=0,s=new Map;return e.phrases.forEach((e,c)=>{e.tokens.forEach((e,m)=>{let u=(0,i.z)(t,c,m);n[u]=e,a[u]=r.length;let g={...e,key:u,index:l};r.push(g),o.push(u),l++;let p=d(e.value),h=s.get(p);void 0===h?s.set(p,[g]):s.set(p,[...h,g])})}),{transcriptTokens:n,tokenKeyToIndex:a,tokensArray:r,wordToTokens:s,indexToTokenKey:o}},u=({deletedTokens:e,tokenKeyToIndex:t,startTokenKey:n,endTokenKey:a})=>{let i=!1;return Object.keys(e).forEach(e=>{let o=t[e],l=t[n],s=t[a];(0,r.a)(o,l,s)&&(i=!0)}),i}},82858:function(e,t,n){"use strict";n.d(t,{V:function(){return g}});var a=n(53422),i=n(65655),r=n(20377),o=n(70643),l=n(66420),s=n(32973),c=n(71022),d=n(33740),m=n(73561),u=n(28729);let g=({afterOauthHandler:e,videoId:t,source:n})=>{let{showErrorBar:g}=(0,i.gV)(),{locale:p,localeRequiresMarketingOptIn:h,isConsentGranted:v}=(0,o.k)(e=>({locale:e.locale,localeRequiresMarketingOptIn:e.localeRequiresMarketingOptIn,isConsentGranted:e.isPromotionalEmailBoxChecked})),f=i=>{let o={},l=(0,r.H)(v,p,h);o={...o,fromWebSignup:!0,hasPromotionalCheckboxLoaded:null!==l,authURL:window.location.href,signup_source:n},l&&(o={...o,...l}),(0,s.fi)(i,o,n=>{n.loginSuccess?e({provider:i,videoId:t}):g({message:"There was a problem logging you in. Please try again later.",severity:a.W9.ERROR})})};return l.createElement(d.zxk,{icon:l.createElement(m._,null),hasFullWidth:!0,size:"large","data-testid":`googleOAuthButton_${(0,c.Z)()}`,onClick:()=>f(u.Tr)},"Sign up with Google")}},11351:function(e,t,n){"use strict";n.d(t,{i:function(){return d}});var a=n(49003),i=n(74097),r=n(23555),o=n(41106),l=n(78091),s=n(66420),c=n(33740);let d=({commentCount:e=0})=>{let{video:{owner:{displayName:t}}}=(0,r.dPl)();return s.createElement(c.W20,null,s.createElement(c.ggW,{autoFlow:"row",justifyItems:"center",justifyContent:"center"},e>0?s.createElement(c.xvT,{variant:"title"},"Sign up to see who’s commented"):s.createElement(c.xvT,{variant:"title"},"Leave ",t," some feedback"),s.createElement(c.W20,{paddingTop:"large"},s.createElement(l.Z,{isSignUp:!0,isSingleAuthPage:!1}),s.createElement(c.LZC,{bottom:"medium"}),s.createElement(i.g,{size:"body-sm"}),s.createElement(o.Z,{size:"body-sm"}),s.createElement(c.LZC,{bottom:"medium"})),s.createElement(c.W20,null,s.createElement(c.Avr,{href:a.C1,target:"_blank",htmlTag:"a"},"Sign up with email"))))}},55255:function(e,t,n){"use strict";n.d(t,{R:function(){return m}});var a=n(67121),i=n(26998),r=n(89169),o=n(2232),l=n(66420),s=n(73845),c=n(33740);let d=a.Z.div`
  padding: 8px;
  transition: 0.3s box-shadow;

  ${e=>e.shouldShowErrorState?`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth) var(--lns-color-danger);
    &:hover {
      box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus)
      var(--lns-color-danger);
    }`:e.isFocused?`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus) var(--lns-color-primaryHover),
          0 0 0 var(--lns-formFieldBorderWidthFocus) var(--lns-color-focusRing);`:`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth) var(--lns-color-border);
      &:hover {
        box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus)
          var(--lns-color-primaryHover);
      }`}

  border: medium none;
  border-radius: var(--lns-formFieldRadius);

  background-color: var(--lns-color-formFieldBackground) !important;

  outline: 0;
  outline: none;
  color: inherit;

  resize: none;

  width: auto;

  &:disabled {
    background-color: var(--lns-color-disabledBackground);

    color: var(--lns-color-disabledContent);
  }

  &:disabled:hover {
    box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth)
      var(--lns-color-formFieldBorder);
  }

  &::placeholder {
    color: var(--lns-color-grey5);
  }
  ${e=>e.isDisabled?"opacity: 0.5; pointer-events: none;":""}
`,m=({shouldShowErrorState:e=!1,shouldIndentLeft:t,TextArea:n,comment:a,fullSize:m,textAreaFocused:u,shouldShowLoadingState:g=!1})=>{let p=(0,i.useCurrentUserSelector)(e=>(0,s.B)(e.avatars),void 0);return l.createElement(c.LZC,{bottom:e?"unset":2,left:t?4:"unset"},l.createElement(d,{isFocused:u??!1,shouldShowErrorState:e,isDisabled:g},l.createElement(c.ggW,{columns:["auto","1fr"],alignItems:"start"},l.createElement("div",{style:m?{}:{paddingTop:"6px"}},l.createElement(r.Z,{avatarSrc:p,name:a.user_name,avatarSize:m?o.I.FULL:o.I.SMALL})),n)))}},33444:function(e,t,n){"use strict";n.r(t),n.d(t,{CommentInput:function(){return ef}});var a=n(72931),i=n(40754),r=n(26998),o=n(79839),l=n(89600),s=n(23555),c=n(26704),d=n(69386),m=n(55117),u=n(67121),g=n(89169),p=n(7935),h=n(98180),v=n(17338),f=n(2232),E=n(4718),_=n(46858),y=n(66420),b=n(73845),k=n(27974),C=n(33740),w=n(96480),T=n(56655),S=n(39014);let I=u.Z.div`
  position: relative;
  display: inline-block;
  padding: 1px;
  background-color: var(--lns-color-blurpleMedium);
  background-size: cover;
  border-radius: ${13}px;
  z-index: 0;

  &:hover {
    background-color: var(--lns-color-blurpleStrong);
  }

  /* Using pseudo elements to create layers of border for fading effect */

  &::before,
  &::after {
    content: '';
    opacity: 0;
    border-radius: ${13}px;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  &::before {
    background-color: #d8d5dd;
    z-index: -2;
    animation: fadeOut ${1.5}s;
  }

  &::after {
    background-image: linear-gradient(to bottom, #9747ff, #dc43be);
    z-index: -1;
    animation: fadeInOut ${3}s;
  }
`,x=(0,u.Z)(C.zxk)`
  width: 100%;
  border-radius: 12px;
  background-color: var(--lns-color-blurpleMedium);
  height: 4rem;
  color: var(--lns-color-blurpleStrong);
  animation: fadeIn ${3}s;

  &:hover {
    background-color: var(--lns-color-blurpleStrong);
    color: #ffffff;
  }

  span {
    max-width: 100%;
    text-wrap: wrap;
    word-break: break-word;
  }
`,A=({nudgeContent:e,isNudgeSelected:t,onClick:n,onMouseEnter:a,onMouseLeave:i})=>y.createElement(I,null,y.createElement(x,{size:"medium",variant:"primary",disabled:t,onClick:n,onMouseEnter:a,onMouseLeave:i},y.createElement(C.xvT,{hasEllipsis:!0,ellipsisLines:2,alignment:"left",size:"body-sm",style:{animation:"fadeInText 3s"}},e))),N=u.Z.div`
  flex-direction: column;
  align-items: stretch;
  max-width: 100%;
  column-gap: 10px;
  background-color: #f7f7f8;
  border-radius: 0 0 28px 28px;
  background-clip: padding-box;
  border: 2px solid transparent;
  padding: 0px 16px;
  ${e=>e.isNudgeSelected?"":"margin-top: 10px;"}
  transition-duration: 0.3s, 0.4s;
  transition-delay: ${e=>e.isNudgeSelected?"0.3s, 0s":"0.3s, 0.6s"};
  transition-property: height, opacity;
  height: ${e=>null===e.isNudgeSelected?"0px":!1===e.isNudgeSelected?"125px":"0px"};
  opacity: ${e=>null===e.isNudgeSelected?"0":!1===e.isNudgeSelected?"1":"0"};
  order: ${e=>e.isNudgeSelected?"1":"-1"};
`,P=({nudges:e,textAreaRef:t,setComment:n,setNudgeAndHasNudgeBeenSelected:a,hasAiNudgeBeenSelectedRef:i,commentEdited:r})=>{let{video:o}=(0,s.dPl)(),l=()=>t.current?.focus(),c=(0,y.useCallback)(e=>{if(!r&&!i.current)return()=>n(e)},[r,i,n]);(0,S.b)(()=>{a(),i.current||n("")});let d=e=>{n(e.content),a(e),l(),(0,s.jas)({event:T.zW.AI_EOVN_NUDGE_CLICKED,payload:{video_id:o?.id,prompt_version:e.prompt_version,nudge_type:e.nudge_type,source:"right panel"}})};return e&&e.length?y.createElement(N,{isNudgeSelected:i.current},y.createElement(C.LZC,{top:"medium",bottom:"small"},y.createElement(C.ggW,{gap:"8px"},y.createElement(C.xvT,{color:"#6c6684",size:"body-sm"},"Start with a suggestion from Loom AI"),y.createElement(C.TRl,{variant:"symbol",maxWidth:"12px",brand:"ai",customId:"taskHeader"}))),y.createElement(C.ggW,{gap:"10px",columns:"repeat(auto-fit, minmax(1rem, 1fr))"},e.map((e,t)=>y.createElement(A,{nudgeContent:e.content,isNudgeSelected:!!i.current,key:t,onClick:()=>d(e),onMouseEnter:c(e.content),onMouseLeave:c("")})))):null};var L=n(75793),R=n(18037);let D=({textAreaRef:e,comment:t,setComment:n})=>{let a=e.current;if(!a)return null;let i=()=>{let e=0===t.length||t.endsWith(" ")?"@":" @";n(t+e),a.focus()};return y.createElement(C.ua7,{tabIndex:-1},y.createElement(C.hU,{altText:"At Mention",icon:y.createElement(R.p,null),iconColor:"bodyDimmed",onClick:i,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),e.stopPropagation(),i())}}))};var O=n(7273),W=n(73362),V=n.p+"img/record-a-reply-tooltip-f3d9edc71eb4d7f01c47.png",F=n(9067),z=n(20076);let B=(0,z.r)(()=>n.e(6615).then(n.bind(n,66615)).then(e=>({default:e.RecordReplyButton}))),M=({compact:e,iconColor:t="body",buttonText:n="Record a Reply",source:a})=>y.createElement(y.Suspense,{fallback:y.createElement(F.R,{isDisabled:!0,compact:e,buttonText:n,iconColor:t})},y.createElement(B,{compact:e,iconColor:t,buttonText:n,source:a})),$=()=>y.createElement(O.v,{placement:"bottomRight",tooltipContent:y.createElement(O.f,{text:"Respond by recording a new Loom",altText:"Record a Reply",img:V,imgWidth:"210px"})},y.createElement(M,{compact:!0,iconColor:"bodyDimmed",source:W.b.SIDEBAR_ENTRY_POINT})),U=u.Z.div`
  display: flex;
`,Z=u.Z.div`
  width: 1px;
  margin: 10% 4px;
  background: var(--lns-color-border);
`,G=({textAreaRef:e,shouldShowSecondaryIconButtons:t,comment:n,setComment:a})=>{let i=(0,L.e)(),o=(0,r.useIsCurrentUserLoggedIn)();return y.createElement(U,null,i&&y.createElement($,null),t&&i&&o&&y.createElement(Z,null),t&&o?y.createElement(D,{textAreaRef:e,comment:n,setComment:a}):null)};var j=n(16089),H=n.n(j),Y=n(75162);let{secondsToVideoTS:q}=w,K=u.Z.div`
  transition: box-shadow 0.3s;
  ${e=>e.shouldShowErrorState?`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth) var(--lns-color-danger);
    &:hover {
      box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus)
      var(--lns-color-danger);
    }`:e.isFocused?`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus) var(--lns-color-primaryHover),
            0 0 0 var(--lns-formFieldBorderWidthFocus) var(--lns-color-focusRing);`:`box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidth) var(--lns-color-border);
          &:hover {
            box-shadow: inset 0 0 0 var(--lns-formFieldBorderWidthFocus)
            var(--lns-color-primaryHover);
          }`}

  border-radius: var(--lns-radius-250);
  ${e=>e.shouldAddBgGradient?`background: linear-gradient(to bottom, var(--lns-color-formFieldBackground) ${e.bgGradientBreakpoint}%, #f7f7f8 ${e.bgGradientBreakpoint}%);`:"background-color: var(--lns-color-formFieldBackground) !important;"}

  padding: 12px 16px;

  ${e=>e.isExpanded?"":"display: flex; justify-content: space-between;"}

  ${e=>e.isDisabled?"opacity: 0.5; pointer-events: none;":""}

  width: auto;
`,X=u.Z.div`
  display: flex;
  flex-grow: 1;
`,J=u.Z.div`
  display: flex;
  justify-content: space-between;

  ${e=>e.isExpanded?"padding-top: var(--lns-space-small);":""}
`,Q=({textAreaRef:e,comment:t,setComment:n,setNudgeAndHasNudgeBeenSelected:a,hasAiNudgeBeenSelectedRef:i,canSubmit:o,onSubmit:l,isReply:c,shouldShowLoadingState:d,shouldShowErrorState:u=!1})=>{let{video:{id:w,isOwner:T,owner:{displayName:S}}}=(0,s.dPl)(),{comments:I}=(0,E.ZS)(),{nudges:x}=(0,h.k)(),A=(0,y.useRef)(null),N=(0,_.cE)(),{currentTime:L}=(0,s.YYI)(w),R=(0,r.useCurrentUserSelector)(e=>e.avatars,[]),D=(0,r.useCurrentUserSelector)(r.selectDisplayName,void 0),O=(0,s.nn3)(w),W=(0,b.B)(R),V=(0,p.C)(),[F,z]=(0,y.useState)(V&&3>(0,k.h)(I)),[B,M]=(0,y.useState)(!1),[$,U]=(0,y.useState)(!1),[Z,j]=(0,y.useState)(!1),Q=V&&!i?.current&&F,ee=function(e){let t=(0,y.useRef)(100),n=(0,y.useMemo)(()=>H()(e=>{for(let n of e){let{borderBoxSize:e}=n;e.forEach(e=>{let n=function(e){let t=100-135/e*100;return t>30?t:100}(e.blockSize);t.current=n})}}),[]);return(0,y.useEffect)(()=>{if(e.current){let t=e.current,a=new Y.Z(n);return a.observe(t),()=>{a.unobserve(t),a.disconnect()}}},[e,n]),t.current}(A),et=(0,y.useCallback)(()=>{$||U(!0)},[$]),en=()=>{O?.pause(),z(!0),M(!0)};return(0,y.useEffect)(()=>{!Z||d||u||(z(!1),j(!1),M(!1))},[Z,d,u]),y.createElement(K,{ref:A,isExpanded:F,isFocused:B,isDisabled:!!d,onFocus:()=>{F&&!B&&en()},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||(V||M(!1),d||0!==t.length||z(!1),e?.relatedTarget?.tagName==="BUTTON"&&e.relatedTarget.click())},shouldShowErrorState:u,bgGradientBreakpoint:ee,shouldAddBgGradient:Q},y.createElement(X,null,y.createElement("div",{style:N?{}:{paddingTop:"6px"}},y.createElement(g.Z,{avatarSrc:W,name:D,avatarSize:N?f.I.FULL:f.I.SMALL})),y.createElement(v.B,{textAreaRef:e,comment:t,placeholder:T?"Leave a comment...":`Respond to ${S}...`,setComment:n,setCommentEdited:et,onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),t.length>0&&j(!0)),d&&e.preventDefault()},onFocus:en,autofocus:!1,inputSize:N?"medium":"small",showCustomPlaceHolder:!0,isSingleRow:!0,id:c?void 0:m.Iy,dataTestId:"comment-entry-field-in-sidebar",shouldIncreaseCommentInputHeight:Q})),y.createElement(J,{isExpanded:F},y.createElement(G,{textAreaRef:e,shouldShowSecondaryIconButtons:F,comment:t,setComment:n}),F&&y.createElement(C.ggW,{gap:"small"},d&&y.createElement(C.aNw,null),y.createElement(C.zxk,{variant:"primary",size:"small",disabled:!o||d,onClick:e=>{o&&(l(e),j(!0))}},d?"Posting...":`Comment at ${q(Math.round(L))}`))),F&&V?y.createElement(P,{nudges:x,textAreaRef:e,setComment:n,setNudgeAndHasNudgeBeenSelected:a,hasAiNudgeBeenSelectedRef:i,commentEdited:$}):null)};var ee=n(43781),et=n(54525),en=n(49419),ea=n(89895),ei=n(80512),er=n(6180),eo=n(25878),el=n(86336),es=n(72924),ec=n(21924);let ed="small",em=({textAreaRef:e,comment:t,placeholderText:n,setComment:a,canSubmit:r,isSubmitting:o,onSubmit:l})=>{let c=(0,s.n_$)(),[d,m]=(0,y.useState)(!1),u=(0,_.cE)(),g=u?["1fr","auto"]:"1fr",p=[y.createElement(C.zxk,{disabled:!r,onClick:e=>{l(e)},key:1,size:ed,variant:"primary",hasLoader:o,id:"comment-reaction-submit-button"},n),y.createElement(C.Avr,{key:2,onClick:()=>{c?.commentFormToggle()},size:ed},"Cancel")];return y.createElement(C.xMy,{alignment:"center"},y.createElement(C.ggW,{columns:g,gap:"small",width:"100%",maxWidth:120,alignItems:"end"},y.createElement(C.W20,{className:"flex relative"},y.createElement(v.B,{textAreaRef:e,comment:t,placeholder:n,showCustomPlaceHolder:!0,setComment:a,onKeyDown:e=>{e.keyCode!==i.K5||e.shiftKey||e.preventDefault(),d&&m(!1)},autofocus:!0,inputSize:"small",isSingleRow:!0,isInPlayer:!0,hasError:d,dataTestId:"comment-entry-field-in-player",id:"comment-entry-field-in-player"})),y.createElement(C.ggW,{gap:"small",justifyContent:"end"},u?p:p.reverse())))};var eu=n(55255);let eg=({textAreaRef:e,comment:t,placeholderText:n,setComment:a,closeReply:r,isReply:o,isFirstReply:l,canSubmit:s,onSubmit:c,shouldShowErrorState:d=!1,shouldShowLoadingState:m})=>{let u=(0,_.cE)(),g=u?"medium":"small",p=o?"Reply":n,[h,f]=(0,y.useState)(!1);return y.createElement(eu.R,{comment:t,fullSize:u,shouldShowErrorState:d,shouldShowLoadingState:m,shouldIndentLeft:o&&!l,textAreaFocused:h,TextArea:y.createElement(C.ggW,{gap:"small",autoFlow:"row",justifyContent:"stretch",minWidth:"0"},y.createElement(v.B,{textAreaRef:e,comment:t,placeholder:n,setComment:a,onKeyDown:e=>{e.keyCode!==i.K5||e.shiftKey||e.preventDefault()},onFocus:()=>{f(!0)},onBlur:()=>{t?.length===0&&r&&r(),f(!1)},autofocus:o,inputSize:g}),y.createElement(C.ggW,{justifyContent:"end",gap:"small"},m?y.createElement(C.aNw,null):null,o&&y.createElement(C.Avr,{size:g,onClick:r},"Cancel"),y.createElement(C.zxk,{onClick:c,disabled:!s,size:g,variant:"primary"},p)))})},ep=e=>!!e.trim(),{SignedOutEndOfVideoNudges:eh,SignedOutAiSidebarNudgeComments:ev}=l.ASGSource,ef=({inPlayer:e,replyTo:t,isFirstReply:n,closeReply:l,closeModal:m,isNewCommentEntryPoint:u,creationMethod:g=null})=>{let p=y.useRef(null),h=y.useRef(null),v=(0,s.n_$)(),{video:f}=(0,s.dPl)(),E=(0,r.useIsCurrentUserLoggedIn)(),[_,b]=y.useState(""),k=(0,d.Ve)(),[w,T]=y.useState(!1);y.useState(!1);let S=f.salesforceEngagementTracking,I=f.emailGateVideoType!==el.q.None,x=S||I,A=(0,ea.I0)(),N=!!t,P=N?"Leave a Reply":`Comment at ${(0,c.mr)(Math.round(v?.currentTime||0))}`,L=f?.owner?.displayName||"",R=Math.round(v?.currentTime||0),[D,O]=y.useState(void 0),W=y.useRef(null),V=ep(_)&&!w,F=()=>{T(!1),b(""),l&&l(),h.current?.blur()},{createComment:z,loading:B,error:M}=(0,ee.b)({handleOnCompleteCreateComment:F,shouldUseGlobalError:!!e}),$=e=>{T(!0),z({content:e,parentPostId:t?parseInt(t):void 0});let n=N?a.Rf6:a.jde;ec.track(n,{video_id:f.modelId,comment_length:e.length,freshPlayer:!0,comment_reply_type:"text",creation_method:N?null:g,ai_nudge_type_selected:u&&D?D.nudge_type:void 0,exact_ai_nudge_posted:u&&D?e===D?.content:void 0})},U=e=>{if(e.preventDefault(),!V)return!1;if(!E&&!x){if(!k){(0,en.r)()&&v?.toggleFullscreen(),A((0,es.lZ)(!0));let e=W.current?ev:eh;A((0,ei.h7)({modalType:o.rE.HARD_GATE_COMMENT_EMOJI_MODAL,options:{anonName:"Anonymous",comment:_,commentVideoId:f.id,creationMethod:g,gate:et.K.REACTION,header:"Add your name to this comment",hideModeSwitcher:!0,onboardingType:"modal-onboarding",parentPostId:t?parseInt(t):void 0,signupParams:{anonComment:_,anonCommentTimestamp:R,anonCommentVideoId:f.id,anonParentPostId:t?parseInt(t):void 0},source:e,subheader:`${L??"They"} sent this Loom instead of a meeting invite. Use async video to stay connected to your team while staying focused on what counts.`,tertiaryButtonIcon:eo.YO.Comment,tertiaryButtonText:"Post comment anonymously",videoOwnerName:L}})),F();return}let e=f?.platform==="slackPlayer";if(k&&!er.tq&&!e)return window.open(`/share/${f.modelId}?asg_comment=true&comment=${_}&video_time_stamp=${R}`,"_blank","noopener"),!1}$(_),m&&m()};(0,y.useEffect)(()=>{let e=p.current;e&&N&&e.scrollIntoView({block:"center"})},[p,N]);let Z=M&&!e;return y.createElement("div",{onKeyDown:e=>{e.keyCode!==i.K5||e.shiftKey||U(e),e.keyCode===i.hY&&l&&(e.nativeEvent.stopImmediatePropagation(),l())},ref:p},u?y.createElement(Q,{textAreaRef:h,comment:_,setComment:b,setNudgeAndHasNudgeBeenSelected:e=>{O(e),W.current||(W.current=!!e)},hasAiNudgeBeenSelectedRef:W,canSubmit:V,isReply:N,onSubmit:U,shouldShowErrorState:!!M,shouldShowLoadingState:B}):e?y.createElement(em,{textAreaRef:h,comment:_,setComment:b,placeholderText:P,canSubmit:V,isSubmitting:w,onSubmit:U}):y.createElement(eg,{textAreaRef:h,comment:_,setComment:b,placeholderText:P,closeReply:l,isReply:N,isFirstReply:n,canSubmit:V,onSubmit:U,shouldShowErrorState:!!M,shouldShowLoadingState:B,videoId:f.modelId}),Z?y.createElement(C.LZC,{left:N&&!n?4:"unset"},y.createElement(C.W20,{paddingX:"medium",paddingY:"small"},y.createElement(C.xvT,{size:"body-md",fontWeight:"book",color:"danger"},"We weren't able to post your comment. Please try again"))):null)}},17338:function(e,t,n){"use strict";n.d(t,{B:function(){return D}});var a=n(40754),i=n(64131),r=n(23555),o=n(57155),l=n(60152),s=n(37335),c=n(84888),d=n(5862),m=n(66420),u=n(27584),g=n(61824),p=n(75480),h=n.n(p),v=n(33740),f=n(89377),E=n(51252),_=n(33993),y=n(13891),b=n(39014);let{getContentWithParsedMentionMarkups:k}=f,C=e=>{if(!e)return!1;let t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,a=-1!==n.indexOf("hidden")||-1!==n.indexOf("visible");return t&&!a},w=e=>e&&e!==document.documentElement?C(e)?e:w(e.parentElement):document.documentElement,T=e=>y.groupedEmojis.map(t=>(0,_.S)({group:t,filterValue:e})).filter(e=>e.emojis.length>0),S=(e,t)=>{let n=k(t),a=e?.selectionEnd;return n.slice(0,a)},I=(e,t,n,a)=>{let i=S(n,e),o=i.match(/:(.*?):/g);if(o){let n=o.pop(),l=n.replaceAll(":",""),s=t(l);if(s){let t=e.replace(n,s),o=i.indexOf(n)+s.length;return(0,r.jas)({event:r.zW2.QUICK_ADD_EMOJI_USED,payload:{video_id:a,selected_emoji:l,from:"full typed name"}}),{commentWithEmoji:t,indexAfterEmoji:o}}}return{commentWithEmoji:null,indexAfterEmoji:null}},x=(e,t,n,a,i,r)=>{let o=S(t,e),l=o.match(/:([^:\s]*?)$/gm);if(l&&l.length>0){let e=l.pop(),s=o.replace(e,""),c=/\S$/.test(s?.slice(-1)),d=e&&/:[^a-zA-Z0-9]/.test(e);if(c||d){r();return}let m="";if(e&&(m=e?.replaceAll(":","").replaceAll(" ","")),n(m),""!==m)0===T(m).length?r():i();else{let e=A(t);a(e),r()}}else{let e=A(t);a(e),r()}},A=e=>{if(!e)return new DOMRect;let t=h()(e,e?.selectionEnd),{width:n,height:a,x:i,y:r}=e.getBoundingClientRect();return new DOMRect(i+t.left,r,n,a)},N=(e,t)=>{t&&e&&setTimeout(()=>{e.setSelectionRange(t,t)},0)},P=({emojiPickerIsOpen:e,closeEmojiPopup:t,searchValue:n,setComment:a,currentComment:i,textArea:o,isInPlayer:s})=>{let{getEmojiUnicodeByName:c}=(0,l.C)(),{video:d}=(0,r.dPl)(),u=d.id,g=m.useMemo(()=>(0,r.DsO)(()=>{(0,r.jas)({event:r.zW2.QUICK_ADD_EMOJI_PICKER_OPENED,payload:{video_id:u}})},500),[u]);return(0,b.b)(()=>{g()}),m.createElement(v.W20,{width:"calc(44 * var(--lns-unit, 8px))",height:"calc(40 * var(--lns-unit, 8px))",backgroundColor:"background",radius:"medium","data-lens-theme":s?"dark":void 0},m.createElement(E.EmojiPicker,{externalSearchValue:n,onClick:e=>{let l=S(o,i),s=RegExp(`:${n}$`),d=l.search(s),m=i.slice(0,d),g=i.slice(d),p=c(e),h=g.replace(`:${n}`,p);t(),a(m+h),o?.focus();let v=d+p.length;N(o,v),(0,r.jas)({event:r.zW2.QUICK_ADD_EMOJI_USED,payload:{video_id:u,selected_emoji:e,from:"picker"}})},placeUsed:"inComment",isOpen:e,shouldHideCustomizableReactionList:!0}))},L=({triggerBounds:e,emojiPickerIsOpen:t,closeEmojiPopup:n,searchValue:a,currentComment:i,setComment:r,textArea:o,isInPlayer:l})=>{let s=l?document.getElementById("container"):void 0,{layerProps:c,renderLayer:d}=(0,g.sJ)({isOpen:t,placement:"bottom-start",auto:!0,possiblePlacements:["bottom-start","bottom-end","top-start","top-end"],trigger:{getBounds:()=>e},onOutsideClick:()=>n(),container:s??void 0}),[u,p]=(0,m.useState)(),[h,v]=(0,m.useState)("");return(0,m.useEffect)(()=>{if(t){let e=w(o);v(e?.style.overflow||""),e&&(p(e),e.style.overflow="hidden")}else u&&(u.style.overflow=h)},[t,o]),m.createElement(m.Fragment,null,t&&d(m.createElement("div",{...c,style:{...c.style,zIndex:100}},m.createElement(P,{emojiPickerIsOpen:t,closeEmojiPopup:n,searchValue:a,currentComment:i,setComment:r,textArea:o,isInPlayer:l}))))},R=4,D=({textAreaRef:e,comment:t,placeholder:n,setComment:g,setCommentEdited:p,onKeyDown:h,onFocus:v,onBlur:f,autofocus:E,inputSize:_,isSingleRow:y,maxRows:b=R,isEndOfVideoNudge:k,shouldIncreaseCommentInputHeight:C=!1,hasError:w,showCustomPlaceHolder:T,id:S,isInPlayer:A,dataTestId:P})=>{let D=A||k,{video:O}=(0,r.dPl)(),W=O.id,V=new DOMRect,[F,z]=(0,m.useState)(!1),[B,M]=(0,m.useState)(V),[$,U]=(0,m.useState)(""),{getEmojiUnicodeByName:Z}=(0,l.C)(),{setCurrentSelection:G}=(0,o.mE)(),j=s.userContext.isLoggedUser,H=()=>{z(!0)},Y=()=>{z(!1),e.current?.focus()},q=t=>{let n=t?.target?.value;p?.();let{commentWithEmoji:a,indexAfterEmoji:i}=I(n,Z,e.current,W);if(a){g(a),Y(),N(e.current,i);return}x(n,e.current,U,M,H,Y),g(n)},K=(0,c.hP)(),X=(0,u.N8)(K.id);m.useEffect(()=>{let t=e.current;t&&E&&t.focus({preventScroll:!0})},[E,e]);let J=2,Q=b;k?(J=5,Q=6):y&&(J=1);let ee=e=>{let t=e.key;t===a.B7&&Y(),[a.VC,a.Hk,"ArrowDown","ArrowUp"].includes(t)&&(e.preventDefault(),e.stopPropagation(),document.getElementById("emoji-picker-external-search-focus-element").focus(),G(o.dR))},et=e=>{F&&ee(e),h&&h(e)},en=e=>{j?et(e):h?.(e)},ea="Leave a comment";return T&&(ea=n),m.createElement(m.Fragment,null,j?m.createElement(i.o,{dataTestId:P,fetch:X,forceMentionMenuAboveInput:A,hasError:w,id:S,isEndOfVideoNudge:k,onBlur:f,onChange:q,onFocus:v,onKeyDown:en,placeholder:ea,shouldHighlight:D,shouldIncreaseCommentInputHeight:C,textRef:e,value:t,singleLine:1===b}):m.createElement(d.a,{autoFocus:E,"data-testid":P,id:S,size:_,value:t,placeholder:ea,onChange:q,minRows:J,maxRows:Q,onKeyDown:en,textRef:e,hasError:w,onFocus:v,onBlur:f,shouldHighlight:D}),m.createElement(L,{triggerBounds:B,emojiPickerIsOpen:F,closeEmojiPopup:Y,searchValue:$,currentComment:t,setComment:g,textArea:e.current,isInPlayer:A}))}},44740:function(e,t,n){"use strict";n.d(t,{MH:function(){return c},WC:function(){return l},WG:function(){return i},_r:function(){return s},oj:function(){return o},vT:function(){return a},yK:function(){return r}});let a="task_accepted",i="task_discarded",r="task_edited",o="manual_task_generated",l="tasks_collapsed",s="tasks_expanded",c="viewer_acknowledged_task"},2232:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var a=n(33740);let i={SMALL:3,FULL:4,UNITLESS:4,SIZE:(0,a.u)(4)}},12932:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var a=n(67121),i=n(39556),r=n(66420);let o=a.Z.div`
  white-space: pre-wrap;
  overflow-wrap: anywhere;
  font-size: var(--lns-fontSize-medium);
  font-family: var(
    --lns-fontFamily-body,
    Circular,
    Twemoji Mozilla,
    Apple Color Emoji,
    Noto Color Emoji,
    Segoe UI Emoji,
    Segoe UI Symbol,
    Segoe UI,
    EmojiOne Color,
    Android Emoji
  );
`,l=r.memo(({comment:e})=>r.createElement(o,null,r.createElement(i.H,{comment:e,withPills:!0,useNewEmbedPlayer:!0})));l.displayName="PostBodyFreshEmbed"},21400:function(e,t,n){"use strict";n.d(t,{e:function(){return tm}});var a,i=n(67121),r=n(23555),o=n(78783),l=n(22947),s=n(58329),c=n(26998),d=n(10376),m=n(58440),u=n(66420),g=n(19267),p=n(32778);let h="20px 20px 24px 24px",v=`
  margin-left: calc(-1 * var(--lns-space-small));
  margin-right: calc(-1 * var(--lns-space-small));
  padding-left: var(--lns-space-small);
  padding-right: var(--lns-space-small);
  padding-bottom: calc(-1 * var(--lns-space-small));
`,f=`
  background-color: var(--lns-color-highlight);
  ${v}
`,E=`
  background-color: var(--lns-color-backgroundSecondary);
  ${v}
`,_=(0,p.F4)`
10% {
  background-color: none;
}
30% {
  ${f}
}
80% {
  ${f}
}
100% {
  background-color: none;
}
`,y=(0,p.F4)`
0% {
  ${f}
}

80% {
  ${f}
}

100% {
  background-color:none;
}
`,b=i.Z.div`
  &.sidebar-comment-thread-hover-auto {
    ${E}
    border-radius: ${h};
  }

  &.sidebar-comment-thread-hover-manual {
    ${f};
    border-radius: ${h};
  }

  margin-bottom: 4px;
`,k=i.Z.div({borderRadius:h,animation:`${y} 1500ms ease-in-out`}),C=i.Z.div({borderRadius:h,animation:`${_} 3000ms ease-in-out`}),w=i.Z.div(e=>e.show&&`
      &:hover {
        ${E}
        border-radius: ${h};

      }
    `),T=({children:e,shouldScroll:t,inActivitySidebar:n,onPageLoad:a,cleanupAfterHighlight:i})=>{let{sharePageSelectedComments:r,setSharePageSelectedComments:o}=(0,m.j)(),p=!!r.length||a,h=(0,g.ag)(`(max-width: ${l.U2}px)`)||!n,v=(0,c.useIsCurrentUserLoggedIn)(),f=(0,u.useCallback)(e=>{e&&t&&(e.scrollIntoView({block:p?"start":"center",behavior:"smooth"}),i&&i(e),e.addEventListener("animationend",()=>{o([])}))},[o,p,t,i]),E=(0,u.useMemo)(()=>{let e="0";if(p&&t){if(h)e=`calc(${s.v} + 16px)`;else{let t=(0,d.ny)()+16;v&&(t+=(0,d.a6)()),e=`${t}px`}}return e},[p,t,h,v]);return a?t?u.createElement(C,{ref:f,style:{scrollMarginTop:E}},e):e:u.createElement(k,{ref:f,style:{scrollMarginTop:E}},e)};var S=n(2232),I=n(7935),x=n(33740),A=n(11351);let N=()=>u.createElement("svg",{width:"253",height:"188",viewBox:"0 0 270 204",fill:"none"},u.createElement("g",{filter:"url(#filter0_d_3251_179862)"},u.createElement("rect",{x:"8.5",y:"5",width:"221",height:"103",rx:"18.5688",fill:"var(--lns-color-background)"}),u.createElement("rect",{x:"32.2583",y:"16.3792",width:"28",height:"28",rx:"14",fill:"var(--lns-color-disabledBackground)",strokeWidth:"2"}),u.createElement("rect",{x:"67.2583",y:"25.019",width:"62.6697",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"135.344",y:"25.019",width:"25.5321",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"67.2583",y:"45.1353",width:"115.82",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"67.2583",y:"62.1567",width:"137.483",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"67.2583",y:"79.178",width:"99.5719",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"9.2737",y:"5.7737",width:"219.453",height:"101.453",rx:"17.7951",stroke:"var(--lns-color-disabledBackground)",strokeWidth:"1.5474"})),u.createElement("g",{filter:"url(#filter1_d_3251_179862)"},u.createElement("rect",{x:"59.5645",y:"121.174",width:"201.936",height:"71.4434",rx:"18.5688",fill:"var(--lns-color-background)"}),u.createElement("rect",{x:"83.3228",y:"132.553",width:"28",height:"28",rx:"14",fill:"var(--lns-color-disabledBackground)",strokeWidth:"2"}),u.createElement("rect",{x:"118.323",y:"142.193",width:"62.6697",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"186.408",y:"142.193",width:"25.5321",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"118.323",y:"162.31",width:"118.419",height:"10.8318",rx:"3.0948",fill:"var(--lns-color-disabledBackground)"}),u.createElement("rect",{x:"60.3382",y:"121.948",width:"200.388",height:"69.896",rx:"17.7951",stroke:"var(--lns-color-disabledBackground)",strokeWidth:"1.5474"})),u.createElement("path",{d:"M41.769 107.635V131.232C41.769 137.642 46.965 142.838 53.3745 142.838H60.3379",stroke:"var(--lns-color-disabledBackground)",strokeWidth:"1.5474"}),u.createElement("defs",null,u.createElement("filter",{id:"filter0_d_3251_179862",x:"0.762997",y:"0.357798",width:"236.474",height:"118.474",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dy:"3.0948"}),u.createElement("feGaussianBlur",{stdDeviation:"3.8685"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3251_179862"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3251_179862",result:"shape"})),u.createElement("filter",{id:"filter1_d_3251_179862",x:"51.8275",y:"116.532",width:"217.41",height:"86.9174",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dy:"3.0948"}),u.createElement("feGaussianBlur",{stdDeviation:"3.8685"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3251_179862"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3251_179862",result:"shape"})))),P=({videoOwnerName:e})=>u.createElement(x.W20,{paddingY:"10vh",style:{textAlign:"center"}},u.createElement(N,null),u.createElement(x.LZC,{bottom:3}),u.createElement(x.xvT,{fontWeight:"bold",size:"body-lg"},"No comments… yet"),u.createElement(x.LZC,{top:1,bottom:2},u.createElement(x.xMy,{alignment:"center"},u.createElement(x.xvT,{size:"body-sm"},u.createElement(x.ggW,{gap:"xsmall"},"Hit ",u.createElement(x.W20,{backgroundColor:"tabBackground",paddingX:.5,style:{borderRadius:"4px"}},u.createElement(x.xvT,{fontWeight:"bold",size:"body-sm",color:"bodyDimmed"},"C")),` to reply to ${e}.`))))),L=()=>u.createElement(x.W20,{paddingY:"10vh",style:{textAlign:"center"}},u.createElement(N,null),u.createElement(A.i,null)),R=({inActivitySidebar:e})=>{let{video:{owner:{displayName:t}}}=(0,r.dPl)(),n=(0,c.useIsCurrentUserLoggedIn)(),a=(0,I.C)();return e?n||a?u.createElement(P,{videoOwnerName:t??""}):u.createElement(L,null):u.createElement(x.W20,{backgroundColor:"backgroundSecondary",radius:"large",paddingY:"medium",style:{textAlign:"center"}},u.createElement(x.xvT,{fontWeight:"bold"},"There aren't any comments yet."),u.createElement(x.xvT,{fontWeight:"book",color:"bodyDimmed"},"Be the first. Add a comment on the video above."))};var D=n(33444),O=n(49419);let W=i.Z.div`
  display: grid;
  justify-items: center;
  grid-template-rows: auto 1fr;
  height: 100%;
  gap: var(--elementsSpacing);
  min-width: var(--avatarSize);
  --lineSize: ${S.I.UNITLESS/2}px;
  padding-bottom: var(--elementsSpacing);
  & > div.straightLine {
    width: 1.5px;
    background: var(--lns-color-border);
    height: 100%;
    border-radius: 5px;
  }
`;var V=n(25819),F=n(54384);let z=({isCollapsed:e,onClick:t,extraRepliesCount:n})=>u.createElement(x.zxk,{icon:e?u.createElement(F._,null):u.createElement(V.c,null),iconPosition:e?"left":"right",onClick:t,size:"small",style:{border:"none",color:"var(--lns-color-bodyDimmed)"}},e?`${n} more ${Number(n)>1?"replies":"reply"}`:"Collapse replies");var B=n(55117),M=n(72931),$=n(77848),U=n.n($),Z=n(35384),G=n(18541),j=n(39014),H=n(84888);let Y=i.Z.div`
  display: grid;
  justify-items: center;
  grid-template-rows: auto 1fr;
  height: 100%;
  gap: var(--elementsSpacing);
  min-width: var(--avatarSize);
  padding-bottom: ${e=>e.singleComment?"var(--lns-space-small)":"0px"};
  --lineSize: ${S.I.UNITLESS/2}px;
  & > div.straightLine {
    width: 1.5px;
    background: var(--lns-color-border);
    height: 100%;
    border-radius: 5px 5px 0px 0px;
  }
`;var q=n(89767),K=n(40754),X=n(17338),J=n(46858),Q=n(21924),ee=n(55255),et=n(53422),en=n(34017),ea=n(65655),ei=n(94705),er=n(31671),eo=n(77673),el=n(14374),es=n(58461),ec=n(77643),ed=n.n(ec);let em="Error editing comment",eu=({comment:e,onClose:t,trackEditComment:n})=>{let a=u.useRef(null),[i,o]=(0,u.useState)(e.inFlightContent||e.content),[l,s]=(0,u.useState)(!1),d=(0,J.cE)(),m=d?"medium":"small",g=function(e,t){let{video:n}=(0,r.dPl)(),{password:a}=(0,ei.u)(),{pushError:i}=(0,er.X)(),{showErrorBar:o}=(0,ea.gV)(),[l]=(0,en.D)(ed(),{optimisticResponse:{editComment:{__typename:"editCommentPayload",success:!0}},onError:e=>{i(em),o({message:"Failed to edit comment.",severity:et.W9.ERROR}),el.error(e,{message:em,error:e},{feature:es.L0.CommentReactions})},update:(t,{data:n},{variables:a})=>{let r=n?.editComment;if(r?.success)t.modify({id:t.identify(e),fields:{content:()=>a?.content,edited:()=>!0,inFlightContent:()=>null}});else{t.modify({id:t.identify(e),fields:{inFlightContent:()=>a?.content}});let n="Failed to update comment";r?.__typename==="InvalidRequestWarning"&&(n+=`: ${r.message}`),i(em),el.error(n,{message:em},{feature:es.L0.CommentReactions})}},onCompleted:()=>{t()}});return({comment:e,newContent:t})=>{l({variables:{id:e.id,type:(0,eo.B)(e)?"REPLY":"COMMENT",videoId:n.modelId,password:a,content:t}})}}(e,n),p=()=>{Q.track(M.KVr,{user_id:e.user_id,anon_user_id:e.anon_user_id,comment_id:e.id}),t()},h=()=>{g({comment:e,newContent:i}),t()};(0,u.useEffect)(()=>{if(e.content.includes("<a>")){let t=[...new DOMParser().parseFromString(e.content,"text/html").body.childNodes].map(e=>"A"===e.nodeName?e.toString():e.textContent).join("");e.content!==t&&o(t)}},[e]);let v=(0,c.useIsCurrentUserLoggedIn)();return u.createElement(ee.R,{comment:e,fullSize:d,shouldHighlight:v,textAreaFocused:l,TextArea:u.createElement(x.ggW,{gap:"small",autoFlow:"row",justifyContent:"stretch"},u.createElement(X.B,{textAreaRef:a,comment:i,setComment:o,onKeyDown:t=>{t.keyCode!==K.K5||t.shiftKey||(t.preventDefault(),e.content.trim()!==i.trim()&&""!==i.trim()&&h()),t.keyCode===K.hY&&p()},autofocus:!0,inputSize:"small",placeholder:"",onFocus:e=>{let t=e.target,n=t.value.length;t.setSelectionRange(n,n),s(!0)},onBlur:()=>{s(!1)},hasError:null!==e.inFlightContent}),u.createElement(x.ggW,{justifyContent:"space-between"},u.createElement(x.W20,null,e.inFlightContent&&u.createElement(x.xvT,{color:"danger",fontWeight:"bold"},"Your comment was not saved. Please try again.")),u.createElement(x.ggW,{gap:"small",justifyContent:"end"},u.createElement(x.Avr,{onClick:p,size:m},"Cancel"),u.createElement(x.zxk,{onClick:h,variant:"primary",isDisabled:e.content.trim()===i.trim()||""===i.trim(),size:m},"Save"))))})};var eg=n(60152),ep=n(91210),eh=n(34418),ev=n(69386),ef=n(45373),eE=n(43781),e_=n(37894),ey=n(6180),eb=n(7910);let ek=["white_check_mark","+1","pray","heart_eyes","fire","raised_hands"],eC=["+1","pray","raised_hands"],ew=i.Z.div`
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  &:hover {
    > div {
      opacity: 1;
      pointer-events: initial;
      width: auto;
      height: auto;
      gap: var(--lns-space-small);
    }

    + .collapse-replies-btn {
      opacity: 0;
      width: 0;

      // we only want transition when appearing, and not when disappearing
      transition: none;
    }
  }
`,eT=i.Z.div`
  transition: opacity 300ms ease-in, padding 200ms;
  opacity: 0;
  height: 0;
  overflow: hidden;
  white-space: nowrap;
  width: 0;
  padding-left: var(--lns-space-small);
  font-family: 'Twemoji Mozilla', 'Apple Color Emoji', 'Noto Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'EmojiOne Color',
    'Android Emoji';
  display: inline-flex;
`,eS=i.Z.div`
  display: grid;
  grid-template-columns: auto auto 1fr;
  gap: 0;
  align-items: center;
  padding-top: var(--lns-space-xsmall);
`,eI=i.Z.div`
  --bckg-alpha: ${e=>e.inEmbed?"0.2":"0"};
  --padding: var(--elementsSpacing);
  cursor: pointer;
  align-items: center;
  border-radius: var(--lns-radius-100);
  padding: var(--padding);
  padding-right: var(--lns-space-small);
  padding-left: var(--lns-space-small);
  margin-left: calc(-1 * var(--lns-space-small));
  transition: background-color 200ms ease;
  &:hover {
    background-color: var(--lns-color-backgroundHover);
  }
`,ex=i.Z.div`
  justify-self: end;
  opacity: 1;
  width: unset;

  transition: opacity 300ms ease-in;
`,eA=({type:e,onClick:t,skinTone:n})=>{let{getEmojiUnicodeByName:a}=(0,eg.C)(),i=(0,J.cE)(),r=e;return eC.includes(e)&&(e=(0,ef.n)({type:e,skinTone:n})),u.createElement(x.hU,{altText:e,title:r,icon:u.createElement("span",null,a(e)),onClick:()=>t(e),size:i?"medium":"small"})},eN=({commentId:e,reactionPickerProp:t})=>{let{getEmojiUnicodeByName:n}=(0,eg.C)(),{createComment:a}=(0,eE.b)(),{skinTone:i}=(0,ep.I)(),{video:{id:o}}=(0,r.dPl)(),s=e=>{Q.track(M.Rf6,{video_id:o,comment_length:1,freshPlayer:!0,comment_reply_type:"emojiOnly",selected_emoji:e})},d=t=>{a({content:n(t),parentPostId:parseInt(e),extendedReaction:t})},m=e=>{s(e),d(e)},p=e=>{setTimeout(()=>{d(e)},250)},h=!!(0,O.r)(),v=(0,g.ag)(`(max-width: ${l.U2}px)`);return u.createElement(c.LoggedInOnly,null,u.createElement(ew,null,u.createElement(e_.b,{customEmojiSet:!0,reactionPickerProp:t,onClick:e=>p(e),inCommentsSidebar:!h&&!v}),ey.tq?null:u.createElement(eT,null,ek.map(e=>u.createElement(eA,{key:e,type:e,skinTone:i,onClick:m})))))},eP=({showAddReply:e})=>{let t=(0,J.cE)(),n=(0,eb.U9)(),{video:{modelId:a}}=(0,r.dPl)(),i=(0,c.useIsCurrentUserLoggedIn)(),o=(0,ev.Ve)(),l=!i&&o;return u.createElement("div",{onClick:()=>{l?window.open(`/share/${a}?asg_comment=true`,"_blank","noopener"):e()}},u.createElement(eI,{inEmbed:n},u.createElement(x.xvT,{color:"body",fontWeight:"bold",size:t?"medium":"small"},"Reply")))},eL=({commentId:e,onCollapseRepliesButtonClick:t})=>{let{video:{id:n}}=(0,r.dPl)(),{setReplyId:a,replyId:i}=(0,m.j)(),o=i===e,[l,s,c]=(0,eh.zi)({videoId:n,disabled:!0});return u.createElement(eS,null,!o&&!(0,O.s)(e)&&u.createElement(u.Fragment,null,u.createElement(eP,{showAddReply:()=>a(e)}),u.createElement(eN,{reactionPickerProp:{reactionPickerPopupOpen:l,onReactionKey:s,reactionPickerPopupRef:c},commentId:e}),t&&u.createElement(ex,{className:"collapse-replies-btn"},u.createElement(z,{isCollapsed:!1,onClick:t}))))};var eR=n(96085),eD=n(96480),eO=n(63240),eW=n(5902),eV=n(9905),eF=n(54758);let ez=()=>u.createElement(x.ggW,{gap:"xsmall",alignContent:"space-between"},u.createElement(x.JO$,{size:"1rem",color:"bodyDimmed",icon:u.createElement(eF.P,null)}),u.createElement(x.xvT,{size:"body-sm",color:"bodyDimmed"},"Only you can see this"));var eB=n(89169),eM=n(82830),e$=n(73845),eU=n(16369);let eZ=e=>e===eM.ZT,eG=({comment:e,fullSize:t})=>{let n=(0,e$.B)([e.avatar]);return e?.avatar?.thumb&&eZ(e?.avatar?.thumb)&&(n=eM.ZT),u.createElement(x.LZC,{top:1},u.createElement(eU.P,{avatarSrc:n,hasFocus:!1,name:e.user_name,profileId:e.user_id},u.createElement(eB.Z,{avatarSrc:n,name:e.user_name,avatarSize:t?S.I.FULL:S.I.SMALL})))};var ej=n(38969),eH=n(15479),eY=n(82418),eq=n(93102);let eK=({commentId:e,editButton:t,deleteButton:n,copyButton:a})=>{let i=(0,eE.t)();return u.createElement(u.Fragment,null,ey.tq||i?u.createElement(x.Ltx,{trigger:u.createElement(x.hU,{altText:"dropdown",icon:u.createElement(eY.s,null),size:"small",iconColor:"bodyDimmed"}),options:[...t.show?[{title:"Edit",icon:u.createElement(ej.b,null),onClick:t.onClick}]:[],...n.show?[{title:"Delete",icon:u.createElement(eq.z,null),onClick:n.onClick}]:[],...(0,O.s)(e)?[]:[{title:"Copy Link",icon:u.createElement(eH.w,null),onClick:a.onClick}]]}):u.createElement(x.ggW,null,t.show&&u.createElement(x.ua7,{content:"Edit",placement:"topCenter"},u.createElement(x.hU,{onClick:t.onClick,className:"hover-btn",altText:"Edit",icon:u.createElement(ej.b,null),iconColor:"bodyDimmed",size:"small"})),n.show&&u.createElement(x.ua7,{content:"Delete",placement:"topCenter"},u.createElement(x.hU,{onClick:n.onClick,className:"hover-btn",altText:"Delete",icon:u.createElement(eq.z,null),iconColor:"bodyDimmed",size:"small"})),!(0,O.s)(e)&&u.createElement(x.ua7,{content:a.isCopied?"Link copied!":"Copy link",placement:"topCenter"},u.createElement(x.hU,{onClick:a.onClick,className:"hover-btn",altText:"Copy Link",icon:u.createElement(eH.w,null),size:"small",iconColor:"bodyDimmed"}))))},eX=()=>u.createElement(x.W20,{paddingBottom:"small"},u.createElement(x.W20,{padding:"medium",radius:"medium",backgroundColor:"backgroundSecondary",maxWidth:72},u.createElement(x.ggW,{gap:"small"},u.createElement(x.JO$,{icon:u.createElement(eq.z,null),color:"bodyDimmed"}),u.createElement(x.xvT,{color:"bodyDimmed"},"This comment was deleted."))));var eJ=n(4718);let eQ=({comment:e,trackRestoreComment:t,addCommentOrReplyDeleted:n})=>{let[a,i]=u.useState(!1),r=(0,eo.B)(e)?`Deleted a comment from ${e.user_name??"someone"}.`:"Deleted a comment thread.",o=(0,eJ.rS)(e,t),{refetch:s}=(0,eJ.ZS)(),c=(0,x.GSU)([`(min-width: ${l.VC}px)`],["medium"],"small");return a?null:u.createElement(x.W20,{paddingY:"small"},u.createElement(x.W20,{paddingLeft:"medium",paddingRight:"medium",radius:"medium",backgroundColor:"backgroundSecondary",paddingY:"small",maxWidth:72},u.createElement(x.Pag,{justifyContent:"space-between"},u.createElement(x.I7m,{minWidth:"0px"},u.createElement(x.W20,{paddingRight:4},u.createElement(x.xvT,{size:c,hasEllipsis:!0,color:"bodyDimmed"},r))),u.createElement(x.I7m,null,u.createElement(x.Avr,{size:c,onClick:o},"Undo"),u.createElement(x.Avr,{size:c,onClick:()=>{i(!0),n&&n(e.id),s()}},"Dismiss")))))};var e0=n(12932),e1=n(26704);let e2=({time:e,fontSize:t,inActivitySidebar:n=!1})=>{let{setOverlayOpen:a,setTimestampClicked:i}=(0,m.j)(),o=(0,r.n_$)(),l=u.useCallback(()=>{o&&("number"==typeof e&&(o.currentTime=e),(0,O.r)()||o.play(),i(!0),a(!1))},[o,a,i,e]);return n?u.createElement(x.Avr,{size:t,onClick:l,"data-seconds":e,style:{color:"var(--lns-color-primary)",fontWeight:"var(--lns-fontWeight-book)",padding:"0px 4px"}},(0,e1.mr)(e)):u.createElement(u.Fragment,null,u.createElement(x.xvT,{size:t,color:"bodyDimmed"},"at"),u.createElement(x.xvT,{size:t,color:"bodyDimmed"},u.createElement(x.rUS,{color:"bodyDimmed",variant:"neutral",onClick:l,"data-seconds":e},(0,e1.mr)(e))))};var e3=n(16479),e5=n(47722),e4=n.n(e5),e8=((a=e8||{})[a.Edit=0]="Edit",a[a.Delete=1]="Delete",a[a.Restore=2]="Restore",a);let{formatDateToHumanReadableString:e7}=eD,e9=()=>{let e=(0,Z.xm)();return(0,j.b)(()=>{e()}),u.createElement(u.Fragment,null)},e6=e=>{let t=(0,eb.jS)(eO.cD),n=(0,eb.jS)(eO.$m),a=(0,eb.jS)(eW.pj);return""!==t?t===e:""!==n?n===e:""!==a&&a===e},te={google_meet:"Google Meet",microsoft_teams:"Microsoft Teams",webex:"Webex",zoom:"Zoom"},tt=({comment:e,videoMeetingPlatform:t,isReply:n,isEditingParentComment:a,isLastReply:i=!1,onCollapseRepliesButtonClick:o,parentId:l,setIsEditingParentComment:s,recentlyDeleted:d,addCommentOrReplyDeleted:m,lastCommentLocallyDeleted:g,setLastCommentLocallyDeleted:p,replyFieldShowing:h})=>{let v=(0,J.cE)(),f=function(e){let{video:t}=(0,r.dPl)(),n=(0,c.useCurrentUserSelector)(e=>e.id,void 0),a=t.isOwner,i=e.user_id===n,o=e?.anon_user_id===(0,e3.$e)();return a||i||o||(0,O.s)(e.id)}(e),E=function(e){let t=(0,c.useCurrentUserSelector)(e=>e.id,void 0),n=e.user_id===t,a=e?.anon_user_id===(0,e3.$e)(),{isChatMessage:i}=e,r="string"==typeof e?.extended_reaction;return!i&&!r&&(n||a)}(e),_=v?"medium":"small",{video:{id:y}}=(0,r.dPl)(),b=(0,eV.rx)(y).concat("?",n?eO.$m:eO.cD,"=",e.id),[k,C]=(0,u.useState)(!1),S=(0,H.hP)(),I=e7(e.createdAt),A=(0,eb.U9)(),N=t=>{let a,i;switch(t){case 0:a=M.JIC,i=B.Xo;break;case 1:a=M.J11,i=B.Zj;break;case 2:a=M.KGy,i=B.R9}Q.track(a,{user_id:e.user_id,anonymous_user_id:e.anon_user_id,organization_id:S.id,video_id:y,comment_id:e.id,[i]:n?"Reply":"Comment"})},P=function(e,t,n){let{password:a}=(0,ei.u)(),{pushError:i}=(0,er.X)(),{showErrorBar:r}=(0,ea.gV)(),[o]=(0,en.D)(e4(),{optimisticResponse:{deleteComment:!0},variables:{type:(0,eo.B)(e)?"REPLY":"COMMENT",id:e.id,password:a},onError:()=>{i("Error deleting comment"),r({message:"Failed to delete comment.",severity:et.W9.ERROR})},update:t=>{t.modify({id:t.identify(e),fields:{locallyDeleted:()=>!0,deletedAt:()=>new Date}}),n&&n()},onCompleted:()=>{t()}});return o}(e,()=>{N(1)},()=>{p({type:n?"reply":"comment",id:e.id})}),{deleteAutoComment:L}=(0,q.kl)();"number"==typeof e.time_stamp&&(b=b.concat("&t=",String(e.time_stamp)));let[R,D]=(0,G.Z)(b,{successDuration:2e3}),V=t?te[t]:null,F=u.useCallback(e=>e.addEventListener("animationend",()=>{(0,eb.$5)(window)(eO.$m),(0,eb.$5)(window)(eO.cD),(0,eb.$5)(window)(eW.pj),(0,eb.$5)(window)("t")}),[]),[z,$]=(0,u.useState)(!0);(0,u.useEffect)(()=>{let e=setTimeout(()=>{$(!1)},1e3);return()=>clearTimeout(e)},[]);let Z=(0,u.useMemo)(()=>e6(e.id),[e.id])&&!z,j=u.useCallback(()=>{C(!0),n||void 0===s||s(!0)},[n,s]),K=u.useCallback(()=>{C(!1),n||void 0===s||s(!1)},[n,s]);if((0,u.useEffect)(()=>{e.inFlightContent&&j()},[e.inFlightContent]),!n&&e.deletedAt&&(!e.locallyDeleted||e.locallyDeleted&&d.commentIds.includes(e.id)))return u.createElement(eX,null);if(e.locallyDeleted){let t=n&&"reply"===g.type,a=!n&&"comment"===g.type,i=(t||a)&&g.id===e.id,r="reply"===g.type?d.replyIds.includes(g.id):d.commentIds.includes(g.id),o=n?d.replyIds.includes(e.id):d.commentIds.includes(e.id);return(i||r)&&!o?u.createElement(eQ,{comment:e,trackRestoreComment:()=>N(2),addCommentOrReplyDeleted:m}):(m(e.id),null)}let X=e.children_comments,ee=!X?.length||X?.every(e=>d.replyIds.includes(e.id)),el=()=>n?!i||i&&h:ee?h:void 0;return k?u.createElement(eu,{comment:e,onClose:K,trackEditComment:()=>N(0)}):u.createElement(u.Fragment,null,u.createElement(T,{shouldScroll:Z,onPageLoad:!0,inActivitySidebar:!0,cleanupAfterHighlight:F},u.createElement(w,{show:!ey.tq},u.createElement(x.ggW,{gap:v?"medium":"xsmall",columns:["auto","1fr"],alignItems:"start"},n?u.createElement(W,null,u.createElement(eG,{comment:e,fullSize:v}),el()&&u.createElement("div",{className:"straightLine"})):ee?u.createElement(Y,{singleComment:!0},u.createElement(eG,{comment:e,fullSize:v}),el()&&u.createElement("div",{className:"straightLine"})):u.createElement(Y,{singleComment:!1},u.createElement(eG,{comment:e,fullSize:v}),u.createElement("div",{className:"straightLine",style:a?{opacity:"30%"}:{}})),u.createElement("div",{className:U()("comment-container")},u.createElement(u.Fragment,null,u.createElement(x.Pag,{justifyContent:"space-between"},u.createElement(x.I7m,null,u.createElement(x.ggW,{gap:"xsmall"},u.createElement(x.xvT,{fontWeight:"bold"},e.user_name??"Anonymous"),!n&&u.createElement(e2,{time:e.time_stamp,fontSize:_,inActivitySidebar:!0}),e.isChatMessage&&V?u.createElement(x.xvT,{size:"body-sm",color:"bodyDimmed"},"from ",V):u.createElement(x.ua7,{content:I,placement:"topCenter"},u.createElement(x.xvT,{size:_,color:"bodyDimmed"},(0,eR.S4)(e.createdAt,{showShorthand:!0}))),e.edited&&u.createElement(x.xvT,{size:_,color:"bodyDimmed"},"(edited)"))),u.createElement(x.I7m,null,u.createElement(eK,{commentId:e.id,copyButton:{isCopied:R,onClick:()=>{D()}},editButton:{show:E,onClick:j},deleteButton:{show:f,onClick:(0,O.s)(e.id)?L:P}}))),u.createElement("div",null,(0,O.s)(e.id)&&u.createElement(ez,null),u.createElement(e0.Q,{comment:e})),i?u.createElement(eL,{commentId:n&&l?l:e.id,onCollapseRepliesButtonClick:o}):null))))),!A&&Z&&u.createElement(e9,null))},tn=i.Z.div`
  display: ${e=>e.shouldHide?"none":"block"};
`,ta=i.Z.span`
  --curveSize: ${(0,x.u)(S.I.UNITLESS/2)};
  display: block;
  position: relative;
  height: var(--lineSize);
  width: ${e=>e.fullSize?"calc((50% + var(--lns-space-medium)) - var(--elementsSpacing))":"12px"};
  transform: translate(50%, calc(0.5 * var(--avatarSize)));
  &:before {
    display: block;
    position: absolute;
    content: '';
    width: 100%;
    height: var(--curveSize);
    border: var(--lineSize) solid var(--lns-color-border);
    border-top: 0;
    border-right: 0;
    border-radius: 0 0 0 calc(var(--curveSize) / 2);
    bottom: 100%;
    left: calc(-0.5 * var(--lineSize));
  }
`,ti=i.Z.div(e=>e.show&&{opacity:"30%",pointerEvents:"none"}),tr=({commentId:e,videoMeetingPlatform:t,replies:n,isEditingParentComment:a,recentlyDeleted:i,addReplyDeleted:r,lastCommentLocallyDeleted:o,setLastCommentLocallyDeleted:l,replyFieldShowing:s})=>{let c=(0,u.useMemo)(()=>a,[a]),d=(0,J.cE)(),m=n?.length&&!n.every(e=>i.replyIds.includes(e.id))?n.length:0,g=m>2,[p,h]=(0,u.useState)(!1),v=u.useCallback(()=>h(!0),[]),f=u.useCallback(()=>h(!1),[]),E=(0,u.useMemo)(()=>m<=2?{firstNReplies:n,lastFewReplies:[]}:{firstNReplies:n.slice(0,-2),lastFewReplies:n.slice(-2,m)},[n,m]),{firstNReplies:_,lastFewReplies:y}=E;return(0,u.useEffect)(()=>{g&&h(g)},[g]),m?u.createElement(ti,{show:c},g&&p&&u.createElement(z,{isCollapsed:!0,onClick:f,extraRepliesCount:n.length-2}),u.createElement(x.ggW,{gap:d?"medium":"",columns:["auto","1fr"],alignItems:"start"},u.createElement(W,{style:{gap:0}},u.createElement("div",{className:"straightLine",style:{height:"var(--lns-space-small)",borderRadius:"unset"}}),u.createElement(ta,{fullSize:d})),u.createElement(x.ggW,{autoFlow:"row",justifyContent:"stretch"},u.createElement(u.Fragment,null,_.map((n,a)=>{let c=a===m-1;return u.createElement(tn,{key:a,shouldHide:p&&g},u.createElement(tt,{videoMeetingPlatform:t,comment:n,isReply:!0,parentId:e,isLastReply:c,recentlyDeleted:i,addCommentOrReplyDeleted:r,lastCommentLocallyDeleted:o,setLastCommentLocallyDeleted:l,replyFieldShowing:s}))}),y.map((n,a)=>{let c=a===y.length-1,d=c&&!p&&g;return u.createElement(tt,{videoMeetingPlatform:t,key:a+_.length,comment:n,isReply:!0,parentId:e,isLastReply:c,onCollapseRepliesButtonClick:d?v:void 0,recentlyDeleted:i,addCommentOrReplyDeleted:r,lastCommentLocallyDeleted:o,setLastCommentLocallyDeleted:l,replyFieldShowing:s})}))))):null},to=({comment:e,videoMeetingPlatform:t,lastCommentLocallyDeleted:n,setLastCommentLocallyDeleted:a,recentlyDeleted:i,addToRecentlyDeleted:r})=>{let[o,l]=(0,u.useState)(!1),{setReplyId:s,replyId:c}=(0,m.j)(),d=c===e.id,g=e.children_comments,p=!!g.length;if(!(e.deletedAt&&p)&&i.commentIds.includes(e.id))return null;let h=!g.length||g.every(e=>i.replyIds.includes(e.id));return u.createElement(b,{id:`sidebar-comment-thread-parent-id-${e.id}`},u.createElement(tt,{comment:e,videoMeetingPlatform:t,isLastReply:h,isEditingParentComment:o,setIsEditingParentComment:l,recentlyDeleted:i,addCommentOrReplyDeleted:e=>{r("comment",e)},lastCommentLocallyDeleted:n,setLastCommentLocallyDeleted:a,replyFieldShowing:d}),u.createElement(tr,{commentId:e.id,videoMeetingPlatform:t,replies:g,isEditingParentComment:o,recentlyDeleted:i,addReplyDeleted:e=>{r("reply",e)},lastCommentLocallyDeleted:n,setLastCommentLocallyDeleted:a,replyFieldShowing:d}),d&&!(0,O.s)(e.id)&&u.createElement(D.CommentInput,{replyTo:e.id,isFirstReply:!p,closeReply:()=>s(null)}))},tl=()=>u.createElement("svg",{width:"315",height:"94",viewBox:"0 0 315 94",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{filter:"url(#filter0_d_1274_15345)"},u.createElement("rect",{x:"10.5",y:"6",width:"294",height:"74",rx:"24",fill:"white"}),u.createElement("rect",{x:"11",y:"6.5",width:"293",height:"73",rx:"23.5",stroke:"#DAD0B4",strokeOpacity:"0.2"}),u.createElement("rect",{x:"42.5",y:"22",width:"26",height:"26",rx:"13",fill:"#ECECEF"}),u.createElement("rect",{x:"76.5",y:"29.6401",width:"62.6697",height:"10.8318",rx:"3.0948",fill:"#ECECEF"}),u.createElement("rect",{x:"144.586",y:"29.6401",width:"25.5321",height:"10.8318",rx:"3.0948",fill:"#ECECEF"}),u.createElement("rect",{x:"76.5",y:"49.7563",width:"196",height:"10.8318",rx:"3.0948",fill:"#ECECEF"})),u.createElement("defs",null,u.createElement("filter",{id:"filter0_d_1274_15345",x:"0.5",y:"0",width:"314",height:"94",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dy:"4"}),u.createElement("feGaussianBlur",{stdDeviation:"5"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1274_15345"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1274_15345",result:"shape"})))),ts=()=>{let{video:e}=(0,r.dPl)(),{id:t,owner:{name:n}}=e,a=(0,r.nn3)(t);return u.createElement("div",{className:"text:center"},u.createElement(x.LZC,{top:17}),u.createElement("div",{className:"no-comment-logged-in-placeholder-with-ai-workflow_imageContainer_1gW"},u.createElement(tl,null),u.createElement("div",{className:"no-comment-logged-in-placeholder-with-ai-workflow_wavingEmojiContainer_15u"},u.createElement("span",{className:"inlineBlock text:heading-sm"},"\uD83D\uDC4B"))),u.createElement(x.xvT,{fontWeight:"bold",size:"body-lg"},"Let ",n.split(" ")[0]," know what you think"),u.createElement(x.LZC,{top:1,bottom:2},u.createElement(x.xvT,{color:"bodyDimmed"},"Share your thoughts and leave feedback.")),u.createElement(x.zxk,{variant:"primary",size:"large",onClick:()=>a?.commentFormToggle(!0)},"Write a comment"))},tc=(e,t)=>{let n=e.children_comments,a=!!(e.deletedAt&&n?.length>0),i=n?.every(e=>t.includes(e.id));return a&&!i},td=i.Z.section`
  & > * {
    padding-bottom: ${e=>e.inActivitySidebar?"0":"var(--lns-space-large) !important"};
    &:last-child {
      padding: 0;
    }
  }
  --avatarSize: ${S.I.SIZE};
  --avatarSizeSmall: var(--lns-space-large);
  --elementsSpacing: var(--lns-space-xsmall);

  padding-top: 1px;

  .comment-container {
    padding-top: var(--lns-space-small);
    padding-bottom: var(--lns-space-small);
    padding-right: var(--lns-space-small);

    .hover-btn {
      visibility: hidden;
    }
  }

  .comment-container:hover {
    .hover-btn {
      visibility: visible;
    }
  }
`,tm=({comments:e,videoMeetingPlatform:t,highlightGroup:n,showPlaceholderWhenNoComments:a,inActivitySidebar:i})=>{let[l,s]=(0,u.useState)({type:"",id:""}),[c,d]=(0,u.useState)({commentIds:[],replyIds:[]}),{video:m}=(0,r.dPl)(),{isEnabled:g}=(0,o.Z)(m),p=(e,t)=>{let n="comment"===e&&!c.commentIds.includes(t),a="reply"===e&&!c.replyIds.includes(t);n?d(e=>({commentIds:[...e.commentIds,t],replyIds:e.replyIds})):a&&d(e=>({commentIds:e.commentIds,replyIds:[...e.replyIds,t]}))},h=!e?.length||e?.every(e=>c.commentIds.includes(e.id)&&!tc(e,c.replyIds));if(a&&h)return g?u.createElement(ts,null):u.createElement(R,{inActivitySidebar:i});let v=!1;return u.createElement(td,{inActivitySidebar:i},e.map(e=>{let a=e.id,r=n.includes(a),o=r&&!v;return o&&(v=!0),r?u.createElement(T,{shouldScroll:o,inActivitySidebar:i,key:a},u.createElement(to,{videoMeetingPlatform:t,comment:e,lastCommentLocallyDeleted:l,setLastCommentLocallyDeleted:s,recentlyDeleted:c,addToRecentlyDeleted:p})):u.createElement(to,{videoMeetingPlatform:t,key:a,comment:e,lastCommentLocallyDeleted:l,setLastCommentLocallyDeleted:s,recentlyDeleted:c,addToRecentlyDeleted:p})}))}},522:function(e,t,n){"use strict";n.d(t,{B:function(){return o}});var a=n(55158);let i=(e,t)=>e.time_stamp===t.time_stamp?(0,a.Z)(new Date(e.createdAt),new Date(t.createdAt)):(e.time_stamp||0)-(t.time_stamp||0),r=e=>e.slice().sort(i),o=e=>{let t=e.map(e=>e.children_comments?{...e,children_comments:r([...e.children_comments])}:e);return r(t)}},5862:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});var a=n(77848),i=n.n(a),r=n(66420),o=n(99196);let l=e=>{let t={...e},n="small"===e.size,{shouldHighlight:a=!1,hasError:l=!1}=e,s=e.spacing||"none";return t.className=i()("autoresize-textarea_textArea_Rwt",e.className,{"autoresize-textarea_sizeSmall_3e5":n,"autoresize-textarea_sizeMedium_14j":!n,"autoresize-textarea_paddingSmall_kjc":"small"===s,"autoresize-textarea_paddingMedium_2tA":"medium"===s,"autoresize-textarea_empty_1oT":!a,"autoresize-textarea_error_1iG":l}),t.ref=e.textRef,delete t.textRef,delete t.shouldHighlight,delete t.hasError,delete t.spacing,r.createElement(o.Z,{...t})}},22941:function(e,t,n){"use strict";n.d(t,{Wp:function(){return a},ZF:function(){return I},S1:function(){return ed},YD:function(){return i},Jp:function(){return x}});let a="chaptersTextArea",i=e=>null==e||0===e.trim().length;var r=n(72931),o=n(84515),l=n(26998),s=n(94705),c=n(23555),d=n(15265),m=n(58524),u=n(3603),g=n(80489),p=n.n(g),h=n(66420),v=n(89895),f=n(96367),E=n(72924),_=n(21924),y=n(68958),b=n.n(y),k=n(85283),C=n(34017);let w={},T=(0,k.Ps)`
    mutation UpdateChapters($videoId: ID!, $content: String!, $password: String) {
  updateChapters(videoId: $videoId, content: $content, password: $password) {
    ... on VideoChapters {
      id
      video_id
      content
      schema_version
      updatedAt
      edited_at
      auto_chapter_status
    }
    ... on InvalidRequestWarning {
      message
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `,S=(0,h.createContext)(null),I=({children:e})=>{let t=(0,h.useRef)(null),{video:{currentUserCanEdit:n=!1,id:g,videoProperties:{playableDuration:y}}}=(0,c.dPl)(),{password:k}=(0,s.u)(),I=(0,v.I0)(),[x,A]=(0,h.useState)(null),N=(0,m.I)(),P=(0,l.useCurrentUserSelector)(e=>e.videoSettings?.auto_chapters!==!1,!1),L=(0,u.v)({videoId:g}),R=!!l.useCurrentUserSelector(e=>e.aiAccess,null)?.autoChapters,[D,O]=(0,h.useState)(!1),[W,V]=(0,h.useState)(!1),[F,z]=(0,h.useState)(""),[B,M]=(0,h.useState)(""),[$,U]=(0,h.useState)(!1),[Z,G]=(0,h.useState)(!1),j=!!(N&&P&&R),{data:H,loading:Y,startPolling:q,stopPolling:K}=(0,o.a)(b(),{variables:{videoId:g,password:k}}),X=Y?null:H?.fetchVideoChapters?.content??"",J=Y?null:H?.fetchVideoChapters?.auto_chapter_status??"",[Q]=function(e){let t={...w,...e};return C.D(T,t)}({variables:{videoId:g,content:F,password:k}}),ee=(0,h.useCallback)(e=>{z(e),I((0,E.Bg)(e))},[I]);(0,h.useEffect)(()=>{if(!Y&&null!==X){ee(X);let e=H?.fetchVideoChapters;e&&e.edited_at&&U(!0),!X&&n&&L&&j&&G(!0)}},[X,Y,n,G,H,J,j]),(0,h.useEffect)(()=>{if(!j)return;let e=H?.fetchVideoChapters?.edited_at,t=H?.fetchVideoChapters?.auto_chapter_status,n=L&&(t===f.hZ.NOT_STARTED||t===f.hZ.IN_PROGRESS),a=H?.fetchVideoChapters?.content;if(!L&&(e||a)){G(!1),ee(a),K();return}Y||n?q(1e3):(G(!1),ee(a),K());let i=setTimeout(()=>{G(!1),K()},35e3);return()=>{clearTimeout(i)}},[H?.fetchVideoChapters?.auto_chapter_status,Y,q,K,j,L]),(0,h.useEffect)(()=>{if(D){let e=document.getElementById(a);e?.focus();let t=e?.value?.length;e?.setSelectionRange(t,t)}},[D]),(0,h.useEffect)(()=>{W&&D&&(t?.current?.scrollIntoView({behavior:"smooth",block:"center"}),V(!1))},[D,W]);let et=(0,h.useCallback)(e=>{let t=(0,d.uV)(B,y).chapters,n=(0,d.uV)(e,y).chapters;p()(t,n)||_.track(r.FO8,{video_id:g,old_chapters_string:B,new_chapters_string:e,old_validated_chapters:t,new_validated_chapters:n,old_validated_chapters_count:t?.length||0,new_validated_chapters_count:n?.length||0,chapter_generation_method:f.g_.USER_EDITED,chapter_generation_failure_reason:null})},[B,g,y]),en=(0,h.useCallback)(e=>{ee(e),et(e)},[et,ee]),ea=(0,h.useCallback)(()=>{en(""),O(!1),Q({variables:{content:"",videoId:g,password:k}}),_.track(r.uKB,{video_id:g})},[en,Q,g,k]);(0,h.useEffect)(()=>{if(!F||0===F.length){A(null);return}let e=(0,d.uV)(F,y);A(e.error?`${e.error} Chapters will not display on the video timeline.`:null)},[F,y]);let ei=(0,h.useCallback)(()=>{en(F),Q(),O(!1),U(!0)},[F,en,Q]),er=(0,h.useCallback)(()=>{z(B),O(!1)},[B]),eo=(0,h.useCallback)(({analyticsEventName:e,scrollIntoView:t})=>{M(F),O(!0),V(!!t),_.track(e,{video_id:g})},[F,g]),el=!i(F),es=(0,h.useMemo)(()=>({autoChapterStatus:J,canEditChapters:n,cancelEditChapters:er,chapters:F,chaptersAvailable:el,chaptersInputWrapperRef:t,clearChapters:ea,editChapters:eo,errorMsg:x,fetchingChapters:Y,isAutoChaptersExpected:j,saveChapters:ei,setChapters:z,showInput:D,userEdited:$,waitingForAI:Z}),[J,n,F,Y,el,x,ea,er,eo,j,ei,D,$,Z]);return h.createElement(S.Provider,{value:es},e)},x=()=>{let e=(0,h.useContext)(S);if(!e)throw Error("useChaptersContext must be used within a ChaptersContextProvider");return e};var A=n(74583),N=n(67121),P=n(77848),L=n.n(P),R=n(69573),D=n(42089),O=n(62989),W=n(74598),V=n(81923),F=n(2191),z=n(54545),B=n(33740),M=n(79961),$=n(58461),U=n(5862),Z=n(93102);let G="Remove chapters",j=e=>{let{id:t,shouldHighlight:n,textRef:a,onCancel:i,onSave:r,onClear:o,hasError:l,...s}=e,c={...s},d={...s},m="small"===s.size,u=L()(s.className,{"autoresize-chapter-textarea_sizeSmall_2lX":m,"autoresize-chapter-textarea_sizeMedium_eNc":!m,"autoresize-chapter-textarea_empty_2_H":!n,"autoresize-chapter-textarea_hasError_3gy":l});return c.className=L()("autoresize-chapter-textarea_textArea_2jE",u),d.className=L()("autoresize-chapter-textarea_textAreaAutoChapters_duK",u),h.createElement("div",{className:c.className},h.createElement(B.ggW,{alignItems:"start",gap:"xsmall",columns:["11fr","1fr"]},h.createElement(U.a,{id:t,textRef:a,...d}),h.createElement("div",{className:"autoresize-chapter-textarea_showDeleteChapters_2UP"},h.createElement(B.ua7,{tabIndex:-1,content:G},h.createElement(B.hU,{"data-testid":"remove-chapters",altText:G,icon:h.createElement(Z.z,null),isDisabled:0===e.value.length,onClick:o})))),h.createElement(B.ggW,{gap:"small",justifyContent:"end"},h.createElement(B.Avr,{onClick:i,"data-testid":"cancel-chapters"},"Cancel"),h.createElement(B.zxk,{onClick:r,variant:"primary","data-testid":"save-chapters"},"Save")))};var H=n(31332),Y=n(61824),q=n(14374),K=n(47827),X=n(38969),J=n(67184),Q=n(1489),ee=n(80557);let et=(e,t,n,a)=>{if(0===e.length)return null;let i=e.split(`
`),o=[];for(let[e,l]of i.entries()){let i=(0,d.GV)(l,t);if(!i||"number"!=typeof t){let t=(0,ee.H3)(l,e,"pre",!0);o.push(t);continue}let s=()=>{_.track(r.p8K,{video_id:n,chapter_timestamp:i.timestamp,chapter_title:i.chapter})},c=(0,ee.Ld)(i.timestamp,i.chapter,t,s,a);o.push(c)}return o};var en={whiteSpaceBreak:"linked-chapters_whiteSpaceBreak_bUT",show:"linked-chapters_show_1K7",chaptersHover:"linked-chapters_chaptersHover_M6d",textCursor:"linked-chapters_textCursor_1MM",matchPlaceholderColor:"linked-chapters_matchPlaceholderColor_YJL",showErrorOutline:"linked-chapters_showErrorOutline_YTO",showEditChapters:"linked-chapters_showEditChapters_14t"};let ea="Edit chapters",ei=({chapters:e,onClick:t,canEdit:n,hasError:a=!1})=>{let r=(0,v.I0)(),o=i(e),[l,s]=(0,Y.XI)(),{setVideo:m,video:{complete:u=!1,currentUserCanEdit:g,id:p,videoProperties:{playableDuration:f}}}=(0,c.dPl)(),[_,y]=(0,h.useState)(e),[b,{data:k}]=(0,K.y0)({onError:e=>{e&&q.error(e,{message:"Error fetching video"},{feature:$.L0.VideoPreload})},onCompleted:()=>{let e=k?.getVideo,t=(0,H.TW)(e);m(t),r((0,E.jE)(e)),r((0,J.OK)())}}),{data:C,error:w}=(0,Q.G)({variables:{videoId:p},skip:u||!p,onData:()=>{T&&b()}}),T=C?.recordingCompleted||w?.message==="Video already completed",S=(0,c.BRl)({videoId:p});if((0,h.useEffect)(()=>{let t=e;g||t.split(" ").length>100&&(t=function(e){let t=e.split(`
`),n="",a=0;for(let[e,i]of t.entries()){e>0&&(n+=`
`);let t=(0,d.GV)(i),r=(t?.chapter??i).split(" ");if((a+=r.length)>=100){let e=a-100;r.splice(r.length-e,e);let i=t?t.timestamp+" ":"";n+=`${i}${r.join(" ").trim()}\u2026`;break}n+=i}return n}(t)),y(t)},[y,e,g]),o)return h.createElement(h.Fragment,null);let I=L()(en.whiteSpaceBreak,en.show,{[en.chaptersHover]:n,[en.textCursor]:n,[en.hintPadding]:n,[en.matchPlaceholderColor]:o&&n,[en.showErrorOutline]:a}),x=et(_,f,p,S);return x?(_!==e&&function(e,t){let n=e.pop(),a=h.createElement(B.Avr,{onClick:t,size:"small"},"See more");Array.isArray(n)?e.push([n[0],h.createElement(h.Fragment,null,n[1],a)]):e.push(h.createElement(h.Fragment,null,n,a))}(x,t=>{t.stopPropagation(),y(e)}),h.createElement("div",{className:L()(I),...s},h.createElement(B.ggW,{alignItems:"start",gap:"xsmall",columns:["11fr","1fr"]},h.createElement(B.ggW,{alignItems:"start",gap:"xsmall",columns:["max-content","1fr"]},x.map((e,t)=>{let n=Array.isArray(e)?e:["",e];return[h.createElement(B.xvT,{"data-testid":`chapter-timestamp-${t}`,key:`time_${t}`,size:"body-md",style:{textAlign:"right"}},n[0]),h.createElement(B.xvT,{"data-testid":`chapter-title-${t}`,key:`title_${t}`,size:"body-md"},n[1])]})),n&&l?h.createElement("div",{className:en.showEditChapters},h.createElement(B.ua7,{tabIndex:-1,content:ea},h.createElement(B.hU,{"data-testid":"edit-chapters",altText:ea,icon:h.createElement(X.b,null),onClick:t}))):null))):h.createElement(h.Fragment,null)};var er={autoHeight:"chapters_autoHeight_2qq",chaptersInput:"chapters_chaptersInput_19Y",hasError:"chapters_hasError_2bz",inputContainer:"chapters_inputContainer_2E5",addChaptersText:"chapters_addChaptersText_BtO"};let eo=N.Z.div`
  padding: var(--lns-space-medium);
  background: var(--lns-color-background);
  border-radius: var(--lns-radius-large);
  border: 1px solid var(--lns-color-border);
  box-shadow: var(--lns-shadow-small);
  width: 360px;
`,el=()=>h.createElement(eo,null,h.createElement(B.ggW,{gap:"xsmall",autoFlow:"row"},h.createElement(B.xvT,{color:"bodyDimmed"},"You can add chapters to any Loom by adding a list of ascending timestamps and chapter titles."),h.createElement(B.xvT,{color:"bodyDimmed"},"Chapters must start at 00:00 and be at least 5 seconds long."),h.createElement(B.rUS,{href:"https://support.loom.com/hc/en-us/articles/360018208478-How-to-add-a-summary-and-chapters-to-your-video"},"\uD83D\uDD17 More on creating chapters for your Loom"))),es=`0:00 Chapter 1
0:20 Chapter 2
0:30 Chapter 3`,ec=()=>{let[e,t]=(0,h.useState)(!1),{featureLoadedRef:n}=(0,F.kX)(),{video:i}=(0,c.dPl)(),o=i.currentUserCanEdit??!1,l=(0,R.K)(),s=(0,u.v)({videoId:i.id}),{canEditChapters:d,userEdited:m,errorMsg:g,chapters:p,fetchingChapters:v,setChapters:f,editChapters:E,saveChapters:_,cancelEditChapters:y,clearChapters:b,chaptersAvailable:k,waitingForAI:C,showInput:w,chaptersInputWrapperRef:T,isAutoChaptersExpected:S}=x();if(!o&&!p||l)return null;let I=null!==g&&o,N=null;return d&&C?N=function(){return h.createElement(h.Fragment,null,h.createElement(B.ggW,{alignItems:"start",gap:"xsmall",columns:["80px","11fr"]},h.createElement("div",null,h.createElement(B.N2B,{lines:1}),h.createElement(B.N2B,{lines:1}),h.createElement(B.N2B,{lines:1})),h.createElement("div",null,h.createElement(B.N2B,{lines:3}))),h.createElement(z.BO,{name:O.Mi.AutoChaptersLoading}))}:w&&d?N=function(){return h.createElement("div",{className:er.inputContainer},h.createElement(j,{id:a,textRef:T,placeholder:es,className:L()(er.autoHeight,er.chaptersInput,{[er.hasError]:I}),value:p||"",onChange:e=>f(e.target.value),shouldHighlight:!0,onSave:_,onCancel:y,onClear:b,hasError:I}),I?h.createElement(B.W20,null,h.createElement(B.xvT,{color:"danger"},g),h.createElement(B.LZC,null),h.createElement(B.xvT,{color:"danger",fontWeight:"bold"},"Example:"),h.createElement(B.LZC,null),h.createElement(B.xvT,{size:"body-sm",color:"danger"},"0:00 Introduction",h.createElement("br",null),"0:45 Proposed solution",h.createElement("br",null),"2:17 Action items")):null)}:k?N=function(){let e=I&&m;return h.createElement(h.Fragment,null,!m&&h.createElement(D.O,null),h.createElement("div",{"data-testid":"formatted-chapters"},h.createElement("div",{onClick:()=>E({analyticsEventName:r.wg8})},h.createElement(ei,{canEdit:d,onClick:()=>E({analyticsEventName:r.wg8}),chapters:p,hasError:e}),e?h.createElement(B.xvT,{color:"danger"},g):null)),s&&S&&h.createElement(z.BO,{name:O.Mi.AutoChapters}))}:d&&!v&&(N=function(){return h.createElement(B.W20,{paddingY:"small"},h.createElement(B.ggW,{gap:"xsmall"},h.createElement(B.xvT,{"data-testid":"add-chapters-text",size:"body-md",color:"bodyDimmed",onClick:()=>E({analyticsEventName:r.afv}),className:er.addChaptersText},"+ Add chapters")))}),h.createElement("div",{ref:n},null!==N&&h.createElement(B.ggW,{gap:"small"},h.createElement(B.xvT,{fontWeight:"bold",size:"body-lg"},A.Lg),d?h.createElement("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),style:{zIndex:e?3:0}},h.createElement(B.J2e,{isOpen:e,placement:"rightCenter",content:h.createElement(el,null)},h.createElement(B.JO$,{icon:h.createElement(M.M,null),altText:"Info",size:2,color:"bodyDimmed"}))):null),N?.())},ed=()=>h.createElement(W.$,{feature:$.L0.VideoPackaging,errorType:V.s.DEFAULT,additionalLoggingValues:{version:"chapters"}},h.createElement(ec,null))},1489:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var a=n(85283),i=n(54670);let r={},o=(0,a.Ps)`
    subscription OnRecordingCompleted($videoId: ID!) {
  recordingCompleted(id: $videoId)
}
    `;function l(e){let t={...r,...e};return i.m(o,t)}},30328:function(e,t,n){"use strict";n.d(t,{x7:function(){return s},m$:function(){return i},Gq:function(){return c}});var a=n(66420);let i=a.createContext(null);i.displayName="HighlightReplyContext";var r=n(72931),o=n(21924);let l=(0,a.createContext)(null),s=({children:e})=>{let[t,n]=(0,a.useState)(!1),i=(0,a.useCallback)((e,t)=>{n(!0),o.track(r.Uu,{video_id:e,source:t})},[]),s=(0,a.useMemo)(()=>({isDescriptionInputVisible:t,setIsDescriptionInputVisible:n,focusDescriptionInput:i}),[i,t]);return a.createElement(l.Provider,{value:s},e)},c=function(){let e=(0,a.useContext)(l);if(!e)throw Error("useDescriptionContext must be used within a DescriptionContextProvider");return e}},54182:function(e,t,n){"use strict";n.d(t,{W:function(){return V},V:function(){return F}});var a,i=n(72931),r=n(67121),o=n(89536),l=n(21844),s=n(66420),c=n(14374),d=n(15596),m=n(33740),u=n(6621),g=n(85578),p=n(21924);let h=r.Z.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
`,v=()=>s.createElement(h,null,s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"625",height:"270",viewBox:"0 0 625 270",fill:"none"},s.createElement("g",{clipPath:"url(#clip0_3609_26241)"},s.createElement("rect",{width:"625",height:"270",rx:"24",fill:"#2B1C50"}),s.createElement("g",{filter:"url(#filter0_f_3609_26241)"},s.createElement("rect",{x:"60",y:"-136",width:"440",height:"144",rx:"72",fill:"url(#paint0_linear_3609_26241)"}))),s.createElement("defs",null,s.createElement("filter",{id:"filter0_f_3609_26241",x:"-88",y:"-284",width:"736",height:"440",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),s.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),s.createElement("feGaussianBlur",{stdDeviation:"74",result:"effect1_foregroundBlur_3609_26241"})),s.createElement("linearGradient",{id:"paint0_linear_3609_26241",x1:"280",y1:"7.99998",x2:"274.607",y2:"-135.798",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#615CF5"}),s.createElement("stop",{offset:"0.557292",stopColor:"#9F92EC"}),s.createElement("stop",{offset:"1",stopColor:"#E477CC"})),s.createElement("clipPath",{id:"clip0_3609_26241"},s.createElement("rect",{width:"625",height:"270",rx:"24",fill:"white"})))));var f=n(84435),E=n(99739),_=n(84888),y=n(18807),b=((a=b||{}).WORKFLOWS_OVERVIEW="WORKFLOWS_OVERVIEW",a.WRITE_A_DOC="WRITE_A_DOC",a.CREATE_AN_ISSUE="CREATE_AN_ISSUE",a.WRITE_A_MESSAGE="WRITE_A_MESSAGE",a);let k={step:b.WORKFLOWS_OVERVIEW,title:"You record it, Loom writes it",description:"Write a document, create a bug report, or send a message. Choose what you want to create and let Loom AI get to work."},C={step:b.WRITE_A_DOC,title:"Ready-to-share documents in one click",description:"Choose from templates like SOPs, PR descriptions, and more to get work done fast.",workflowType:"document"},w={step:b.CREATE_AN_ISSUE,title:"Connect to Jira or Linear",description:"Loom AI instantly fills out the fields, so you can log your issue in no time.",workflowType:"ticket"},T={step:b.WRITE_A_MESSAGE,title:"Share your Loom with helpful context",description:"Loom AI writes you a message to share along with your video link. Copy, paste, and share!",workflowType:"message"},S=[k,C,w,T],I=e=>{let t=(0,f.q)(),n=(0,E.e)(),a=(0,_.hP)();if([y.Fs].includes(a?.type)||!t&&!n)return[];if(!e)return S;let i=S.findIndex(t=>t.workflowType===e);if(-1===i)return S;let r=[S[i],...S.slice(1,i),...S.slice(i+1)];return[S[0],...r]};var x=n(21674),A=n(89895),N=n(80512);let P=()=>{let e=(0,A.I0)(),{setActiveWorkflowType:t}=(0,x.a)();return(n,a)=>{1===a&&e((0,N.h7)({modalType:"WORKFLOWS_MODAL",options:{workflowTypeOnOpen:"document"}})),a>1&&n.workflowType&&t(n.workflowType)}},L=r.Z.div`
  background: #3d2e7c;
  opacity: 80%;
  height: 100%;
  width: 100%;
  position: absolute;
  z-index: 500;
`,R=r.Z.div`
  position: fixed;
  bottom: 40px;
  left: 40px;
  overflow: hidden;
  width: 625px;
  background: #2b1c50;
  border-radius: 30px;
  color: white;
  padding: 40px;
  z-index: 1001;
`,D=r.Z.div`
  position: relative;
  z-index: 1;
`,O=(0,s.createContext)(null),W=({tourSteps:e,step:t,handleNextStep:n,handleCloseTour:a})=>s.createElement(R,null,s.createElement(v,null),s.createElement(D,null,s.createElement(m.xvT,{size:"heading-md",fontWeight:"bold",noWrap:!0,className:"mb:medium"},e[t].title),s.createElement(m.xvT,{size:"heading-sm",color:"white",className:"mb:medium"},e[t].description),s.createElement(m.ggW,{gap:"small",columns:["50%","50%"]},s.createElement(m.ggW,{gap:"small"},s.createElement(()=>t+1<e.length?s.createElement(m.zxk,{style:{background:"white",color:"black"},size:"large",onClick:n},"Next"):null,null),t===e.length-1?s.createElement(m.zxk,{size:"large",onClick:a,style:{background:"white",color:"black"}},"Close tour"):s.createElement(m.Avr,{size:"large",style:{color:"white"},onClick:a},"Close")),s.createElement(m.xMy,{alignment:"centerRight",style:{paddingRight:"10px"}},s.createElement(m.xvT,{size:"body-lg",color:"white"},t+1,"/",e.length))))),V=({children:e})=>{let t=(0,l.st)(),n=P(),[a,r]=s.useState(!1),[m,h]=s.useState(0),[v,f]=s.useState(!0),[E,_]=s.useState(!1),[y,b]=s.useState(null),k=I(y),C=(0,o.Mr)({flag:u.wQ,activationValues:[!0]}),w=k[m],T=(0,s.useCallback)(()=>{p.track(i.k7j),(0,d.v3)("seasonal.launch.tour.closed"),t(g.BR.SEASONAL_LAUNCH_TOUR),r(!1),f(!1)},[t]),S=(0,s.useMemo)(()=>({tourStep:w,isActive:a,shouldShowTour:v,setShouldShowTour:f,handleCloseTour:T,startSeasonalLaunchTour:()=>{if(!E){if(!C){c.warning("SeasonalLaunchTour: Feature protected",{tourStepsLength:k.length});return}if(h(0),0===k.length){c.warning("SeasonalLaunchTour: No steps to show",{tourStepsLength:k.length});return}if(document.body.clientWidth<=1200){c.warning("SeasonalLaunchTour: Screen too small",{clientWidth:document.body.clientWidth});return}p.track(i.t5Z),p.track(i.gN6,{feature:w.step}),(0,d.v3)("seasonal.launch.tour.feature.shown",{feature:w.step}),r(!0),_(!0)}},onUserOpenedWorkflow:e=>{a&&(b(e),h(1))}}),[w,a,k.length,C,v,E,T]),x=e=>{let t=document.getElementsByClassName(e.step);if(0===t.length)return;let n=t[0].getBoundingClientRect().top-200,a=document.getElementById("activity-sidebar-container");a&&(a.scrollTo({top:n,behavior:"smooth"}),p.track(i.gN6,{feature:e.step}),(0,d.v3)("seasonal.launch.tour.feature.shown",{feature:e.step}))};return s.createElement(s.Fragment,null,a&&s.createElement(s.Fragment,null,s.createElement(L,null),s.createElement(W,{step:m,tourSteps:k,handleNextStep:()=>{if(m<=k.length-1){let e=m+1,t=k[e];n(t,e),h(e),x(k[e])}},handleCloseTour:T,setShouldShowTour:f})),s.createElement(O.Provider,{value:S},e))},F=function(){let e=(0,s.useContext)(O);if(!e)throw Error("useSeasonalLaunchSharePageTourContext must be used within a SeasonalLaunchSharePageTourContextProvider");return e}},37894:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var a=n(66420),i=n(20076);let r=(0,i.r)(()=>n.e(9880).then(n.bind(n,79880)).then(e=>({default:e.EmojiReactionSetAndEmojiPicker}))),o=e=>a.createElement(a.Suspense,{fallback:null},a.createElement(r,{...e}))},42089:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var a=n(66420),i=n(33740);let r=()=>a.createElement(i.xvT,{size:"body-sm",color:"bodyDimmed"},"Generated by Loom AI")},9067:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var a=n(66420),i=n(33740),r=n(58099);let o=({isDisabled:e,compact:t,buttonText:n,iconColor:o})=>{let l=(0,i.GSU)(["(min-width: 560px)"],[!0],!1)?"medium":"small";return t?a.createElement(a.Fragment,null,a.createElement(i.hU,{isDisabled:e,icon:a.createElement(r.x,null),iconColor:o})):a.createElement(i.Avr,{isDisabled:e,icon:a.createElement(r.x,null),size:l},n)}},75793:function(e,t,n){"use strict";n.d(t,{d:function(){return _},e:function(){return S}});var a=n(55117),i=n(72931),r=n(73362),o=n(26998),l=n(79839),s=n(27462),c=n(23555),d=n(43781),m=n(17132),u=n(66420),g=n(89895),p=n(80512),h=n(34698),v=n(15596),f=n(21924);let E=e=>{switch(e){case r.b.ENGAGEMENT_BAR:return a.uE;case r.b.VIDEO_END_SCREEN:return a.Q1;case r.b.SIDEBAR_ENTRY_POINT:return a.C0;default:return null}},_=e=>{let{anonUserName:t}=(0,s.P)(),n=(0,g.I0)(),a=(0,g.v9)(h.qx),r=(0,o.useIsCurrentUserLoggedIn)(),{video:{id:_}}=(0,c.dPl)(),{createComment:y}=(0,d.b)();return(0,u.useCallback)(async()=>{(await (0,m.X)().waitOnInstance()).configureButton({hooks:{onRecordingComplete:()=>{},onUploadComplete:()=>{},onInsertClicked:o=>{if(r&&a){let n=o.sharedUrl;y({content:n,addReplyId:null,anonUserName:t}),f.track(i.jde,{video_id:_,creation_method:E(e.source),comment_length:n?.length,freshPlayer:!0,video_ended:!0})}else n((0,p.h7)({modalType:l.Hk,options:{videoId:o.id,comment:o.sharedUrl,addReplyId:null}}));(0,v.v3)("recorder.insert_recording",{source:e.source,isLoggedIn:r})},onStart:()=>{f.track(i.Thw,e),(0,v.v3)("recorder.start_recording",{source:e.source,isLoggedIn:r})},onCancel:()=>{f.track(i.nnD,e),(0,v.v3)("recorder.cancel_recording",{source:e.source,isLoggedIn:r})},onComplete:()=>{f.track(i.l6n,e),(0,v.v3)("recorder.recording_complete",{source:e.source,isLoggedIn:r})}}}).openPreRecordPanel()},[t,y,n,e,a,r,_])};var y=n(94705),b=n(5309),k=n(44954),C=n(6180),w=n(62189),T=n(18807);let S=()=>{let{video:{recordReplyEnabled:e,videoWorkspacePlan:t}}=(0,c.dPl)(),n=(0,k.hP)(),{isSDKSupported:a}=(0,b.a)(),{needsPassword:i,password:r}=(0,y.u)(),o=t===T.Fs;return!!(n?.memberRole!==w.b3&&e&&a&&!o&&!C.tq&&(!i||""!==r))}},17132:function(e,t,n){"use strict";let a;n.d(t,{X:function(){return o}});var i=n(74900);let r={enablePictureInPicture:!0,productName:"loom",entryPointName:"record_a_reply"};function o(){return a||(a=new i.U(r)),a}},88281:function(e,t,n){"use strict";n.d(t,{i:function(){return d}});var a=n(71770),i=n(23555),r=n(85283),o=n(84515);let l={},s=(0,r.Ps)`
    query GetAudioVariablesEligibilityForVariablesEntryPoint($videoId: ID!) {
  determineAudioPersonalizationEligibility(videoId: $videoId) {
    ... on DetermineAudioPersonalizationEligibilityPayload {
      isEligible
      reason
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `,c=(e,t,n,a)=>{let i=!1,r="Feature unavailable on this video";return!t||n?{hasAccess:i,reason:null}:(a&&e?.determineAudioPersonalizationEligibility?.__typename==="DetermineAudioPersonalizationEligibilityPayload"&&(i=!!e.determineAudioPersonalizationEligibility.isEligible,r=e.determineAudioPersonalizationEligibility.reason),{hasAccess:i,reason:r})},d=()=>{let{video:{id:e,uploadComplete:t}}=(0,i.dPl)(),{transcriptInProgress:n,transcriptUnavailable:r}=(0,a.h7)(),{data:d}=function(e){let t={...l,...e};return o.a(s,t)}({variables:{videoId:e},skip:!t||r||n,fetchPolicy:"cache-first"});return c(d,!!t,n,!r)}},72251:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var a=n(29256);function i(e){switch(e?.metadata?.third_tier_assignment){case a.Yr.PhaseTwoAggressive:case a.Yr.PhaseTwoConservative:case a.Yr.Dec_2022PricingPackage:case a.Yr.Nov_2023PricingPackage:return!0;default:return!1}}},27974:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});let a=e=>e?.reduce((e,t)=>e+1+(t.children_comments?.length??0),0)??0},88447:function(e,t,n){"use strict";n.d(t,{Ct:function(){return h},I5:function(){return T},VS:function(){return b},Xp:function(){return y},aJ:function(){return w},rI:function(){return E},sc:function(){return v},tg:function(){return f},ue:function(){return C},vG:function(){return k},zL:function(){return _}});var a=n(93549),i=n(98090),r=n(48445),o=n(66423),l=n(90148),s=n(81679),c=n(80897),d=n(74171),m=n.n(d),u=n(70978),g=n.n(u),p=n(61709);let h=60,v=(e,t)=>{let n;let l=new Date;switch(e){case p.Nm.WEEK:{let e=(0,a.Z)(l,{weeks:t});n=`${(0,i.Z)((0,r.Z)(e),"M/d/yyyy")} - ${(0,i.Z)((0,o.Z)(e),"M/d/yyyy")}`}break;case p.Nm.MONTH:{let e=(0,a.Z)(l,{months:t});n=(0,i.Z)(e,"MMMM")}}return n},f=(e,t,n)=>{let a;let r=(0,l.Z)(t,"yyyy.M.dd",new Date),o=(0,l.Z)(n,"yyyy.M.dd",new Date);switch(e){case p.Nm.MONTH:a=`${(0,i.Z)(r,"LLLL d")} \u2013 ${(0,i.Z)(o,"LLLL d")}`;break;case p.Nm.WEEK:a=(0,i.Z)(r,"LLLL d, yyyy")}return a},E=(e,t)=>{let n;switch(e){case p.Nm.MONTH:n=(0,i.Z)((0,l.Z)(t,"yyyy.MM.dd",new Date),"M/d");break;case p.Nm.WEEK:n=(0,i.Z)((0,l.Z)(t,"yyyy.MM.dd",new Date),"EEEEEE")}return n},_=(e,t)=>{let n;switch(e){case p.Nm.MONTH:n=`Week of ${(0,i.Z)((0,l.Z)(t,"yyyy.M.dd",new Date),"M/d")} was a highlight.`;break;case p.Nm.WEEK:n=`${(0,i.Z)((0,l.Z)(t,"yyyy.M.dd",new Date),"eeee")} was your most async day.`}return n},y=e=>{let t=[];return Object.keys(p.Wx).forEach(n=>{e?.[n]?.isValid&&(t=t.concat(e?.[n]?.videoList))}),t=m()(t,t.length)},b=(e,t)=>{let n;switch(e?.type){case p.Wx?.INFLUENTIAL:n=`Your video helped ${g()("person",e?.totalUniqueViews,!0)}  stay in sync.`;break;case p.Wx?.OLD_GEM:n="Here’s an old video that’s getting value.";break;case p.Wx?.ONE_ON_ONE_LOOP:n=`Here are ${t?.toString()} ways you helped your team.`;break;case p.Wx?.SINGLE_VIDEO:n="Time to celebrate your first view!";break;default:n=""}return n},k=e=>{let t;switch(e?.type){case p.Wx?.INFLUENTIAL:{let n=w({videoViews:e?.totalViews,videoDuration:e?.videoDuration}),a=T({secondsSaved:n});t=a?`${a} saved`:""}break;case p.Wx?.OLD_GEM:case p.Wx?.ONE_ON_ONE_LOOP:case p.Wx?.SINGLE_VIDEO:t=`${(0,s.Z)(new Date(e?.createdDate*1e3))} ago`;break;default:t=""}return t},C=(e,t)=>{let n;let i=new Date;switch(e){case p.Nm.WEEK:{let e=(0,a.Z)(i,{weeks:t});n=(0,r.Z)(e)}break;case p.Nm.MONTH:{let e=(0,a.Z)(i,{months:t});n=(0,c.Z)(e)}}return n},w=({videoViews:e,videoDuration:t})=>e&&t?(e-1)*t:0,T=({secondsSaved:e})=>{let t=Math.round(e/h),n=Math.min(Math.round(e/(60*h)),80);return t?t<60?`${t} ${g()("minute",t)}`:`${n} ${g()("hour",n)}`:""}},80557:function(e,t,n){"use strict";n.d(t,{TT:function(){return h},Ld:function(){return _},Xu:function(){return E},H3:function(){return v}});var a=n(55117),i=n(72931),r=n(77848),o=n.n(r),l=n(66420),s=n(76724),c=n.n(s),d=n(7910),m=n(33740),u=n(96480),g=n(21924),p={contents:"timestamps_contents_2xW",tabular:"timestamps_tabular_kaX"};let h=(e,t)=>{let n;let a=/\d{0,2}:\d{1,2}:\d{2}|\d{1,2}:\d{2}/g,i=[];for(;null!==(n=a.exec(e));){let e=(0,u.Vy)(n[0]);null!=e&&e<=t&&i.push({time:e,endIndex:a.lastIndex,literal:n[0]})}return i},v=(e,t,n,a=!1)=>{let i=c()({apostrophes:!0,strict:!0,re2:!1}).exec(e);if(null==i)return l.createElement("span",{key:`${t}-${n}`},a?e.trimStart():e);let r=i[0];return l.createElement("div",{"data-testid":"replace-url-wrapper",className:p.contents,key:`link-${t}`},l.createElement("span",null,e.substring(0,i.index)),f(r),v(e.substring(i.index+r.length),t+i.index,n))},f=e=>{let[t,n]=(0,d.QQ)(e),a=/^www/.test(t)?`//${t}`:t;return l.createElement(l.Fragment,null,l.createElement(m.rUS,{target:"_blank",onClick:e=>e.stopPropagation(),variant:"neutral",href:a},t),n)},E=(e,t,n)=>{let r=[],s=0;e.forEach(e=>{let c=v(t.substring(s,e.endIndex-e.literal.length),s,"pre"),d=l.createElement(m.rUS,{key:s,variant:"neutral",className:o()(a.j4,p.tabular),onClick:t=>{g.track(i.nmk),t.preventDefault(),t.stopPropagation(),n(e.time)},"data-seconds":e.time},e.literal);r.push(c),r.push(d),s=e.endIndex});let c=v(t.substring(s),s,"post");return r.push(c),r},_=(e,t,n,i,r)=>{let s=(0,u.Vy)(e);if(null===s)return[l.createElement(l.Fragment,null),l.createElement(l.Fragment,null)];let c=e=>{e.preventDefault(),e.stopPropagation(),r(s),i&&i()},d=s<=n,g=l.createElement(m.rUS,{style:{textDecoration:"none"},key:e,variant:d?"primary":"neutral",className:o()(a.j4,p.tabular),onClick:e=>{d&&c(e)},"data-seconds":s,href:`?t=${s}`},e),h=v(t,0,"pre",!0);return[g,h]}},57576:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getInsightsValueForTimeframes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateRangeType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"interval"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getInsightsValueForTimeframes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dateRangeType"},value:{kind:"Variable",name:{kind:"Name",value:"dateRangeType"}}},{kind:"Argument",name:{kind:"Name",value:"interval"},value:{kind:"Variable",name:{kind:"Name",value:"interval"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InsightsForTimeframes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoView"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:264}};t.loc.source={body:"query getInsightsValueForTimeframes($dateRangeType: String!, $interval: Int!) {\n  getInsightsValueForTimeframes(\n    dateRangeType: $dateRangeType\n    interval: $interval\n  ) {\n    ... on InsightsForTimeframes {\n      owner {\n        videoView\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.getInsightsValueForTimeframes=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(t){var n=a(e,t);n&&i.definitions.push(n)}),i}(t,"getInsightsValueForTimeframes")},77643:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublicVideoCommentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mentions"}},type:{kind:"NamedType",name:{kind:"Name",value:"VideoCommentContentMentionsInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}},{kind:"Argument",name:{kind:"Name",value:"content"},value:{kind:"Variable",name:{kind:"Name",value:"content"}}},{kind:"Argument",name:{kind:"Name",value:"mentions"},value:{kind:"Variable",name:{kind:"Name",value:"mentions"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"editCommentPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InvalidRequestWarning"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:472}};t.loc.source={body:"mutation EditComment(\n  $id: ID!\n  $type: PublicVideoCommentType!\n  $videoId: ID!\n  $password: String\n  $content: String!\n  $mentions: VideoCommentContentMentionsInput\n) {\n  editComment(\n    id: $id\n    type: $type\n    videoId: $videoId\n    password: $password\n    content: $content\n    mentions: $mentions\n  ) {\n    ... on editCommentPayload {\n      success\n    }\n    ... on InvalidRequestWarning {\n      message\n    }\n    ... on GenericError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.EditComment=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(t){var n=a(e,t);n&&i.definitions.push(n)}),i}(t,"EditComment")},47722:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteVideoComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublicVideoCommentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[]}]}}],loc:{start:0,end:158}};t.loc.source={body:"mutation DeleteVideoComment(\n  $id: ID!\n  $type: PublicVideoCommentType!\n  $password: String\n) {\n  deleteComment(id: $id, type: $type, password: $password)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.DeleteVideoComment=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(t){var n=a(e,t);n&&i.definitions.push(n)}),i}(t,"DeleteVideoComment")},68958:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchChapters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fetchVideoChapters"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoChapters"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schema_version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"auto_chapter_status"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmptyChaptersPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InvalidRequestWarning"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:423}};t.loc.source={body:"query FetchChapters($videoId: ID!, $password: String) {\n  fetchVideoChapters(videoId: $videoId, password: $password) {\n    ... on VideoChapters {\n      id\n      video_id\n      content\n      schema_version\n      updatedAt\n      edited_at\n      auto_chapter_status\n    }\n    ... on EmptyChaptersPayload {\n      content\n    }\n    ... on InvalidRequestWarning {\n      message\n    }\n    ... on Error {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.FetchChapters=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(t){var n=a(e,t);n&&i.definitions.push(n)}),i}(t,"FetchChapters")},72232:function(e,t){"use strict";t.Z={sticky:"viewer-insights_sticky_L4M",viewerInfo:"viewer-insights_viewerInfo_1-t",viewsMetadata:"viewer-insights_viewsMetadata_3ii",card:"viewer-insights_card_3BS",partial:"viewer-insights_partial_3iq",disabled:"viewer-insights_disabled_3c9",slideableContainer:"viewer-insights_slideableContainer_6xP",slideable:"viewer-insights_slideable_2w3",detailsHeader:"viewer-insights_detailsHeader_2Wj",eventItem:"viewer-insights_eventItem_3P7",isClickable:"viewer-insights_isClickable_zTp",infoLink:"viewer-insights_infoLink_24m",infoIcon:"viewer-insights_infoIcon_1tN",containerBox:"viewer-insights_containerBox_29m",shrinked:"viewer-insights_shrinked_2rL",emoji:"viewer-insights_emoji_GVM",viewers:"viewer-insights_viewers_3Nx"}}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/3061-16397255f66edcfae8f0.js.map